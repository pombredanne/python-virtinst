2010-03-23  Cole Robinson  <crobinso@redhat.com>

	* virtinst/VirtualWatchdog.py:
	VirtualWatchdog: Better handle unexpected action type
	[dde964594888] [tip]

	* man/en/virt-install.pod.in, tests/clitest.py, virt-install,
	virtinst/Seclabel.py:
	virt-install: Add --security option for specifying <seclabel> XML
	[f2310407fadc]

	* virt-install:
	virt-install: Enable all devices for non-HVM

	While things like sound devs and watchdogs are HVM only, encoding
	this info into virt-install is kind of useless: having these devices
	in the XML is misleading, but not harmful. This will save bug
	reports like 'hey why doesn't --soundhw work for PV'
	[239d00a076d6]

	* virtinst/PXEInstaller.py:
	PXEInstaller: Fix a TODO item
	[031b206cf871]

	* man/en/virt-install.pod.in, tests/clitest.py, virt-install,
	virtinst/cli.py:
	virt-install: Add more flexible --soundhw option, deprecate --sound
	[b810c30160b3]

	* man/en/virt-install.pod.in, virt-install:
	virt-install: Reorganize --help and man page option listing
	[485c276bc69d]

2010-03-23  Jiri Denemark  <jdenemar@redhat.com>

	* virtinst/VirtualDisk.py:
	VirtualDisk: Use O_DSYNC when allocating storage

	Otherwise xen can get racy on some machines since the page cache is
	full
	[8943e9ebd4d2]

2010-03-22  Cole Robinson  <crobinso@redhat.com>

	* tests/capabilities-xml/libvirt-0.7.6-qemu-caps.xml,
	tests/capabilities.py, virtinst/CapabilitiesParser.py:
	CapabilitiesParser: Break out CPU into its own class
	[c7852c45007a]

	* man/en/virt-clone.1, man/en/virt-install.1, man/en/virt-
	install.pod.in, tests/clitest.py, tests/xmlconfig-xml/boot-many-
	devices.xml, tests/xmlconfig.py, virt-install,
	virtinst/VirtualDevice.py, virtinst/VirtualWatchdog.py,
	virtinst/__init__.py:
	virt-install: Add --watchdog support
	[d99785145f5e]

	* virtinst/Guest.py:
	Remove now-dead code
	[12f97f825d66]

	* virtinst/Guest.py:
	Guest: Refactor device building to be a bit safer
	[c783c6a46a40]

	* tests/xmlconfig-xml/boot-many-devices.xml, tests/xmlconfig.py,
	virtinst/VirtualController.py, virtinst/VirtualDevice.py,
	virtinst/__init__.py:
	Add VirtualControll module
	[6196436742fc]

	* virtinst/VirtualDisk.py:
	VirtualDisk: Fix use of conn in is_conflict_disk
	[409e12593983]

	* virtinst/Guest.py:
	Guest: Stub out <cpu> XML building, refactor a bit
	[7e12751d7521]

2010-03-22  mvdz  <mvdz@fedoraproject.org>

	* po/uk.po:
	l10n: Added Ukrainian translation

	Transmitted-via: Transifex (translate.fedoraproject.org)
	[e3d3f31c2314]

2010-03-19  Cole Robinson  <crobinso@redhat.com>

	* tests/clitest.py, virtinst/Guest.py:
	Fix windows installs, add a test to prevent regression
	[241a387c9bc7]

2010-03-17  Cole Robinson  <crobinso@redhat.com>

	* tests/testdriver.xml, tests/validation.py:
	tests: Add inactive pool VirtualDisk validation
	[1206822d2ef3]

	* tests/testdriver.xml:
	Fix test driver to work with latest libvirt
	[e71403154609]

	* virtinst/VirtualDisk.py:
	VirtualDisk: No op refactor of storage lookup code
	[2237f1d84261]

2010-03-04  Marc Deslauriers  <marc.deslauriers@ubuntu.com>

	* virtinst/keytable.py:
	keytable: Add 'ca' mapping
	[d7b354eef058]

2010-03-03  Cole Robinson  <crobinso@redhat.com>

	* virtinst/VirtualDisk.py:
	VirtualDisk: Add helper function stat_local_path
	[b866a69f59ae]

	* virtinst/VirtualDisk.py:
	VirtualDisk: Add static path_in_use_by function
	[a0cb48ed7bfd]

2010-03-01  Cole Robinson  <crobinso@redhat.com>

	* virtinst/__init__.py:
	Revert debugging change used in previous commit
	[79371fd73f9c]

	* virtinst/__init__.py, virtinst/cli.py:
	Hopefully fix unicode locale use once and for all!
	[4cc206766cce]

	* virt-clone, virt-convert, virt-image, virt-install, virtinst/cli.py:
	Move some common code into cli.py
	[3eae7ab7e457]

	* virt-install:
	Revert inadvertent change.
	[c49ba925d158]

2010-03-01  Michael Scherer  <misc@zarb.org>

	* virt-install, virtinst/osdict.py:
	osdict: Add some mandriva distro options
	[0b6e0ee55b4b]

2010-03-01  Cole Robinson  <crobinso@redhat.com>

	* virtinst/cli.py:
	Clean up virt-* --help formatting.
	[ea001987710b]

	* virt-clone, virtinst/cli.py:
	virt-clone: Better error message if not enough --file passed
	[9cca9e335962]

	* tests/clitest.py, virtinst/CloneManager.py:
	testcli: Test cloning with --preserve and read only images
	[dd46c7c67354]

	* tests/cli-test-xml/clone-disk-noexist.xml, virtinst/CloneManager.py:
	virt-clone: Handle interfaces without mac addresses

	This can come up using --original-xml
	[6ad24daf76ca]

	* tests/cli-test-xml/clone-disk-noexist.xml, tests/clitest.py,
	virtinst/CloneManager.py, virtinst/_util.py:
	virt-clone: Fix --preserve-data with non-existent disks

	Useful for using an XML file template, but not doing storage
	cloning.
	[b039ba64b818]

	* virtinst/VirtualDisk.py:
	VirtualDisk: Add a 'validate' property, which tells us to skip
	validation.
	[252cfac9e681]

	* man/en/virt-clone.pod, virt-clone:
	virt-clone: Improve doc for --preserve-data
	[9fb018a78a97]

2010-02-28  Cole Robinson  <crobinso@redhat.com>

	* virt-install, virtinst/Guest.py:
	Guest: Move some virt-install logic into Guest class
	[a35e45be3572]

	* virtinst/Guest.py:
	Guest: Largely combine the start_install/continue_install logic
	[3cf7c6919c20]

	* virt-install:
	virt-install: Combine 2 diagnostic messages
	[798826d437e7]

	* tests/xmlconfig-xml/winxp-kvm-stage2.xml, tests/xmlconfig-xml/winxp-
	kvm-stage3.xml, tests/xmlconfig.py:
	tests: xmlconfig: Make sure continue install test functions properly
	[eb6bd195d19d]

	* virtinst/Guest.py:
	Guest: Factor out some duplicate install routines
	[ed46cf3b42c1]

	* virtinst/Guest.py:
	Guest: Break out some start_install functionality for readability
	[6b01a52fea6e]

	* tests/interface.py, tests/validation.py, virtinst/Interface.py:
	Fix some pylint
	[1933a7c2dd18]

	* virtinst/Guest.py:
	Guest: Reorganize some code placement and add some documentation
	[6b7c631a3350]

2010-02-27  Cole Robinson  <crobinso@redhat.com>

	* tests/xmlconfig-xml/winxp-kvm-stage1.xml, tests/xmlconfig-xml/winxp-
	kvm-stage2.xml, tests/xmlconfig-xml/winxp-kvm-stage3.xml,
	tests/xmlconfig.py:
	tests: xmlconfig: Make sure we test all phases of a windows install
	[13d8f6a7b0c3]

	* tests/validation.py:
	Fix a test error.
	[ecb17ad55f79]

	* virtinst/Guest.py:
	Guest: Use default arguments for continue_install
	[a6fdf0146d09]

2010-02-26  Cole Robinson  <crobinso@redhat.com>

	* virtinst/Storage.py:
	clone: Show storage progress capped at capacity, rather than
	allocation.
	[cb28868d9213]

	* tests/interface-xml/test-ethernet-copy-proto.xml,
	tests/interface.py, virtinst/Interface.py:
	Interface: Allow passing in a chunk of protocol XML

	This allows users to easily copy a protocol chunk from an existing
	interface.
	[aaa7c90ac600]

	* virtinst/support.py:
	support: Add checks for DOMAIN_XML flags
	[3fc3bcdcf45a]

2010-02-23  Cole Robinson  <crobinso@redhat.com>

	* virtinst/Storage.py:
	Storage: Don't error if asked about unknown pool type
	[5f0c99d904b1]

	* tests/xmlconfig-xml/install-f11-ac97.xml, tests/xmlconfig-
	xml/install-f11-noac97.xml:
	Actually add intended test files.
	[2f72dc2de7d9]

	* tests/urltest.py:
	urltest: Use FullVirtGuest to avoid error
	[cd04b97517e9]

2010-02-17  Cole Robinson  <crobinso@redhat.com>

	* tests/xmlconfig-xml/install-windowsxp-kvm.xml, tests/xmlconfig.py,
	virtinst/Guest.py, virtinst/osdict.py:
	Default to 'vga' video model for windows guests.
	[07fa54fea9d5]

	* tests/xmlconfig-xml/boot-many-devices.xml, tests/xmlconfig-xml
	/install-windowsxp-kvm.xml, tests/xmlconfig.py, virt-image, virt-
	install, virtinst/VirtualVideoDevice.py, virtinst/cli.py:
	virt-install: Auto add a <video> device if graphics are specified
	[20c49ae86e9f]

	* man/en/virt-install.pod.in, tests/xmlconfig.py, virtinst/osdict.py:
	Use the AC97 sound model by default (if hypervisor supports it).
	[8162633af36b]

	* virtinst/osdict.py, virtinst/support.py:
	osdict: Use 'support' module for all heavy lifting
	[226e2e78aed1]

	* tests/xmlconfig-xml/boot-windowsxp-kvm.xml, tests/xmlconfig-
	xml/install-f10.xml, tests/xmlconfig-xml/install-f11-qemu.xml, tests
	/xmlconfig-xml/install-f11.xml, tests/xmlconfig-xml/install-
	windowsxp-kvm.xml, tests/xmlconfig.py:
	tests: xmlconfig: Add better qemu and kvm XML testing
	[558d58173fbe]

	* virtinst/VirtualDisk.py:
	VirtualDisk: Don't list 'driver' section is disk is empty
	[7f73ca35abcd]

	* tests/xmlconfig-xml/boot-many-sounds.xml, tests/xmlconfig-xml
	/install-windowsxp-kvm.xml, tests/xmlconfig-xml/install-windowsxp-
	xennew.xml, tests/xmlconfig-xml/install-windowsxp-xenold.xml,
	tests/xmlconfig.py, virtinst/Guest.py, virtinst/VirtualAudio.py,
	virtinst/cli.py, virtinst/osdict.py:
	osdict: Allow setting a preferred sound device model

	Have VirtualAudio no default to model = MODEL_DEFAULT, which can be
	overridden by Guest.
	[b6655d9d2648]

	* virtinst/FullVirtGuest.py, virtinst/osdict.py:
	osdict: Use VirtualDevice types as device param keys
	[cdf0183c7c04]

2010-02-16  Cole Robinson  <crobinso@redhat.com>

	* tests/clitest.py, virt-install:
	virt-install: Sanitize i.86 -> i686
	[2bc50993e225]

	* virtinst/Interface.py, virtinst/Storage.py,
	virtinst/VirtualCharDevice.py:
	Prefer use of local xml_escape over saxutils

	Ours actually escapes single quotes.
	[e29f2fd9b3f9]

	* tests/clitest.py:
	tests: Add name collision CLI test
	[2be871be8d95]

2010-02-15  Cole Robinson  <crobinso@redhat.com>

	* tests/clitest.py, virt-image, virtinst/Guest.py:
	virt-image: Fix --replace
	[2124b339253f]

	* tests/clitest.py, tests/testdriver.xml, virtinst/VirtualDisk.py:
	VirtualDisk: Don't warn about collisions for shareable disks
	[7a550b1accf0]

	* virtconv/__init__.py:
	virtconf: Add ovf to parsers list.
	[9ce77a734d82]

	* virtinst/VirtualDisk.py:
	VirtualDisk: Don't bomb if getfacl isn't available
	[e5350e422918]

	* autobuild.sh:
	autobuild: Remove coverage specific files

	We now use the system installed coverage rather than a locally
	stored one, so drop these files.
	[53c60b45ccf5]

2010-02-10  Cole Robinson  <crobinso@redhat.com>

	* tests/capabilities-xml/libvirt-0.7.6-qemu-no-kvmcaps.xml,
	tests/capabilities.py, virtinst/CapabilitiesParser.py:
	Capabilities: Add a xenner util func
	[ae6ca033e8c5]

	* tests/capabilities-xml/empty-caps.xml, tests/capabilities-
	xml/rhel5.4-kvm-caps.xml, tests/capabilities-xml/rhel5.4-xen-caps-
	virt-disabled.xml, tests/capabilities-xml/rhel5.4-xen-caps-virt-
	enabled.xml, tests/capabilities.py, virtinst/CapabilitiesParser.py:
	CapabilitiesParser: Add various utility functions for detecting HVM
	[8749718b7afe]

	* tests/capabilities-xml/empty-caps.xml, tests/capabilities-
	xml/libvirt-0.7.6-qemu-caps.xml, tests/capabilities-xml/rhel5.4-xen-
	caps-virt-disabled.xml, tests/capabilities-xml/rhel5.4-xen-caps.xml,
	tests/capabilities.py, virtinst/CapabilitiesParser.py:
	capabilities: Learn to parse new style CPU caps
	[096b2bcc1460]

	* man/en/virt-install.pod.in, tests/clitest.py, tests/xmlconfig-xml
	/boot-many-devices.xml, tests/xmlconfig.py, virt-install,
	virtinst/Guest.py:
	virt-install: Add --description option

	This sets the <description> field in the guest XML.
	[7f0b8d435886]

2010-02-09  raven  <raven@fedoraproject.org>

	* po/pl.po:
	Sending translation for Polish
	[76d3d96bcd53]

2010-02-09  logan  <logan@fedoraproject.org>

	* po/es.po:
	Sending translation for Spanish
	[4622509f6f6d]

2010-02-08  Cole Robinson  <crobinso@redhat.com>

	* .hgtags:
	Added tag virtinst-0_500_2 for changeset a703a003f903
	[4895e2ed852f]

	* .hgtags, ChangeLog, NEWS, po/es.po, po/fr.po, po/it.po, po/ja.po,
	po/pl.po, po/pt_BR.po, po/ru.po, po/sr.po, po/sr@latin.po,
	po/virtinst.pot, po/zh_CN.po, python-virtinst.spec.in,
	virtinst/version.py:
	Prep for release.
	[a703a003f903] [virtinst-0_500_2]

	* man/en/virt-install.1, man/en/virt-install.pod.in, tests/clitest.py,
	tests/testdriver.xml, virtinst/NodeDeviceParser.py,
	virtinst/VirtualHostDevice.py:
	virt-install: Allow specifying --host-device by lsusb, lspci output
	[612458530e0b]

	* tests/clitest.py, tests/xmlconfig-xml/boot-many-devices.xml,
	tests/xmlconfig.py, virtinst/VirtualDisk.py:
	VirtualDisk: Support floppy 'dir' mode (fat:floppy for qemu)
	[75b1cda38391]

	* virtinst/util.py:
	util: Don't limit random mac addr range

	This function was originally taken from xen, which limited the range
	to reserve some MAC addresses for possible internal testing. Doesn't
	seem like it was ever leveraged in practice, and libvirt doesn't
	limit mac generation in a similar way, so just drop it.
	[7589271169e6]

	* tests/clitest.py, virtinst/VirtualDisk.py:
	VirtualDisk: Qemu can actually support more than 2 IDE cdroms
	[5da35bd803ae]

	* tests/pylint-virtinst.sh, virtinst/ImageInstaller.py,
	virtinst/VirtualDevice.py:
	Fix up some pylint.
	[dbca294be688]

	* tests/__init__.py, tests/clitest.py, tests/interface-xml/test-bond-
	arp.xml, tests/interface-xml/test-bond-mii.xml, tests/interface-xml
	/test-bond.xml, tests/interface-xml/test-bridge-ip.xml, tests
	/interface-xml/test-bridge.xml, tests/interface-xml/test-ethernet-
	params.xml, tests/interface-xml/test-ethernet.xml, tests/interface-
	xml/test-vlan.xml, tests/interface.py, tests/testdriver.xml,
	tests/validation.py, virtinst/Interface.py, virtinst/__init__.py,
	virtinst/_util.py, virtinst/support.py:
	Add Interface module for building libvirt interface XML
	[0d47513dd988]

2010-01-12  Cole Robinson  <crobinso@redhat.com>

	* tests/__init__.py, tests/virtconv-test.py, tests/virtconvtest.py:
	tests: Rename virtconv-test to virtconvtest for easier importing
	[f55dec280887]

2010-01-27  Cole Robinson  <crobinso@redhat.com>

	* tests/pylint-virtinst.sh:
	Fix an error detecting pylint features
	[23043312eb89]

2010-01-15  Cole Robinson  <crobinso@redhat.com>

	* virt-clone:
	virt-clone: Priviledge checks should happen after conn opening

	Otherwise we don't know what the real default URI will be.
	[29455af5909e]

2010-02-08  Cole Robinson  <crobinso@redhat.com>

	* tests/clonetest.py, virtinst/VirtualNetworkInterface.py,
	virtinst/_util.py:
	util: Break out helper for mac address validation
	[e86d3af3a89a]

2010-02-07  Cole Robinson  <crobinso@redhat.com>

	* tests/xmlconfig-xml/install-f11-xen.xml, tests/xmlconfig-
	xml/install-f11.xml, virtinst/VirtualDisk.py:
	VirtualDisk: If path is overwritten, invalidate cached storage
	objects.
	[64a7138a203c]

2010-02-06  Cole Robinson  <crobinso@redhat.com>

	* virtinst/VirtualHostDevice.py:
	VirtualHostDevice: Don't error if nodedev dettach isn't supportted.
	[a03af2ef22ec]

	* tests/xmlconfig-xml/boot-many-devices.xml, tests/xmlconfig.py,
	virtinst/Guest.py, virtinst/Seclabel.py, virtinst/__init__.py:
	Add 'Seclabel' module for building <seclabel> XML
	[93c719d7a33e]

	* virtinst/Clock.py, virtinst/FullVirtGuest.py, virtinst/Guest.py,
	virtinst/__init__.py:
	Add a proper 'Clock' class for building <clock> XML
	[9b9a6fa9aea4]

2010-02-07  Cole Robinson  <crobinso@redhat.com>

	* tests/image-xml/image2guest/image-xenpv32.xml, tests/xmlconfig-xml
	/install-windowsxp-xenold.xml, virt-install,
	virtinst/FullVirtGuest.py, virtinst/Guest.py,
	virtinst/ImageInstaller.py, virtinst/ParaVirtGuest.py:
	Allow setting <features> for all guest types

	Even though it doesn't have any meaning for PV guests, it's just a
	pain to have it be FV specific, so drop it.
	[9a0e07b7c13a]

	* man/en/virt-install.pod.in, tests/clitest.py, virt-install,
	virtinst/Guest.py:
	virt-install: Add --autostart, to mark autostart flag for new
	domains.
	[1ab9deef0e25]

	* virtinst/Guest.py, virtinst/VirtualDevice.py,
	virtinst/VirtualDisk.py, virtinst/VirtualHostDevice.py,
	virtinst/VirtualNetworkInterface.py:
	Add a common setup_dev function for all VirtualDevices.

	This replaces setup() functions, and has a common signature for all
	devices.
	[e92f6a06dc71]

	* virtinst/FullVirtGuest.py, virtinst/Guest.py,
	virtinst/ParaVirtGuest.py:
	Guest: Make set_defaults a public function.

	API users can run this before the install step to fill in guest
	defaults. This step isn't required, but can be useful to get a full
	idea of what XML will be created.
	[92a6f1b7514f]

	* tests/xmlconfig.py, virtinst/FullVirtGuest.py, virtinst/Guest.py,
	virtinst/ParaVirtGuest.py:
	Guest: Add default devices up front, rather then at install time

	This gives API users a chance to remove these default devices, not
	to only have them reappear when install is kicked off.
	[503066d21fc6]

2010-02-05  Cole Robinson  <crobinso@redhat.com>

	* virtinst/ImageInstaller.py:
	ImageInstaller: Remove unneeded blktap hack (handled by
	ParavirtGuest)
	[a6a7d16dc65a]

2010-02-06  Cole Robinson  <crobinso@redhat.com>

	* virtinst/Guest.py:
	Guest: Error if request is made to remove unknown device
	[95c4c8dad7fa]

2010-02-05  Cole Robinson  <crobinso@redhat.com>

	* virtinst/ImageInstaller.py, virtinst/ImageManager.py,
	virtinst/__init__.py:
	ImageManager.py -> ImageInstaller.py
	[222630c756c7]

2010-02-03  Cole Robinson  <crobinso@redhat.com>

	* virtinst/cli.py:
	Better error reporting when opening ~/.virtinst
	[64bede181e87]

2010-02-03  logan  <logan@fedoraproject.org>

	* po/es.po:
	Sending translation for Spanish
	[1123ed28f173]

2010-01-25  raven  <raven@fedoraproject.org>

	* po/pl.po:
	Sending translation for Polish
	[9184d3353fb2]

2010-01-25  Cole Robinson  <crobinso@redhat.com>

	* man/en/virt-install.1, man/en/virt-install.pod.in, po/es.po,
	po/fr.po, po/it.po, po/ja.po, po/pl.po, po/pt_BR.po, po/sr.po,
	po/sr@latin.po, po/virtinst.pot, po/zh_CN.po,
	virtinst/DistroInstaller.py, virtinst/VirtualCharDevice.py:
	Fix misspelling of 'pseudo'
	[3c1c1ab1a100]

2010-01-22  ypoyarko  <ypoyarko@fedoraproject.org>

	* po/ru.po:
	Sending translation for po/ru.po
	[36abcc1e2a2b]

2010-01-21  Cole Robinson  <crobinso@redhat.com>

	* virtinst/Installer.py:
	Installer: Make sure we set always set a default scratchdir

	Running as root with no libvirt dirs present (due to a messed up
	install) could try to return an unset scratchdir
	[f0e6ecdd057e]

2010-01-14  Cole Robinson  <crobinso@redhat.com>

	* python-virtinst.spec.in:
	Fix RPM building on RHEL6
	[c1cd2cb595de]

2009-12-07  Cole Robinson  <crobinso@redhat.com>

	* tests/clonetest.py:
	tests: Properly clean up created files in clonetest
	[0c8229bd1853]

2009-12-16  logan  <logan@fedoraproject.org>

	* po/es.po:
	Sending translation for Spanish
	[2432632f911e]

2009-12-11  Cole Robinson  <crobinso@redhat.com>

	* setup.py, tests/cli-test-xml/virtconv/virtimage/data.raw, tests/cli-
	test-xml/virtconv/virtimage/root.raw, tests/cli-test-
	xml/virtconv/virtimage/scratch.raw, tests/cli-test-
	xml/virtconv/virtimage/test1.virt-image, tests/cli-test-
	xml/virtconv/vmx/data.raw, tests/cli-test-xml/virtconv/vmx/root.raw,
	tests/cli-test-xml/virtconv/vmx/scratch.raw, tests/cli-test-
	xml/virtconv/vmx/test1.vmx, tests/clitest.py:
	testcli: Add virt-convert tests
	[e6d788f03309]

	* virt-convert:
	virt-convert: Don't force vmdk conversion for vmx output
	[bf1045b5944b]

	* virtconv/diskcfg.py:
	virtconv: Allow converting to qcow, qcow2, and cow
	[42d188f2d87a]

2009-12-10  Cole Robinson  <crobinso@redhat.com>

	* virt-install:
	virt-install: If post info info() fails, sleep a bit and try again

	Some race conditions (like reading memory info from qemu monitor)
	can cause info() to fail, so sleep a bit and give it another try
	before bombing.
	[b87b17aeb9ac]

	* man/en/virt-image.1, man/en/virt-image.pod, virt-image:
	virt-image: Hide --prompt option (doesn't do anything anyways)

	When/if it is ever implemented, we can deal with it then.
	[fc962689be97]

	* virt-install:
	virt-install: Wait a bit before checking domain exit status

	There are possible races in between leaving the VM console and
	checking its status. Wait a bit to facilitate more accurate results,
	and also log the VM state and try to handle a crashed VM.
	[8d76655497e8]

	* virtinst/OSDistro.py:
	OSDistro: Allow installing old opensuse 10.0
	[29cb16f846fd]

	* tests/clitest.py:
	clitest: Add test for extra-args install
	[f6fc63efb1b1]

	* tests/urltest.py:
	urltest: Improve some error reporting, fix tests for old opensuse
	[fca63a80e00b]

	* virt-install:
	virt-install: Fix --prompt if --disk also specified
	[dcabeb876e39]

	* virtinst/cli.py:
	cli: Clean up prompt question formatting.
	[645bde011e49]

2009-12-10  leahliu  <leahliu@fedoraproject.org>

	* po/zh_CN.po:
	Sending translation for Chinese (Simplified)
	[1b7452ae3954]

2009-12-09  Cole Robinson  <crobinso@redhat.com>

	* virtinst/support.py:
	support: Generic exceptions mean libvirt support is busted.

	Fixes testing for interface APIs on libvirt < 0.7.4
	[15c118a449a7]

2009-12-07  raven  <raven@fedoraproject.org>

	* po/pl.po:
	Sending translation for Polish
	[989eb68a9c18]

2009-12-04  Matthias Bolte  <matthias.bolte@googlemail.com>

	* virtinst/CapabilitiesParser.py:
	Check if emulator element is present before accessing it

	VMware ESX capabilities don't contain an emulator element. Virt
	Manager reports a NoneType exception when trying to connect to an
	ESX server.
	[56fcec89f06f]

2009-12-03  Cole Robinson  <crobinso@redhat.com>

	* .hgtags:
	Added tag virtinst-0_500_1 for changeset 8f01af70e5ca
	[269a7225fef1]

	* NEWS:
	Fix NEWS file typo.
	[8f01af70e5ca] [virtinst-0_500_1]

	* .hgtags:
	Added tag virtinst-0_500_1 for changeset 69dc73009f30
	[49a45f82bbfe]

	* ChangeLog, NEWS, man/en/Makefile, man/en/virt-clone.1, man/en/virt-
	convert.1, man/en/virt-image.1, man/en/virt-image.5, man/en/virt-
	install.1, po/es.po, po/fr.po, po/it.po, po/ja.po, po/pl.po,
	po/pt_BR.po, po/sr.po, po/sr@latin.po, po/virtinst.pot, po/zh_CN.po,
	python-virtinst.spec.in, virtinst/version.py:
	Prep for release (Update translations, NEWS, version, ...)
	[69dc73009f30]

	* virtinst/Storage.py:
	Storage: Don't use libvirt VIR_STORAGE_VOL* flags unless they exist
	[c2ae8225c41e]

	* virtinst/support.py:
	support: Add check for libvirt openAuth
	[6fab92a8f1e0]

2009-12-02  Cole Robinson  <crobinso@redhat.com>

	* man/en/virt-install.pod.in, tests/clitest.py, virt-install:
	virt-install: --disk: make path= optional
	[2734c2e0c792]

	* man/en/virt-install.pod.in, setup.py, tests/clitest.py, virt-image,
	virt-install, virtinst/DistroInstaller.py, virtinst/Guest.py,
	virtinst/cli.py:
	virt-install: Add --os-variant 'none' option to disable autodetect

	First, add a new method set_os_detect to Guest, so that API users
	can opt into the behavior, and set the behavior off by default.

	However, virt-install will continue to do autodetect by default, but
	now users have a way to opt out via --os-variant none
	[aed4bbe95f16]

	* virtinst/osdict.py:
	osdict: Add fedora13 and rhel6 entries

	Fedora 12 was mysteriously added to the osdict twice, so just
	convert it to F13
	[2939f390be61]

	* tests/urltest.py, virtinst/DistroInstaller.py, virtinst/OSDistro.py,
	virtinst/osdict.py:
	osdict: Add RHEL 5.4 (and later) value

	Also, fix up the URL test suite to verify this change.
	[bb6c6b4cf8ae]

	* tests/xmlconfig-xml/install-f11-xen.xml, tests/xmlconfig.py,
	virtinst/osdict.py:
	osdict: Use variables for common device settings

	Improves readability a bit.
	[6123c22fc70f]

	* virtinst/Storage.py:
	Storage: Report nicer error if createVolFrom not supported.
	[c2764fbee918]

2009-12-01  Cole Robinson  <crobinso@redhat.com>

	* tests/nodedev.py, tests/testdriver.xml,
	virtinst/NodeDeviceParser.py:
	NodeDeviceParser: Parse nodedev storage media media_label

	Not committed upstream yet, but will likely go in, and I'd like this
	as early as possible so it makes the pending release.
	[1a15999a90eb]

	* virtinst/VirtualGraphics.py:
	VirtualGraphics: Fix 'None' keymap on recent qemu
	[87d0ea558457]

	* virtinst/VirtualDisk.py:
	VirtualDisk: Clean up fix_search_path logging a bit
	[261c99a55362]

	* virtinst/DistroInstaller.py, virtinst/Installer.py:
	installer: Add public scratchdir_required()

	Useful for API users to determine if a scratchdir will be used for
	install, so requisit permissions can be checked.
	[677c667cf505]

2009-11-29  Cole Robinson  <crobinso@redhat.com>

	* virtinst/support.py:
	support: Fix function checking with empty arg list
	[05adb0b921e2]

2009-11-22  Guido Günther  <agx@sigxcpu.org>

	* virtinst/VirtualDisk.py:
	VirtualDisk: add error handling to VirtualDisk._clone_local()
	[43b3af61d65a]

2009-11-19  Cole Robinson  <crobinso@redhat.com>

	* virtinst/support.py:
	support: Add checks for libvirt network and interface APIs
	[997e88bcc653]

2009-11-16  Cole Robinson  <crobinso@redhat.com>

	* virtinst/Guest.py:
	Guest: Add static function cpuset_str_to_tuple

	Helps using cpuset strings for the pinVcpu command.
	[57e75a8140f8]

	* virtinst/support.py:
	support: Add support check for domain vcpus()
	[2d35b0c7fa42]

2009-11-15  Cole Robinson  <crobinso@redhat.com>

	* virtinst/NodeDeviceParser.py, virtinst/Storage.py,
	virtinst/VirtualGraphics.py, virtinst/__init__.py,
	virtinst/support.py, virtinst/util.py:
	Add a new module 'support' for checking if libvirt feature avail.

	Use this new module to implement all the support checks we are
	currently using in the code base (with the exception of osdict).
	[eca8d87c5501]

	* tests/storage-xml/pool-dir-vol.xml, tests/storage-xml/pool-dir-
	volclone.xml, tests/storage-xml/pool-dir-volinput.xml, tests
	/storage-xml/pool-disk-vol.xml, tests/storage-xml/pool-disk-
	volclone.xml, tests/storage-xml/pool-disk-volinput.xml, tests
	/storage-xml/pool-fs-vol.xml, tests/storage-xml/pool-fs-
	volclone.xml, tests/storage-xml/pool-fs-volinput.xml, tests/storage-
	xml/pool-logical-vol.xml, tests/storage-xml/pool-logical-
	volclone.xml, tests/storage-xml/pool-logical-volinput.xml, tests
	/storage-xml/pool-netfs-vol.xml, tests/storage-xml/pool-netfs-
	volclone.xml, tests/storage-xml/pool-netfs-volinput.xml,
	tests/storage.py, tests/testdriver.xml, virtinst/Storage.py:
	tests: Make sure storage test output doesn't use local UID
	[94b620fe7a77]

2009-11-11  Cole Robinson  <crobinso@redhat.com>

	* virt-clone, virt-convert, virt-image, virt-install:
	Add --version commands for CLI utils.
	[77a80a515b03]

	* setup.py, virtinst/__init__.py, virtinst/version.py:
	Add __version__ and __version_info__ values.

	The canonical 'version' value is stored in virtinst/version.py,
	which will need to be updated whenever cutting a new release.
	[6731c62f618d]

2009-10-28  Cole Robinson  <crobinso@redhat.com>

	* tests/storage-xml/pool-logical-manydev.xml, tests/storage-xml/pool-
	logical-target-srcname.xml, tests/storage-xml/pool-logical.xml,
	tests/storage.py, virtinst/Storage.py:
	Storage: Always set a logical pool source name

	Either set it via the pool name, or try to parse the target path for
	a VG name.
	[b5b11ab14a20]

2009-10-21  Cole Robinson  <crobinso@redhat.com>

	* tests/storage-xml/pool-logical-list0.xml, tests/storage-xml/pool-
	logical-list1.xml, tests/storage-xml/pool-netfs-list0.xml,
	tests/storage.py:
	tests: Add tests for FindPoolSources
	[0fd667b7c1de]

2009-10-22  Cole Robinson  <crobinso@redhat.com>

	* virtinst/Guest.py:
	Guest: Fix up harmless error message typo
	[43d1764b85c1]

2009-10-21  Cole Robinson  <crobinso@redhat.com>

	* virtinst/CloneManager.py:
	CloneManager: Fix error reporting to show the proper erroneous path.
	[26d7a3e52035]

	* virtinst/VirtualDisk.py:
	VirtualDisk: Fix LVM/Disk volume creation on QEMU

	Make sure that a vol_install actually supports the format parameter
	before we try and read it.
	[7df4e1b4e25e]

2009-10-20  Cole Robinson  <crobinso@redhat.com>

	* virtinst/Storage.py:
	Storage: Support listStoragePoolSources

	We add a static method to storage pool class that takes the required
	params (conn, pool type, extra source attributes) and returns a list
	of build pool objects that libvirt gives us.
	[08ea24699015]

	* virtinst/CapabilitiesParser.py, virtinst/NodeDeviceParser.py,
	virtinst/_util.py:
	Break out duplicate XML parsing routings from *Parser files.
	[2d85669256bc]

	* tests/storage-xml/pool-dir-vol.xml, tests/storage-xml/pool-dir-
	volclone.xml, tests/storage-xml/pool-dir-volinput.xml, tests
	/storage-xml/pool-dir.xml, tests/storage-xml/pool-disk-vol.xml,
	tests/storage-xml/pool-disk-volclone.xml, tests/storage-xml/pool-
	disk-volinput.xml, tests/storage-xml/pool-disk.xml, tests/storage-
	xml/pool-fs-vol.xml, tests/storage-xml/pool-fs-volclone.xml, tests
	/storage-xml/pool-fs-volinput.xml, tests/storage-xml/pool-fs.xml,
	tests/storage-xml/pool-iscsi.xml, tests/storage-xml/pool-logical-
	manydev.xml, tests/storage-xml/pool-logical-srcname.xml, tests
	/storage-xml/pool-logical-vol.xml, tests/storage-xml/pool-logical-
	volclone.xml, tests/storage-xml/pool-logical-volinput.xml, tests
	/storage-xml/pool-logical.xml, tests/storage-xml/pool-netfs-vol.xml,
	tests/storage-xml/pool-netfs-volclone.xml, tests/storage-xml/pool-
	netfs-volinput.xml, tests/storage-xml/pool-netfs.xml, tests/storage-
	xml/pool-scsi.xml, tests/storage.py:
	tests: Add XML comparison tests for storage objects
	[bdf02618e2fe]

	* virtinst/Storage.py:
	Storage: Add a newline after generated XML

	This helps XML comparison in the test driver, since editting an XML
	file with vim won't cause the tests to break (since vim seems to add
	some kind of silent trailing character).
	[f031a6465894]

	* virtinst/Storage.py:
	Storage: Fix setting pool UUID on init
	[ed36e208e4b4]

2009-10-19  Cole Robinson  <crobinso@redhat.com>

	* tests/nodedev.py, virtinst/NodeDeviceParser.py:
	NodeDevice: Don't error when parsing an unknown device.
	[a000f2456166]

	* virtinst/NodeDeviceParser.py:
	NodeDevice: Use a shared pretty_name where applicable
	[40903a86b5b7]

	* tests/storage.py, virtinst/Storage.py:
	storage: Allow creating SCSI pools.
	[1a2992600b2f]

	* tests/validation.py:
	More cleanup
	[23a3f03f3a96]

	* tests/storage.py, virtinst/Storage.py:
	storage: Allow setting logical pool source name
	[c2be2bedfaa0]

	* tests/validation.py:
	tests: Use custom testdriver pools/vols in validation.py
	[2ffa24ec9c10]

2009-10-16  Cole Robinson  <crobinso@redhat.com>

	* virtinst/Guest.py:
	Guest: Fix up XML generation to allow extra pieces without breaking
	tests.
	[60ad980b59b9]

	* tests/clone-xml/fullpool-in.xml, tests/clonetest.py,
	tests/testdriver.xml:
	tests: Add clone tests for full pools.
	[f631bcba9df1]

	* tests/nodedev.py, tests/pylint-virtinst.sh, virt-install,
	virtinst/OSDistro.py:
	Fix up some pylint issues.
	[3a903b9f2b80]

	* tests/clitest.py:
	clitest: Add readonly file checks
	[fc150e1c42e3]

	* tests/pylint-virtinst.sh:
	pylint: Make sure we don't add msgs that aren't supported
	[5f6f1621000e]

	* tests/clitest.py:
	Add some more cpuset cli tests.
	[c4f6be2fe37d]

2009-10-05  Cole Robinson  <crobinso@redhat.com>

	* virtinst/Guest.py:
	Allow setting an empty cpuset.
	[45c03200189c]

2009-10-14  Cole Robinson  <crobinso@redhat.com>

	* tests/nodedev.py, virtinst/NodeDeviceParser.py:
	NodeDevice: Add fc_host and vport_ops parsing.
	[45a607465742]

	* HACKING, README, setup.py, tests/coverage.py:
	Remove static coverage.py infavor of the system installed version.
	[84a9ae157978]

	* tests/nodedev-xml/nodexml/net1.xml, tests/nodedev-
	xml/nodexml/net2.xml, tests/nodedev-xml/nodexml/pci1.xml, tests
	/nodedev-xml/nodexml/pci2.xml, tests/nodedev-
	xml/nodexml/scsibus.xml, tests/nodedev-xml/nodexml/scsidev.xml,
	tests/nodedev-xml/nodexml/storage1.xml, tests/nodedev-
	xml/nodexml/storage2.xml, tests/nodedev-xml/nodexml/system.xml,
	tests/nodedev-xml/nodexml/usbbus.xml, tests/nodedev-
	xml/nodexml/usbdev1.xml, tests/nodedev-xml/nodexml/usbdev2.xml,
	tests/nodedev.py, tests/testdriver.xml:
	tests: Update libvirt test driver to read node device XML

	Allows us to ditch all the nodexml files we keep around.
	[29073b4c7a66]

	* virtinst/Installer.py:
	Fix error generating scratchdir for xen installs.
	[f199361a3dd9]

2009-10-13  Cole Robinson  <crobinso@redhat.com>

	* tests/clitest.py, virtinst/Guest.py:
	virt-install: Fix --cpuset

	A commit before 0.500.0 broke cpuset with commas, and the test suite
	wasn't checking it. Fix the error and add tests to prevent this in
	the future.
	[927ae9ed09f7]

2009-10-12  Cole Robinson  <crobinso@redhat.com>

	* virtinst/Installer.py:
	Installer: Break out 'what is my scratchdir' logic.

	This is really a static choice that doesn't have anything to do with
	the Installer.
	[b9a47bc1a561]

	* tests/__init__.py, tests/image-xml/image2guest/image-xenfv32.xml,
	tests/xmlconfig-xml/boot-fullyvirt-disk-block.xml, tests/xmlconfig-
	xml/boot-fullyvirt-disk-file.xml, tests/xmlconfig-xml/boot-
	fullyvirt-pxe-nodisks.xml, tests/xmlconfig-xml/boot-fullyvirt-
	pxe.xml, tests/xmlconfig-xml/boot-many-chars.xml, tests/xmlconfig-
	xml/boot-many-devices.xml, tests/xmlconfig-xml/boot-many-disks2.xml,
	tests/xmlconfig-xml/boot-many-hostdevs.xml, tests/xmlconfig-xml
	/boot-many-nics.xml, tests/xmlconfig-xml/boot-many-sounds.xml, tests
	/xmlconfig-xml/boot-windowsxp-kvm.xml, tests/xmlconfig-
	xml/install-f10.xml, tests/xmlconfig-xml/install-f11.xml, tests
	/xmlconfig-xml/install-fullyvirt-disk-block.xml, tests/xmlconfig-xml
	/install-fullyvirt-disk-file.xml, tests/xmlconfig-xml/install-
	fullyvirt-import.xml, tests/xmlconfig-xml/install-fullyvirt-
	livecd.xml, tests/xmlconfig-xml/install-fullyvirt-pxe-nodisks.xml,
	tests/xmlconfig-xml/install-fullyvirt-pxe.xml, tests/xmlconfig-xml
	/install-windowsxp-kvm.xml, tests/xmlconfig-xml/install-windowsxp-
	xennew.xml, tests/xmlconfig-xml/install-windowsxp-xenold.xml, tests
	/xmlconfig-xml/misc-qemu-driver-name.xml, tests/xmlconfig-xml/misc-
	qemu-driver-type.xml, tests/xmlconfig-xml/misc-qemu-iso-disk.xml,
	tests/xmlconfig-xml/misc-xml-escaping.xml:
	Use a real directory as HOME in the test suite.
	[7e0fade52d93]

	* virtinst/VirtualDisk.py:
	VirtualDisk: If changing path ACL fails, fall back to regular chmod
	+x
	[608f5e41b43f]

	* virtinst/Installer.py, virtinst/cli.py:
	Make .virtinst/* as globally searchable.

	Makes life easier for allowing emulator access to downloaded
	kernels.
	[560627931a71]

	* virtinst/VirtualDisk.py:
	VirtualDisk: Make sure requested user exists when checking disk
	access.
	[7a14186b241d]

2009-10-06  Cole Robinson  <crobinso@redhat.com>

	* tests/clitest.py:
	clitest: Make sure DISPLAY is set.
	[dfb9841a8a85]

2009-10-05  Cole Robinson  <crobinso@redhat.com>

	* po/es.po, po/it.po, po/pl.po:
	Updated translations.
	[419a9fbd63b3]

2009-09-28  Cole Robinson  <crobinso@redhat.com>

	* man/en/virt-install.pod.in, tests/clitest.py,
	virtinst/VirtualGraphics.py, virtinst/cli.py:
	virt-install: Add --keymap 'none' and 'local' values.

	Allows the user more control over the default behavior. Default is
	also changed to take the hypervisor and version into account (for
	example, newer qemu versions shouldn't have a keymap specified if
	using gtk-vnc).
	[30700fede5b6]

	* virtconv/parsers/ovf.py, virtinst/Storage.py:
	Fix some harmless pylint.
	[bf29bec11708]

	* virt-install:
	virt-install: clean up --disk vs. --file parsing.

	Make it easier to extend in the future without breaking back compat.
	[f5071587f1e8]

2009-09-23  Cole Robinson  <crobinso@redhat.com>

	* virtinst/VirtualDisk.py:
	VirtualDisk: Teach perms changing functions about a target
	directory.
	[a523260ac56e]

	* virtinst/VirtualDisk.py:
	VirtualDisk: Add methods for checking/changing path perms for
	username.

	Since libvirtd can now run qemu processes as non-root, the tools
	need to try to check directory permissions and make sure they are at
	least searchable by a specific username. This simply implements the
	functions to make that happen.
	[53cd275974ab]

2009-09-21  Cole Robinson  <crobinso@redhat.com>

	* tests/testdriver.xml, tests/xmlconfig-xml/misc-qemu-iso-disk.xml,
	tests/xmlconfig.py, virtinst/VirtualDisk.py:
	VirtualDisk: Don't use 'iso' as a qemu driver name (bz 524109)
	[aff98f015293]

	* tests/pylint-virtinst.sh:
	Ignore a new pylint check.
	[143b09da8bcc]

2009-09-16  Cole Robinson  <crobinso@redhat.com>

	* virtinst/User.py, virtinst/__init__.py, virtinst/_util.py,
	virtinst/cli.py, virtinst/util.py:
	Use virtual networking (not user) if we are non-root on
	qemu:///system.

	Since virt-install can use policykit now, we can be non-root and
	still use qemu:///system.
	[761714f08589]

	* tests/pylint-virtinst.sh:
	Ignore 'maximum recursion' warnings from pylint.
	[be36b376adad]

	* virtinst/osdict.py:
	osdict: Add 'Fedora 12' entry
	[d8f88998215a]

	* man/en/virt-install.1, man/en/virt-install.pod.in, tests/clitest.py,
	virt-install, virtinst/VirtualDisk.py:
	virt-install: Add 'format' option to --disk

	Allows specifying storage volume format (raw, qcow2, etc.).
	[6a398359952b]

2009-09-13  Cole Robinson  <crobinso@redhat.com>

	* tests/xmlconfig-xml/install-f11.xml, tests/xmlconfig.py,
	virtinst/FullVirtGuest.py:
	Don't use virtio for cdrom/floppy devices (bz 517151)

	Also add a test case to prevent against this issue in the future.
	[252ff7bc5ff9]

	* tests/clitest.py, virtinst/VirtualDisk.py:
	Don't erroneously limit the amount of virtio disks (bz 499654)

	Just let qemu error if we add too many.
	[726dc6953396]

2009-08-05  Alban Browaeys  <prahal@yahoo.com>

	* AUTHORS, tests/xmlconfig-xml/boot-many-devices.xml,
	virtinst/VirtualDisk.py:
	Set proper driver type from storage volume xml.

	Fixes possible traceback if creating a qemu VM from a storage
	volume.
	[0d3cdc5ff5d0]

2009-08-05  Cole Robinson  <crobinso@redhat.com>

	* tests/testdriver.xml, tests/xmlconfig-xml/boot-many-devices.xml,
	tests/xmlconfig.py, virtinst/VirtualDisk.py:
	Add virtual disk XML tests for pulling driver type/name from volume.
	[07d296ecfbeb]

2009-07-28  Cole Robinson  <crobinso@redhat.com>

	* .hgtags:
	Added tag virtinst-0_500_0 for changeset 273dbcbdd051
	[2ca5493b648a]

	* python-virtinst.spec.in:
	Update spec changelog.
	[273dbcbdd051] [virtinst-0_500_0]

	* ChangeLog, NEWS, man/en/virt-install.1, setup.py:
	Bump version number, update NEWS and CHANGELOG.
	[33c4cc47e503]

	* tests/urltest.py:
	Update url test suite with newer fedora links.
	[fca47128bbd8]

	* virtinst/osdict.py:
	osdict: Add Fedora 12.
	[e668af73cd4f]

	* .hgignore, MANIFEST.in, man/en/virt-install.1, po/es.po, po/fr.po,
	po/it.po, po/ja.po, po/pl.po, po/pt_BR.po, po/sr.po, po/sr@latin.po,
	po/virtinst.pot, po/zh_CN.po, python-virtinst.spec.in:
	Refresh man pages, translations, MANIFEST.
	[c61ce97b6ed0]

	* virtinst/VirtualDisk.py:
	VirtualDisk: make sure we can actually read volume file.

	If user deletes the file behind libvirt's back, we would end up
	throwing a confusing error.
	[eee6f60003fb]

	* virtinst/Storage.py:
	storage: Add 'glusterfs' format option for net pools
	[e21b110a0642]

	* AUTHORS:
	Add Michal to AUTHORS.
	[0d328d5631c9]

	* HACKING, man/en/virt-image-xml.pod:
	Replace et-mgmt-tools references with virt-tools-list.
	[face828924df]

2009-07-27  Michal Novotny  <minovotn@redhat.com>

	* virtinst/Guest.py:
	Fix CPU Pinning check for pinning string ending with comma

	When you provided CPU pinning string that was ending with comma an
	uncaught exception occured of ValueError about invalid literal for
	int() with base 10 because of empty string passed to int() function.
	This patch fixes the lines ending with comma, lines like "1," and
	corrects this to correct CPU pinning string, ie. "1".
	[3aa9c601c112]

2009-07-27  Cole Robinson  <crobinso@redhat.com>

	* man/en/virt-convert.pod, tests/virtconv-files/ovf_input/test1.ovf,
	tests/virtconv-files/ovf_input/test2.ovf, tests/virtconv-
	files/virtimage_output/ovf2virtimage_test1.virt-image, tests
	/virtconv-files/virtimage_output/ovf2virtimage_test2.virt-image,
	tests/virtconv-test.py, virtconv/diskcfg.py,
	virtconv/parsers/ovf.py:
	virtconv: Add OVF input support.
	[70cd7dfe1f1f]

	* tests/virtconv-files/virtimage2vmx/image.virt-image, tests/virtconv-
	files/virtimage2vmx/image.vmx, tests/virtconv-
	files/virtimage_input/test1.virt-image, tests/virtconv-
	files/virtimage_output/vmx2virtimage_test1.virt-image, tests
	/virtconv-files/vmx2virtimage/test.virt-image, tests/virtconv-
	files/vmx2virtimage/test.vmx, tests/virtconv-
	files/vmx_input/test1.vmx, tests/virtconv-
	files/vmx_output/virtimage2vmx_test1.vmx, tests/virtconv-test.py:
	tests: Rearrange virtconv test files.

	Split everything into input or output dirs. Don't maintain file
	lists in the test code: every input file should at least not crash
	if converted to a valid output format.
	[b7a131ae79ad]

	* virt-convert:
	virt-convert: Move logging earlier to catch option errors
	[8ab4127b4b07]

	* tests/virtconv-files/virtimage2vmx/image.vmx,
	virtconv/parsers/vmx.py:
	Change virt-manager URL in generated VMX output.
	[7a76c54a1274]

	* setup.py:
	test: Add --testfile option to setup.py test, allow running a single
	file.
	[a7a34ebb127b]

2009-07-20  Cole Robinson  <crobinso@redhat.com>

	* tests/__init__.py, tests/testdriver.xml, tests/validation.py:
	tests: Add some pool capacity checks to disk validation suite.
	[a4baddfadf5c]

	* virtinst/VirtualDisk.py:
	VirtualDisk: Fix error message referencing variable before assign.
	[da6435f91f2e]

	* tests/validation.py:
	tests: Cleanup indentation for VirtualDisk validation tests.
	[36722ed865db]

	* virtinst/CloneManager.py, virtinst/VirtualDisk.py,
	virtinst/_util.py, virtinst/cli.py:
	VirtualDisk: Add static method 'path_exists'

	Allows API users to verify the passed path exists on the connection
	host. This is useful for use in virt-manager, and can replace the
	hack method we currently use in virtinst.
	[0fcc9a5a9af7]

2009-07-18  Cole Robinson  <crobinso@redhat.com>

	* virtinst/CloneManager.py:
	clone: Fix up setting list parameters in CloneDesign
	[20efa2c49f1a]

	* virtinst/CloneManager.py:
	clone: Allow changing libvirt connection on CloneDesign object
	[c546d23bcb51]

2009-07-16  Christophe Sauthier  <christophe.sauthier@objectif-libre.com>

	* AUTHORS, virtinst/osdict.py:
	osdict: Add Ubuntu Karmic.
	[05e3723da0e7]

2009-07-14  Cole Robinson  <crobinso@redhat.com>

	* virtinst/osdict.py:
	osdict: Add SLES 11 (supports virtio)
	[dbda3bfc28f8]

	* tests/xmlconfig-xml/boot-windowsxp-kvm.xml, tests/xmlconfig-xml
	/boot-windowsxp.xml, tests/xmlconfig-xml/install-windowsxp-kvm.xml,
	tests/xmlconfig-xml/install-windowsxp-xennew.xml, tests/xmlconfig-
	xml/install-windowsxp-xenold.xml, tests/xmlconfig-xml/install-
	windowsxp.xml, tests/xmlconfig.py, virtinst/osdict.py:
	Turn on ACPI/APIC for windows, except for Xen < 3.1.0.

	See discussion at:

	https://www.redhat.com/archives/et-mgmt-
	tools/2009-July/msg00000.html
	[3c68ba7758a6]

	* virtinst/Guest.py, virtinst/osdict.py:
	Refactor osdict lookup routines.

	Allow specifying minimally supported libvirt and hypervisor version
	for various parameters. Move most of this code out of Guest and into
	osdict.
	[8b5d60a01fe3]

2009-07-14  Laurent Léonard  <laurent@open-minds.org>

	* AUTHORS, virtinst/osdict.py:
	Add windows 7 to the osdict.
	[020c0a312e7f]

2009-07-13  Cole Robinson  <crobinso@redhat.com>

	* man/en/virt-install.pod.in, tests/clitest.py, virt-install,
	virtinst/cli.py:
	virt-install: Add --video option.

	Takes the video model (cirrus, vga, etc) as the only argument. Can
	easily be expanded in the future if needed.
	[dbaa46d3ae83]

	* man/en/virt-install.pod.in, tests/clitest.py, virt-install,
	virtinst/cli.py:
	virt-install: Add --serial and --parallel options.

	Options take the same form of OPT1=VAL1,OPT2=VAL2,... similar to the
	--disk option. The docs describe the rest.
	[e27511d0dbfd]

	* virtinst/CloneManager.py:
	CloneManager: support setting properties as lists.

	Many properties (skip_target, force_target, clone_devices,
	clone_mac) can currently only be appended to, since behind the
	scenes they are lists. Allow passing a list value to overwrite the
	stored list.

	Also fix an improper error message.
	[ca5246fe1546]

	* virtinst/VirtualDisk.py:
	Remove more noisy debugging.
	[b7668b77cd72]

2009-07-12  Cole Robinson  <crobinso@redhat.com>

	* tests/storage.py, virtinst/Storage.py:
	storage: Implement 'disk' volume creation.
	[389052a6eb36]

2009-07-08  Cole Robinson  <crobinso@redhat.com>

	* virtinst/VirtualNetworkInterface.py:
	Add VirtualNetworkInterface function for returning network type
	descriptions.
	[77b5e67be942]

	* tests/validation.py, tests/xmlconfig-xml/boot-many-chars.xml,
	tests/xmlconfig.py, virtinst/VirtualCharDevice.py:
	Properly generate 'protocol' XML for TCP char devices.

	Libvirt docs were incorrect, and I never checked that it actually
	worked :(
	[ce5bd38b3a2b]

	* tests/cli-test-xml/faketree/images/xen/initrd.img, tests/cli-test-
	xml/faketree/images/xen/vmlinuz, tests/clitest.py, tests/xmlconfig-
	xml/boot-many-devices.xml, tests/xmlconfig.py:
	Test suite improvements and fixes.

	Bring back definition of XML in xmlconfig.py. Add a URL test for
	paravirt installs.
	[1aa79e013ba6]

	* tests/xmlconfig-xml/boot-many-disks2.xml, virtinst/VirtualDisk.py:
	If creating a disk with no media, fill in a default 'type'.

	Previously, we could end up with type='None' in the xml, which
	causes errors.
	[f2dfad48325a]

	* tests/xmlconfig-xml/boot-many-devices.xml,
	virtinst/VirtualVideoDevice.py:
	Fix video device XML generation.
	[70176b36e355]

	* tests/xmlconfig-xml/boot-many-devices.xml, tests/xmlconfig.py,
	virtinst/VirtualDevice.py, virtinst/VirtualVideoDevice.py,
	virtinst/__init__.py:
	Add VirtualVideoDevice module, corresponding to new libvirt device
	<video>
	[daafa39eb8cb]

	* tests/clonetest.py:
	Fix test suite with latest libvirt.

	Libvirt adds a default <video> element if none is specified, which
	breaks some round trip define/compare tests.
	[18b1b9c31eb0]

	* virtinst/VirtualCharDevice.py:
	Add description lookup functions for VirtualCharDevice values.
	[4f5216795603]

	* virtinst/VirtualCharDevice.py:
	Rename VirtualCharDevice source_mode values to be more accurate.
	[1140cc9cabd0]

	* tests/xmlconfig-xml/boot-many-chars.xml, tests/xmlconfig.py,
	virtinst/VirtualCharDevice.py:
	s/source_name/bind_name/g and s/connect_name/source_name/g for UDP
	chardev.

	This makes source name consistently the default 'connect' target for
	network character devices.
	[ce13a97146c5]

	* tests/clitest.py, virt-install, virtinst/cli.py:
	Break out duplicate command optstring parsing.

	We are duplicating effort for --disk and --network: break this code
	out into a separate function (will also be useful for --serial,
	--parallel, etc.)
	[88885f046356]

2009-07-07  "Cole Robinson  <crobinso@redhat.com>

	* virtinst/VirtualCharDevice.py:
	Return proper character device class for dev type 'dev'
	[959c8406bbfe]

	* virtinst/__init__.py:
	Add VirtualDevice class to the public API.
	[c071bd24ae5a]

2009-07-06  Cole Robinson  <crobinso@redhat.com>

	* virtinst/VirtualDisk.py:
	Fix generating disk driver XML from vol_install parameters.

	We were mixing up driver name and type. This was breaking XML built
	via virt-manager's create wizard. Should have only existed in HG.
	[5746a86367d2]

2009-07-02  Cole Robinson  <crobinso@redhat.com>

	* virtinst/Storage.py:
	Implement LVM storage pool building from raw disk devices.

	The only previous method was for defining a pool from an existing
	VG.
	[05ce5fe6ced0]

2009-06-26  David Robinson  <zxvdr.au@gmail.com>

	* AUTHORS, virtinst/OSDistro.py:
	Fix invalid/empty .treeinfo file from causing an exception.
	[bb8d3a5bb858]

2009-06-24  Cole Robinson  <crobinso@redhat.com>

	* virt-clone, virtinst/CloneManager.py:
	CloneDesign: Move name and disk path generators into the public API.

	These utility functions will be useful for other apps looking to
	auto generate new names or paths for guests.
	[4398f61e8979]

	* tests/clone-xml/skip-in.xml, tests/clone-xml/skip-out.xml:
	Actually add 'skip_target' test files.
	[4669fb49e4a9]

	* virtinst/Storage.py:
	Use allocation as the max value for progress meter when creating
	volumes.
	[66ef1609e353]

	* virtinst/_util.py:
	Document _util.generate_name, add a few extra parameters for
	customizability.
	[905a04faef39]

	* tests/storage.py, virtinst/Storage.py:
	Add 'conn' parameter to is_create_vol_from_supported to futureproof
	it.
	[df308f78f28d]

	* tests/clonetest.py, virtinst/CloneManager.py:
	CloneDesign: Add 'skip_target' property

	This works similar to force_target, except tells CloneDesign to
	forcibly skip the passed targets. This takes precedence over
	force_target.
	[a24cfe70a6de]

	* virt-clone, virtinst/CloneManager.py:
	CloneDesign: deal with cloning to/from empty paths.

	CloneDesign can now handle empty disks in it's original_devices
	list, and handle 'None' as a clone_device path. This is requird to
	be able to use devices_list to get a full output of disks in the
	original XML.
	[d3679b93f526]

	* virtinst/CloneManager.py:
	Add 'clone_policy' property to CloneDesign.

	This allows the user to list what metrics the Design will use to
	decide what devices should be queued up for cloning. Options are:

	CLONE_POLICY_NO_READONLY = 1 CLONE_POLICY_NO_SHAREABLE = 2
	CLONE_POLICY_NO_EMPTYMEDIA = 3

	This allows us to change the default CloneDesign behavior, which is
	to skip all of the above.
	[895976b12eaa]

	* tests/clone-xml/cross-pool-in.xml, tests/clone-xml/cross-pool-
	out.xml, tests/clone-xml/force-in.xml, tests/clone-xml/force-
	out.xml, tests/clone-xml/managed-storage-in.xml, tests/clone-xml
	/managed-storage-out.xml, tests/clone-xml/readonly-disks-in.xml,
	tests/clone-xml/readonly-disks-out.xml, tests/clonetest.py,
	tests/testdriver.xml:
	Add force_target testing to clonetest suite.

	Also expand the testdriver to have a lvm pool, and tweak some typos
	in clone test xml.
	[702031e8325a]

2009-06-23  Cole Robinson  <crobinso@redhat.com>

	* tests/clitest.py, virtinst/cli.py:
	Allow faux remote URI testing.

	We basically add a hack to virtinst/cli which looks for a magic
	string __virtinst_test_remote__ at the start of the passed libvirt
	uri. If found, we convince the library that we are on a remote
	connection, to exercise code paths where we deliberately check this.
	Kind of crazy, but hey, it works, and helped find 2 regressions.
	[0e9226cc19d1]

	* virtinst/CloneManager.py:
	Don't erroneously deny remote cloning if libvirt supports it.
	[8d0afe6242b4]

	* virtinst/VirtualDisk.py:
	Unbreak managed storage on remote connection.

	This regressed via semi recent virtualdisk refactoring. Regression
	tests coming soon!
	[a5693cd57868]

	* tests/cli-test-xml/clone-disk-managed.xml, tests/clitest.py, tests
	/clone-xml/cross-pool-out.xml, tests/clonetest.py,
	tests/testdriver.xml, tests/validation.py:
	Use a custom libvirt test driver for test suite.

	This allows us to avoid setting up non-default storage pools, and
	helps with volume testing in the cli suite. This requires some bug
	fixes committed to libvirt quite recently.
	[b979803366d9]

	* tests/clitest.py:
	Add some IDE target cli tests.
	[4816ee537667]

	* virtinst/CloneManager.py:
	Don't check for MAC collision in setup_original.

	We check at set time now, so it's kind of redundant. If we ever want
	to have absolute last minute validation, we need better
	infrastructure anyways.
	[817ce13dd178]

	* virtinst/CloneManager.py:
	Simplifications and cleanups in CloneManager.

	Don't carry around an index array to specify disks to clone: just
	set 'target' in virtual disk. Also, make better use of xml parsing
	utility functions.
	[9221412446f8]

	* virtinst/util.py:
	Fix get_xml_path to return first entry if parse list of options.
	[03c37e22a631]

	* virtinst/CloneManager.py:
	Add some documentation to CloneManager properties.
	[93392d39396c]

2009-06-22  Cole Robinson  <crobinso@redhat.com>

	* AUTHORS:
	Add myself as a primary AUTHOR, because I'm cool like that.
	[12e14d427eaf]

	* AUTHORS, tests/clone-xml/cross-pool-in.xml, tests/clone-xml/empty-
	disks-in.xml, tests/clone-xml/general-cfg-in.xml, tests/clone-xml
	/managed-storage-in.xml, tests/clone-xml/noclone-storage-in.xml,
	tests/clone-xml/readonly-disks-in.xml:
	Replace remaining usages of incorrect qemu/kvm mac prefix (Kaspar
	Brand)
	[9f11c8f159ff]

2009-06-19  Cole Robinson  <crobinso@redhat.com>

	* man/en/virt-clone.pod, man/en/virt-install.pod.in, virtinst/util.py:
	Correctly generate QEMU/KVM mac address (we were using wrong
	prefix).

	See https://www.redhat.com/archives/libvir-
	list/2009-June/msg00336.html
	[a3334a88986f]

2009-06-18  Cole Robinson  <crobinso@redhat.com>

	* tests/cli-test-xml/faketree/images/boot.iso, tests/cli-test-
	xml/faketree/images/pxeboot/initrd.img, tests/cli-test-
	xml/faketree/images/pxeboot/vmlinuz, tests/clitest.py:
	Add cli test cases for --location and --cdrom URL.

	Make a fake centos install directory in the test files that we can
	use to trigger the desired behavior.
	[335ecbb1c2cd]

	* virt-install, virtinst/DistroInstaller.py:
	virt-install: Fix --cdrom URL installs

	This has been busted since at least the prompting refresh.
	[e76a9fc2b1fa]

2009-06-17  Cole Robinson  <crobinso@redhat.com>

	* virtinst/VirtualNetworkInterface.py, virtinst/_util.py,
	virtinst/util.py:
	Refactor default net device searching.

	We had some duplicate code, and some pretty careless code that could
	bomb out in corner cases (rhbz 506319)
	[503cd42936a9]

	* virtinst/VirtualAudio.py:
	Add 'ac97' to sound model list.
	[9da0cafaf0e9]

2009-06-12  Cole Robinson  <crobinso@redhat.com>

	* virt-clone, virt-image, virt-install, virtinst/cli.py:
	Let libvirt decide the default connection.

	Rather than look for xen or qemu files to determine the default
	connection, just pass None to libvirt.open and let it decide for us.
	[030fbc6df74f]

	* virtconv/diskcfg.py:
	Fix diskcfg typo in kvm-img commit.
	[dbae1daaaded]

2009-06-12  Guido Gunther  <Guido Gunther>

	* virtinst/osdict.py:
	use QEMU's USB Tablet with Squeeze guests evdev picks this up as
	mouse which gives more exact mouse handling without the need to
	grab/ungrab the mouse anymore.
	--- virtinst/osdict.py | 7 +++++++ 1 files changed, 7
	insertions(+), 0 deletions(-)
	[9f62291919b3]

2009-06-09  Cole Robinson  <crobinso@redhat.com>

	* AUTHORS, virtconv/diskcfg.py:
	Use kvm-img if qemu-img is not available. (Doug Goldstein)
	[89c9f3ece3fb]

2009-06-04  Cole Robinson  <crobinso@redhat.com>

	* tests/__init__.py, tests/pylint-virtinst.sh, tests/xmlconfig.py,
	virt-install, virtinst/ParaVirtGuest.py:
	Move file backed disks to use 'tap' driver in ParaVirtGuest.

	Add some test cases to exercise the changes, and update pylint
	script to be happy.
	[ab66c26436cf]

2009-06-04  Guido Gunther  <agx@sigxcpu.org>

	* virtinst/util.py:
	Parse /etc/default/console-setup for keymap

	as used on Debian based distributions.
	[3a188381a461]

2009-06-04  Cole Robinson  <crobinso@redhat.com>

	* tests/urltest.py:
	Don't bail URL test suite if distro detection fails.
	[da8fa4e29394]

	* tests/urltest.py, virtinst/OSDistro.py:
	Fix fetching a boot.iso from an install URL for most distros.

	A deficieny in the test suite was hiding an error. Fix the bug (and
	the test suite to catch this in the future).
	[eba75d447521]

2009-06-03  Cole Robinson  <crobinso@redhat.com>

	* virtinst/cli.py:
	Remove accidental debug print.
	[d9f580f804f1]

2009-05-07  Cole Robinson  <crobinso@redhat.com>

	* virtinst/cli.py:
	Allow PolicyKit and SASL authentication.

	Use openAuth when opening the initial connection: allows PolicyKit
	and SASA username/password auth.
	[5d6dc8af58b5]

2009-05-26  Cole Robinson  <crobinso@redhat.com>

	* man/en/virt-install.pod.in, virt-install:
	virt-install: Make --accelerate behavior the default.

	With introduction of the --virt-type option, there is now a way to
	specify a deliberately un-accelerated guest (--virt-type qemu). Now
	we can make
	--accelerate the default behavior, since if KVM/KQEMU is present we
	can assume the user wants to make use of it.
	[bec888f2890f]

2009-05-22  Cole Robinson  <crobinso@redhat.com>

	* man/en/virt-install.pod.in, tests/clitest.py, virt-install:
	virt-install: Add --virt-type option.

	Allows manually specifying a hypervisor name (kvm, qemu, xen, ...)
	which maps to the /domain/@type attribute in libvirt xml.
	[238f8cc1568f]

	* man/en/virt-clone.pod, tests/clitest.py, virt-clone,
	virtinst/CloneManager.py:
	virt-clone: Add --auto-clone option

	This option will generate a new VM name, and paths for new storage,
	mostly by appending '-clone' to the source name/paths.
	[26ad0e1b5959]

	* virtinst/Storage.py, virtinst/_util.py:
	Add a name generation function to _util.

	Useful for finding non colliding names and paths.
	[1b3c4b8a358b]

	* tests/clone-xml/cross-pool-in.xml, tests/clone-xml/cross-pool-
	out.xml, tests/clone-xml/managed-storage-in.xml, tests/clone-xml
	/managed-storage-out.xml, tests/clonetest.py,
	virtinst/CloneManager.py, virtinst/Storage.py,
	virtinst/VirtualDisk.py:
	Support managed storage cloning with virt-clone.

	We move all the cloning routines into VirtualDisk, which saves us
	lots of duplicate validation. A new parameter is added to
	VirtualDisk: clone_path.

	Several test cases are also added.
	[b3a11d01c011]

2009-05-21  Cole Robinson  <crobinso@redhat.com>

	* tests/storage.py, virtinst/Storage.py, virtinst/_util.py:
	Add CloneVolume class.

	Used for directly cloning a volume, just using name substitution in
	the xml. This is the only future proof way to do it, rather than
	pulling info out of the source xml and trying to populate a new
	Volume object.
	[7d341704bc49]

2009-05-26  Cole Robinson  <crobinso@redhat.com>

	* virtinst/Storage.py, virtinst/VirtualDisk.py:
	Add explicit 'file_type' for file vs. block to StorageVolume
	classes.

	Previously we could only glean this information from instanceof.
	[95f416db5c10]

	* tests/storage.py, virtinst/Storage.py:
	Add 'input_vol' parameter to StorageVolume objects.

	Maps through to virStorageVolCreateXMLFrom, which allows storage
	cloning and conversion.
	[7aeacfce408e]

	* virtinst/Storage.py:
	Report libvirt storage allocation progress.

	Requires libvirt 0.6.4 (not yet released) or later.
	[94fb3e5f62d7]

2009-05-22  Cole Robinson  <crobinso@redhat.com>

	* virtinst/VirtualDisk.py:
	Silence some debugging.
	[7019487d9b19]

	* virt-install:
	virt-install: Small cleanup
	[a900721b30ac]

	* man/en/virt-install.pod.in, virt-install:
	virt-install: Fix --wait -1
	[ec66e66f7c02]

	* virt-install:
	Fix typo in error message.
	[61f57fa3c2b9]

2009-05-15  Cole Robinson  <crobinso@redhat.com>

	* virtinst/VirtualDisk.py:
	Remove libvirt storage sparse-only hack.

	Libvirt upstream no longer blocks all pool operations while a file
	volume is being allocated, so drop the hack.
	[e34de678f53a]

2009-05-26  Cole Robinson  <crobinso@redhat.com>

	* virtinst/VirtualNetworkInterface.py:
	Don't make VirtualNetworkInterface.type read only.
	[9e5ead73e8d2]

2009-05-21  Cole Robinson  <crobinso@redhat.com>

	* man/en/virt-image.pod, man/en/virt-install.pod.in, virt-image, virt-
	install, virtinst/cli.py:
	Mark older network and storage cli options as deprectated.

	Expand the cli tools output to include simple examples, and don't
	list help output for deprecated options.
	[29da8d156bdc]

2009-05-20  Cole Robinson  <crobinso@redhat.com>

	* man/en/virt-install.pod.in, tests/clitest.py, virtinst/cli.py:
	Allow specifying mac= with --network option.
	[8b8b79b2bfd0]

	* tests/clitest.py, virt-image, virt-install, virtinst/cli.py:
	Clean up cli network parameter handling.

	Try to make the whole setup more extensible for adding future
	parameters to --network, without having to touch every cli tool that
	uses it.
	[5c76390e0f24]

	* tests/clitest.py, virtinst/VirtualNetworkInterface.py:
	Clean up some validation in VirtualNetworkInterface
	[ffc4facf5214]

2009-05-11  Cole Robinson  <crobinso@redhat.com>

	* virt-image, virtinst/cli.py:
	Remove some unnecessary wrapper functions from virt-image.
	[601c4ff64c69]

	* tests/clitest.py:
	Add some more cli test cases.
	[c42486cb1cbf]

	* virt-image:
	Fix virt-image --nographics
	[acc28db587ff]

2009-05-20  Cole Robinson  <crobinso@redhat.com>

	* tests/xmlconfig-xml/boot-many-chars.xml, tests/xmlconfig-xml/boot-
	many-devices.xml, tests/xmlconfig.py:
	Add character device xml building into the test suite.
	[328414090700]

	* tests/image-xml/image2guest/image-xenfv32.xml, tests/xmlconfig-xml
	/boot-fullyvirt-disk-block.xml, tests/xmlconfig-xml/boot-fullyvirt-
	disk-file.xml, tests/xmlconfig-xml/boot-fullyvirt-pxe-nodisks.xml,
	tests/xmlconfig-xml/boot-fullyvirt-pxe.xml, tests/xmlconfig-xml
	/boot-many-devices.xml, tests/xmlconfig-xml/boot-many-disks2.xml,
	tests/xmlconfig-xml/boot-many-hostdevs.xml, tests/xmlconfig-xml
	/boot-many-nics.xml, tests/xmlconfig-xml/boot-many-sounds.xml, tests
	/xmlconfig-xml/boot-windowsxp.xml, tests/xmlconfig-
	xml/install-f10.xml, tests/xmlconfig-xml/install-f11.xml, tests
	/xmlconfig-xml/install-fullyvirt-disk-block.xml, tests/xmlconfig-xml
	/install-fullyvirt-disk-file.xml, tests/xmlconfig-xml/install-
	fullyvirt-import.xml, tests/xmlconfig-xml/install-fullyvirt-
	livecd.xml, tests/xmlconfig-xml/install-fullyvirt-pxe-nodisks.xml,
	tests/xmlconfig-xml/install-fullyvirt-pxe.xml, tests/xmlconfig-xml
	/install-windowsxp.xml, tests/xmlconfig-xml/misc-qemu-driver-
	name.xml, tests/xmlconfig-xml/misc-qemu-driver-type.xml, tests
	/xmlconfig-xml/misc-xml-escaping.xml, virtinst/FullVirtGuest.py:
	Use device API for the previously hardcoded 'console' device.

	Since this changes the xml ordering, lots of test files need
	updating.
	[a138086e2fdf]

	* virtinst/FullVirtGuest.py, virtinst/Guest.py,
	virtinst/ParaVirtGuest.py:
	Use device APIs for building guest XML.
	[bcc69213ad1a]

	* virtinst/FullVirtGuest.py, virtinst/Guest.py,
	virtinst/ParaVirtGuest.py:
	Use VirtualInputDevice internally.

	We now only added the default input device if one wasn't manually
	specified. This will allow future users to overwrite the previously
	hardcoded default.
	[a7a8c0bfb00e]

	* tests/pylint-virtinst.sh, tests/xmlconfig.py,
	virtinst/FullVirtGuest.py, virtinst/Guest.py,
	virtinst/ImageManager.py, virtinst/ParaVirtGuest.py:
	Use internal device APIs when running the install process.
	[f2267925858f]

	* virtinst/Guest.py:
	Add Guest device add/remove API.

	Rather than maintain a separate list for each type of device (disks,
	nics, hostdevs, ...), add an API for add, removing, and fetching
	devices.

	Back compat with the existing device lists is maintained, but the
	new API is required for adding arbitrary input or char devices (and
	all new devices going forward.)
	[9b0cda365e95]

	* tests/validation.py, virtinst/VirtualDevice.py,
	virtinst/VirtualInputDevice.py, virtinst/__init__.py:
	Add VirtualInputDevice class.
	[d94c42f50eea]

	* tests/pylint-virtinst.sh, tests/validation.py,
	virtinst/VirtualCharDevice.py, virtinst/VirtualDevice.py,
	virtinst/__init__.py:
	Add VirtualCharDevice module.

	Used for building serial, parallel, and back-compat console device
	xml.
	[c8cd5021fb2b]

	* virtinst/VirtualAudio.py, virtinst/VirtualDevice.py,
	virtinst/VirtualDisk.py, virtinst/VirtualGraphics.py,
	virtinst/VirtualHostDevice.py, virtinst/VirtualNetworkInterface.py:
	Add 'virtual_device_type' field to every device class.

	Will facilitate a unified device add/remove API for the Guest class.
	[f331a34a1c6e]

	* tests/xmlconfig-xml/boot-many-devices.xml, tests/xmlconfig-xml/boot-
	many-disks2.xml, tests/xmlconfig-xml/boot-many-hostdevs.xml, tests
	/xmlconfig-xml/boot-many-nics.xml, tests/xmlconfig-xml/boot-many-
	sounds.xml, tests/xmlconfig-xml/boot-windowsxp.xml, tests/xmlconfig-
	xml/install-f10.xml, tests/xmlconfig-xml/install-f11.xml, tests
	/xmlconfig-xml/install-windowsxp.xml, tests/xmlconfig.py:
	Add xml test cases for OS Type/Variant installs + and multi device
	xml.
	[4a8a85512873]

	* tests/nodedev.py, virtinst/VirtualHostDevice.py:
	Fix cosmetic spacing issue with HostDevice xml generation.

	Make it more inline with existing device convention.
	[b6a00397fc03]

	* tests/__init__.py, tests/image-xml/image.xml, tests/image-
	xml/image2guest/image-xenfv32.xml, tests/image-xml/image2guest
	/image-xenpv32.xml, tests/image.py:
	Use prepare_install in image2guest test suite.

	This actually populates devices in the final XML.
	[cb97b3abb8cd]

2009-05-11  Guido Günther  <agx@sigxcpu.org>

	* man/en/virt-install.pod.in, tests/clitest.py, virt-image, virt-
	install, virtinst/cli.py:
	Allow to specify nic model with --network
	[ea0fe33e53a8]

2009-05-09  Cole Robinson  <crobinso@redhat.com>

	* tests/pylint-virtinst.sh, tests/xmlconfig-xml/misc-qemu-driver-
	name.xml, tests/xmlconfig-xml/misc-qemu-driver-type.xml,
	tests/xmlconfig.py, virtinst/VirtualDisk.py:
	Add support for QEMU driver name and type to VirtualDisk.

	Also add a few test cases to make sure we get expected behavior.
	[96bc6e8c5376]

	* virtinst/VirtualDevice.py:
	Add a _get_uri function to VirtualDevice

	Useful for overriding in the test suite to make to fake any uri we
	want.
	[08ae1c1786e1]

	* tests/clitest.py, virtinst/cli.py:
	Fix --disk vol= and pool=

	Regressed with changes to bring back parameter prompting. Also added
	are several cli test cases to catch these regressions in the future.
	[676312613510]

	* tests/clitest.py:
	Use proper image path in clitest, enable a disabled test case.
	[6b4e1cd9a5cc]

2009-05-07  Cole Robinson  <crobinso@redhat.com>

	* virtinst/cli.py:
	Log the full virt-* command line.
	[2450a9dcaa03]

	* man/en/virt-clone.pod, man/en/virt-convert.pod, man/en/virt-
	image.pod, man/en/virt-install.pod.in:
	Update bug reporting info in manpages.

	Basically offload it to http://virt-
	manager.et.redhat.com/page/BugReporting
	[fec32be02fba]

	* man/en/virt-image.pod, man/en/virt-install.pod.in:
	Tweak 'vnclisten' man page description.
	[e683588c4177]

	* virtinst/OSDistro.py:
	Make sure autodetected OS type/variant are in the osdict.

	If not, log a message and set the values to None, rather than barf
	later down the line.
	[db997572bdc8]

	* tests/urltest.py, virtinst/OSDistro.py:
	Fix os_variant autodetection for F11-{alpha/beta/preview}

	Prevents URL installs for the stated releases, unless an --os-
	variant is manually specified.
	[9768e52d4d62]

	* virtinst/_util.py, virtinst/cli.py:
	Add helper 'log_exception' function.

	Will log a traceback at the DEBUG level. Useful for logging
	deliberately ignored exceptions, without spamming stderr when using
	virt-* tools.
	[94be2c80832a]

	* tests/pylint-virtinst.sh:
	Expand 'ignore' parameters regex for pylint script.
	[9c40046826c9]

2009-05-06  Cole Robinson  <crobinso@redhat.com>

	* man/en/virt-image.pod, man/en/virt-install.pod.in, tests/clitest.py,
	virt-image, virt-install, virtinst/cli.py:
	Add a --vnclisten option to virt-install and virt-image.
	[78e590ca02ea]

	* virt-image, virt-install, virtinst/cli.py:
	Move duplicate graphics options definitions to cli.py
	[bb6eb6a7dad0]

2009-05-07  Cole Robinson  <crobinso@redhat.com>

	* HACKING, setup.py, tests/cli-test-xml/clone-disk.xml, tests/cli-
	test-xml/image.xml, tests/clitest.py:
	Add a new test suite 'test_cli'

	Exercises various invocations of virt-install, virt-clone, and virt-
	image.
	[76523994ee2b]

2009-05-06  Cole Robinson  <crobinso@redhat.com>

	* tests/clonetest.py:
	Fix a bug in the clone test suite.
	[668b1901f5bd]

	* virtinst/CloneManager.py:
	Fix a syntax error in CloneManager

	Not too harmful, but was squashing legitimate errors if they arose.
	[7322f9c73adb]

	* virtinst/VirtualHostDevice.py:
	Call host device detach/reset on the correct object.

	Fixes PCI assignment, which on libvirt 0.6.2 was busted.
	[ab3111177ec1]

2009-04-23  John Levon  <john.levon@sun.com>

	* virtinst/OSDistro.py:
	Fix processing of extra args for OpenSolaris domains

	Signed-off-by: John Levon <john.levon@sun.com>
	[722e1b1dacfd]

2009-04-22  Cole Robinson  <crobinso@redhat.com>

	* tests/pylint-virtinst.sh, virtinst/VirtualDisk.py,
	virtinst/_util.py:
	Add selinux_label option to VirtualDisk

	If not overridden by the user, selinux_label will be filled with the
	label of the specified storage, or "" if we are creating storage.

	If the user specifies a label, it will be used to label the new
	storage or relabel the existing storage when 'setup()' is called.

	This is deliberately crippled at the moment: even if the user
	requests it, we will only change the label for existing, local
	storage that is marked readonly (basically CD-ROM devices), since
	that is the priority case at the moment for Fedora. The code
	attempts to be robust in the case of selinux not being present, so
	this shouldn't change behavior for other distros.
	[47459aeae1ad]

	* virtinst/cli.py:
	Don't print two errors if cli validation fails, and not in prompting
	mode.
	[34c0a5dad404]

	* virtinst/VirtualDisk.py:
	Break VirtualDisk local file creation out into it's own function.
	[6dcea8f463af]

	* virtinst/CloneManager.py, virtinst/VirtualDisk.py:
	Use BaseMeter to skip some 'meter == None' checks
	[ed4e31291784]

	* virtinst/VirtualDisk.py:
	Factor out some duplicate checking in VirtualDisk
	[df1ae8b2555c]

	* virtconv/diskcfg.py:
	popen2 is deprecated, switch to subprocess.
	[cdf4e907f334]

	* tests/pylint-virtinst.sh, virtinst/Installer.py, virtinst/_util.py:
	Make sure kernel/initrd tmp directory has correct selinux labelling.
	[aee2b9aba590]

2009-04-20  Cole Robinson  <crobinso@redhat.com>

	* virtinst/OSDistro.py:
	Support post-2009.06 OpenSolaris releases (John Levon)
	[bb99f9a13ea4]

2009-04-14  Cole Robinson  <crobinso@redhat.com>

	* po/pl.po:
	Updated polish translation.
	[cdb5d5b6fee6]

2009-04-09  Cole Robinson  <crobinso@redhat.com>

	* po/es.po, po/fr.po, po/it.po, po/ja.po, po/pl.po, po/pt_BR.po,
	po/sr.po, po/sr@latin.po, po/virtinst.pot, po/zh_CN.po:
	Import updated translations, and resync pot file.
	[e686e9aae123]

2009-04-08  Cole Robinson  <crobinso@redhat.com>

	* tests/pylint-virtinst.sh, tests/storage.py, tests/validation.py,
	virt-convert, virtconv/parsers/virtimage.py:
	Fix up some pylint shown on Fedora 11.
	[712276328f75]

2009-04-06  Cole Robinson  <crobinso@redhat.com>

	* virtinst/Installer.py:
	Only use xen scratchdir if running as root.
	[f971c1442dc8]

	* tests/capabilities-xml/capabilities-qemu.xml, tests/capabilities.py,
	virtinst/CapabilitiesParser.py:
	Add capabilities 'secmodel' parsing.
	[fbe3d06d2a81]

	* tests/xmlconfig.py:
	Fix test suite breakage with latest libvirt.
	[b90cfb58f8a9]

	* virt-install:
	virt-install: Fix error message typo
	[e65f527bef12]

2009-03-23  Cole Robinson  <crobinso@redhat.com>

	* po/es.po:
	Add spanish translation.
	[a4a3db71aa9e]

	* man/en/virt-clone.1, man/en/virt-clone.pod, man/en/virt-image.1,
	man/en/virt-image.pod, man/en/virt-install.1, man/en/virt-
	install.pod.in, virt-clone, virt-image, virt-install,
	virtinst/cli.py:
	Bring back prompting for virt-install, virt-image. (though not as
	the default behavior)

	All apps now have prompting off by default. It can be turned back on
	with the --prompt option. A hint to this effect is given when we
	error out.

	Additionally prompt for the virt-install --accelerate option.
	[cda75d189b9c]

	* virt-install:
	Correctly handle 'virt-install --wait 0'
	[b5c6e3cb0ebf]

	* virtinst/ImageParser.py:
	Fix virt-image with scratch + user disks.
	[8fdb20af39f9]

	* man/en/virt-image.pod:
	fix --nographics description in virt-image man page.
	[d5f630ee97ea]

2009-03-20  Cole Robinson  <crobinso@redhat.com>

	* virtinst/VirtualDisk.py:
	Remove unneeded logging in VirtualDisk
	[bb55bc475983]

2009-03-19  Cole Robinson  <crobinso@redhat.com>

	* virtinst/FullVirtGuest.py, virtinst/VirtualDisk.py:
	Fix specifying --disk device=floppy
	[fd4baa6410d8]

	* virtinst/CloneManager.py, virtinst/_util.py:
	Add 'disk_exists' util method, use in CloneManager
	[a55347f926f5]

2009-03-18  Cole Robinson  <crobinso@redhat.com>

	* tests/pylint-virtinst.sh:
	Add exception to pylint script.
	[18f93adc0bd2]

2009-03-18  John Levon  <john.levon@sun.com>

	* virtinst/Guest.py:
	Ignore failures to kill the child console process

	For example, it may have quit already.

	Signed-off-by: John Levon <john.levon@sun.com>
	[03e7d0e8ca3b]

	* virtinst/OSDistro.py:
	Support OpenSolaris 2009.06

	This has unfortunately moved the location of the boot archive for
	SPARC support.

	Signed-off-by: John Levon <john.levon@sun.com>
	[6d43e2816650]

	* virtinst/DistroInstaller.py, virtinst/OSDistro.py,
	virtinst/osdict.py:
	Support NetWare PV installs

	Signed-off-by: John Levon <john.levon@sun.com>
	[afffc9d2e1c7]

2009-03-18  Cole Robinson  <crobinso@redhat.com>

	* virtinst/_util.py, virtinst/cli.py, virtinst/util.py:
	Validate passed --keymap value (Tomohiro Takahashi)
	[1af9f5e4281c]

	* virtinst/VirtualHostDevice.py:
	Set host device managed=no for xen
	[96dceaf29571]

2009-03-17  Cole Robinson  <crobinso@redhat.com>

	* virtinst/NodeDeviceParser.py, virtinst/VirtualHostDevice.py:
	Fix node device dettach/reset libvirt calls
	[1288ff456cdb]

2009-03-09  Cole Robinson  <crobinso@redhat.com>

	* .hgtags:
	Added tag virtinst-0_400_3 for changeset 6c4f3454c7a4
	[143cad71a2a6]

	* ChangeLog, NEWS, setup.py:
	Update NEWS, ChangeLog, version #
	[6c4f3454c7a4] [virtinst-0_400_3]

	* man/en/virt-install.1, po/fr.po, po/it.po, po/ja.po, po/pl.po,
	po/pt_BR.po, po/sr.po, po/sr@latin.po, po/virtinst.pot, po/zh_CN.po:
	Update translations.
	[2c64b3c9c7ce]

	* virtinst/NodeDeviceParser.py:
	Add child_dev option to NodeDevice pretty_description.
	[9f2a2b99822e]

2009-03-08  Cole Robinson  <crobinso@redhat.com>

	* virtinst/NodeDeviceParser.py:
	Add pretty_name function to NodeDeviceParser classes.
	[95145b423854]

	* virtinst/NodeDeviceParser.py:
	Remove unimplemented NodeDeviceParser method.
	[52daff67ed09]

2009-03-07  Cole Robinson  <crobinso@redhat.com>

	* virtinst/DistroInstaller.py, virtinst/OSDistro.py:
	Set Guest.os_variant if detect from install media (and user doesn't
	override).
	[c15ecfb17227]

	* virtinst/Guest.py:
	Default to vcpus=1 on Guest init.
	[1415f655bb04]

	* virtinst/DistroInstaller.py:
	Don't override os_type from install media if it was manually set by
	the user.
	[fa15b5e5d82a]

	* virtinst/Guest.py:
	Don't invalidate os_variant if os_type value doesn't change.
	[1842b7b829ee]

2009-03-05  Cole Robinson  <crobinso@redhat.com>

	* virt-install:
	Fix using virt-install --file (it's outright broken)
	[eae3579380dd]

	* virtinst/DistroInstaller.py:
	Remove debugging print message.
	[8a1d27ec3458]

2009-03-04  Cole Robinson  <crobinso@redhat.com>

	* po/pl.po:
	Updated polish translations.
	[8adf5b7ab1bf]

2009-03-03  Cole Robinson  <crobinso@redhat.com>

	* .hgtags:
	Added tag virtinst-0_400_2 for changeset 4a0ffbcbb83e
	[ba3abd7909b8]

	* ChangeLog, python-virtinst.spec.in:
	Sigh, Update Changelog and spec file.
	[4a0ffbcbb83e] [virtinst-0_400_2]

	* .hgtags:
	Added tag virtinst-0_400_2 for changeset aac8602d12ea
	[e3750eb9caff]

	* NEWS, setup.py:
	Bump release.
	[aac8602d12ea]

	* man/en/virt-clone.1, man/en/virt-convert.1, man/en/virt-image.1,
	man/en/virt-install.1, po/fr.po, po/it.po, po/ja.po, po/pl.po,
	po/pt_BR.po, po/sr.po, po/sr@latin.po, po/virtinst.pot, po/zh_CN.po:
	Update man pages + translations.
	[15537c943b78]

	* virt-install:
	_Actually_ add virt-install --host-device option.
	[353b29df730b]

	* man/en/virt-install.pod.in, virt-install, virtinst/cli.py:
	virt-install: Add --host-device command.
	[0c9c1c547e22]

	* tests/nodedev-xml/devxml/pcidev.xml, tests/nodedev-
	xml/devxml/usbdev1.xml, tests/nodedev-xml/devxml/usbdev2.xml,
	tests/nodedev.py, virtinst/Guest.py, virtinst/NodeDeviceParser.py,
	virtinst/VirtualHostDevice.py, virtinst/__init__.py:
	Add VirtualHostDevice classes, for attaching physical host devices
	to a guest.
	[f60fa0fbc033]

	* tests/__init__.py, tests/nodedev-xml/nodexml/net1.xml, tests
	/nodedev-xml/nodexml/net2.xml, tests/nodedev-xml/nodexml/pci1.xml,
	tests/nodedev-xml/nodexml/pci2.xml, tests/nodedev-
	xml/nodexml/scsibus.xml, tests/nodedev-xml/nodexml/scsidev.xml,
	tests/nodedev-xml/nodexml/storage1.xml, tests/nodedev-
	xml/nodexml/storage2.xml, tests/nodedev-xml/nodexml/system.xml,
	tests/nodedev-xml/nodexml/usbbus.xml, tests/nodedev-
	xml/nodexml/usbdev1.xml, tests/nodedev-xml/nodexml/usbdev2.xml,
	tests/nodedev.py, virtinst/NodeDeviceParser.py:
	Add NodeDeviceParser module for parsing libvirt host device xml.
	[762cb24e040d]

	* man/en/virt-clone.1, man/en/virt-clone.pod, man/en/virt-convert.1,
	man/en/virt-convert.pod, man/en/virt-image.1, man/en/virt-image.pod,
	man/en/virt-install.1, man/en/virt-install.pod.in, virt-image, virt-
	install:
	Clean up man pages to have sub catagories, just update them all
	around.
	[5b2b4d8ab290]

	* man/en/virt-convert.pod, man/en/virt-image.pod, virt-image:
	Add --os-type/variant options to virt-image.
	[a883b300179f]

	* INSTALL, MANIFEST.in, man/en/virt-convert.pod, man/en/virt-
	install.pod, man/en/virt-install.pod.in, setup.py:
	Update virt-install man page at 'dist' time with latest os
	type/variants.
	[67c2c9b1d9e7]

	* virtinst/osdict.py:
	Add newer ubuntu variants to osdict (Soren Hansen)
	[6c23e1a56c0a]

2009-03-02  Cole Robinson  <crobinso@redhat.com>

	* virtinst/ImageManager.py:
	Fix ImageInstaller to correctly not set 'features' for PV guests.
	[2ee712d00490]

	* virt-install:
	Use os-type/variant regardless of FV vs. PV.
	[2e33834fe7e9]

	* AUTHORS:
	Fix authors spelling.
	[d4e0b5d98c24]

	* AUTHORS, man/en/virt-install.pod, tests/validation.py, virt-install,
	virtinst/VirtualDisk.py:
	Add virt-install --disk 'cache' option (Ben Kochie)
	[52032ccd3372]

	* virt-install:
	Clean up virt-install install process.
	[0d1919dcdeb2]

	* virtinst/Guest.py:
	Don't continue_install if there is no install phase (import, livecd)
	[21a2e6f705de]

2009-03-01  Cole Robinson  <crobinso@redhat.com>

	* tests/pylint-virtinst.sh:
	Add clearer docs to pylint script about actual bugs.
	[9f02b1bb16e2]

	* virtinst/VirtualDisk.py:
	Clean up VirtualDisk xml building a bit.
	[bdf149a13505]

	* virtinst/LiveCDInstaller.py:
	LiveCDInstaller: Remove no longer relevant validation check.
	[6aeb0e181c69]

	* virtinst/DistroInstaller.py, virtinst/Installer.py:
	Add Installer detect_distro method.

	Calls out to OSDistro to auto determine the OS type/variant of the
	media.
	[8f81f9015bd2]

	* tests/urltest.py, virtinst/OSDistro.py:
	Detect os variant from Distro stores (only for RH distros at the
	moment).
	[526f04425ef7]

2009-02-26  Cole Robinson  <crobinso@redhat.com>

	* virtinst/VirtualDisk.py:
	Option to return VM names from is_conflict_disk.
	[64fb3cf0c673]

2009-02-23  Cole Robinson  <crobinso@redhat.com>

	* man/en/virt-install.pod, virt-install:
	Add virt-install --import option, to use the ImportInstaller
	[cadf160cc77d]

	* tests/pylint-virtinst.sh, tests/xmlconfig-xml/install-fullyvirt-
	import.xml, tests/xmlconfig-xml/install-paravirt-import.xml,
	tests/xmlconfig.py, virtinst/ImportInstaller.py,
	virtinst/ParaVirtGuest.py, virtinst/__init__.py:
	Add ImportInstaller class.

	Used for creating guest xml around an existing disk image. Just uses
	the first Guest disk device as the assumed boot device.
	[b0bc2678e2cb]

	* man/en/virt-clone.pod, virt-clone:
	Add --original-xml option to virt-clone

	Allows passing a libvirt xml file to use as the original guest,
	rather than require an existing defined guest on the connection.
	[da64d8dda68b]

	* virtinst/osdict.py:
	Add Fedora 11 osdict entry. Default to USB tablet for mouse device.
	[65294f71833d]

	* virtinst/FullVirtGuest.py, virtinst/Guest.py:
	Move continue_install functions from FullVirtGuest to Guest.
	[f5f29867456b]

	* tests/validation.py, virtinst/Guest.py:
	Check if VM name is already in use at name set time.
	[eeda94ec8ada]

2009-02-22  Cole Robinson  <crobinso@redhat.com>

	* virtinst/OSDistro.py:
	Fix URL installs wrt recent internal API changes.
	[48cb6fe4e415]

2009-02-21  "Cole Robinson  <crobinso@redhat.com>

	* virtinst/VirtualDisk.py, virtinst/VirtualNetworkInterface.py,
	virtinst/util.py:
	Expand util.xml_get_path to take an arbitrary xml parse function.

	Use this to simplify some xml parsing in the codebase.
	[128d0ea5655e]

	* virtinst/VirtualDisk.py, virtinst/VirtualNetworkInterface.py,
	virtinst/_util.py:
	Factor out duplicate domain lookup code to util.fetch_all_guests
	[ccd4b8532800]

2009-02-21  Cole Robinson  <crobinso@redhat.com>

	* virtinst/DistroInstaller.py:
	Fix error message typo.
	[a9b6fd658aa6]

2009-02-21  "Cole Robinson  <crobinso@redhat.com>

	* virtinst/Guest.py:
	Remove useless check in Guest
	[2c7536c6eea2]

2009-02-18  Cole Robinson  <crobinso@redhat.com>

	* virtinst/CapabilitiesParser.py:
	Improve a CapabilitiesParser error.
	[593e2a776396]

	* virtinst/FullVirtGuest.py, virtinst/Guest.py,
	virtinst/LiveCDInstaller.py, virtinst/ParaVirtGuest.py,
	virtinst/_util.py:
	Centralize more xml building in Guest class
	[e4e3827df729]

	* tests/pylint-virtinst.sh, virt-image, virt-install,
	virtinst/CapabilitiesParser.py, virtinst/Installer.py:
	Add guest_from_installer helper method to Installer class.

	The method returns a valid Guest instance built around the
	installers values, since the installer instance has all the info we
	need to decide what the user wants for a Guest class.

	Also add a 'guest_lookup' method to CapabilitiesParser, which allows
	a one stop function for requesting if a virt type is available and
	returning the appropriate Capabilities objects, with useful error
	messages.
	[c5119665f2ca]

	* virtinst/DistroInstaller.py, virtinst/FullVirtGuest.py,
	virtinst/Guest.py, virtinst/ImageManager.py,
	virtinst/LiveCDInstaller.py, virtinst/PXEInstaller.py:
	Some formatting and comment cleanup across the board.
	[bb58d105db97]

	* tests/pylint-virtinst.sh, virtinst/DistroInstaller.py,
	virtinst/FullVirtGuest.py, virtinst/ImageManager.py,
	virtinst/Installer.py, virtinst/LiveCDInstaller.py,
	virtinst/PXEInstaller.py, virtinst/ParaVirtGuest.py:
	Add public 'get_install_xml' function to installer classes.

	This basically swaps out _get_osblob with get_install_xml. There is
	now a public interface for querying the installers xml which is
	ideally future proof by passing the 'Guest' object for all the
	needed parameters.
	[cd4d3e7353cb]

	* virt-clone:
	Fix out of bounds error with virt-clone disk prompting.
	[2fdf8457b292]

	* tests/validation.py, virtinst/FullVirtGuest.py, virtinst/Guest.py,
	virtinst/ImageManager.py, virtinst/Installer.py,
	virtinst/ParaVirtGuest.py:
	Move arch prop from installer to guest
	[488a2374cad9]

	* tests/validation.py, virt-image, virtinst/ImageManager.py:
	Allow passing a connection to ImageInstaller.

	Also add ImageInstaller validation testing.
	[28278c40459e]

	* virtinst/Guest.py, virtinst/Storage.py, virtinst/_util.py:
	Factor out duplicate name validation.
	[a9cf7aa88c93]

	* virtinst/__init__.py:
	Add 'Storage' module to the public API.
	[c4207d53197c]

	* tests/pylint-virtinst.sh, virtinst/Guest.py,
	virtinst/ImageManager.py, virtinst/Installer.py,
	virtinst/Storage.py, virtinst/VirtualAudio.py,
	virtinst/VirtualGraphics.py, virtinst/VirtualNetworkInterface.py:
	Enable 'defined outside __init__' pylint checks and fix associated
	errors.
	[a16fe3e9e467]

	* tests/xmlconfig-xml/boot-fullyvirt-pxe-nodisks.xml, tests/xmlconfig-
	xml/boot-fullyvirt-pxe.xml, tests/xmlconfig-xml/install-fullyvirt-
	pxe-nodisks.xml, tests/xmlconfig-xml/install-fullyvirt-pxe.xml,
	tests/xmlconfig.py, virtinst/PXEInstaller.py:
	If PXE installing and no disks attached to VM, always boot PXE.
	[8a3a5dcad488]

	* tests/xmlconfig-xml/install-paravirt-disk-block.xml, tests
	/xmlconfig-xml/install-paravirt-disk-drv-file.xml, tests/xmlconfig-
	xml/install-paravirt-disk-drv-phy.xml, tests/xmlconfig-xml/install-
	paravirt-disk-drv-tap-qcow.xml, tests/xmlconfig-xml/install-
	paravirt-disk-drv-tap.xml, tests/xmlconfig-xml/install-paravirt-
	disk-file.xml, tests/xmlconfig-xml/install-paravirt-many-disks.xml,
	virtinst/DistroInstaller.py, virtinst/FullVirtGuest.py,
	virtinst/ImageManager.py, virtinst/Installer.py,
	virtinst/LiveCDInstaller.py, virtinst/PXEInstaller.py,
	virtinst/ParaVirtGuest.py:
	Pass Guest instance to Installer._get_osblob.

	Rather than pull out each individual piece of info we need (ishvm,
	arch, loader).
	[07e0d893a925]

	* tests/urltest.py, virt-image, virt-install,
	virtinst/DistroInstaller.py, virtinst/FullVirtGuest.py,
	virtinst/Guest.py, virtinst/OSDistro.py:
	Make 'arch' an attribute of all guest classes.

	As such, try to fix up all places where 'arch' is optional
	(OSDistro, etc.) Remove lots of uses of 'platform' and 'uname' since
	they aren't applicable in the remote case anyways.
	[caf166fc4cde]

	* virtinst/Installer.py:
	Add some general documentation on what Installers do
	[bd36436ab060]

	* virtinst/OSDistro.py:
	Centralize Distro instantiation.
	[ea29abe3feec]

	* setup.py:
	Fix url test suite if not specifying a local path.
	[6595233a24e8]

	* tests/xmlconfig.py:
	Use helper functions for xmlconfig test.
	[e5be89fd0446]

	* virtinst/CloneManager.py:
	Accomodate no passed meter in CloneManager
	[7f388a491d46]

	* virt-clone, virtinst/CloneManager.py, virtinst/VirtualDisk.py:
	virt-clone: better prompting/command line interaction for storage
	paths.
	[fd1dc7a47b71]

	* virt-clone:
	Print confirmation when virt-clone finishes.
	[1a8bff126e32]

	* tests/__init__.py, tests/image-xml/image2guest/image-xenfv32.xml,
	tests/xmlconfig-xml/boot-fullyvirt-disk-block.xml, tests/xmlconfig-
	xml/boot-fullyvirt-disk-file.xml, tests/xmlconfig-xml/install-
	fullyvirt-disk-block.xml, tests/xmlconfig-xml/install-fullyvirt-
	disk-file.xml, tests/xmlconfig-xml/install-fullyvirt-livecd.xml,
	tests/xmlconfig-xml/install-fullyvirt-pxe.xml, tests/xmlconfig-xml
	/misc-xml-escaping.xml, virtinst/VirtualGraphics.py:
	Populate SDL display and xauth xml attributes in VirtualGraphics.
	[75525ce5edc2]

2009-02-16  Cole Robinson  <crobinso@redhat.com>

	* virtinst/VirtualAudio.py, virtinst/VirtualGraphics.py:
	Have all device classes extend VirtualDevice
	[55b216e9b217]

2009-02-15  Cole Robinson  <crobinso@redhat.com>

	* virtinst/keytable.py, virtinst/util.py:
	Be a bit more intelligent when trying to determine VNC keymaps.
	[b9a4f2d775ca]

2009-02-13  Cole Robinson  <crobinso@redhat.com>

	* virtinst/Installer.py:
	Set default install _os_type value.
	[fc17a264e2a5]

2009-02-12  John Levon  <john.levon@sun.com>

	* virtconv/parsers/virtimage.py:
	Fix virt-convert osdict usage

	Signed-off-by: John Levon <john.levon@sun.com>
	[d8c2fc154a87]

2009-02-10  Cole Robinson  <crobinso@redhat.com>

	* tests/pylint-virtinst.sh, virtinst/OSDistro.py:
	Accommodate yet more pylint.
	[e89c559da3ff]

	* virtinst/ImageFetcher.py:
	Use urlgrabber for LocalImageFetcher
	[848709f8f4d9]

	* virtinst/User.py:
	Fix User pylint.
	[359f95e86214]

	* virtinst/ImageFetcher.py:
	Use safe path building function for local image fetchers.
	[50c21b120489]

	* virtinst/DistroInstaller.py:
	Protect against unspecified connection in distroinstaller.
	[c5a5a1418151]

	* setup.py, tests/urltest.py, tests/validation.py:
	Allow specifying local file paths (isos, dirs) to test_urls
	[a87c0b61114e]

	* virtinst/OSDistro.py:
	Check we have mandriva VERSION before attempting to fetch
	[a81a68dd07ed]

	* tests/urltest.py:
	urltest: Try to handle the occasionaly proxy error
	[f21a2c8f36cc]

	* virtinst/OSDistro.py:
	Factor out some duplicate fetching code in OSDistro.
	[9fc35967030e]

2009-02-09  Cole Robinson  <crobinso@redhat.com>

	* HACKING, virtinst/__init__.py:
	Document the public API.
	[0e42b4fd325f]

	* tests/urltest.py, virtinst/CloneManager.py,
	virtinst/DistroInstaller.py, virtinst/DistroManager.py,
	virtinst/FullVirtGuest.py, virtinst/Guest.py,
	virtinst/ImageManager.py, virtinst/Installer.py,
	virtinst/LiveCDInstaller.py, virtinst/OSDistro.py,
	virtinst/PXEInstaller.py, virtinst/ParaVirtGuest.py,
	virtinst/VirtualAudio.py, virtinst/VirtualGraphics.py,
	virtinst/VirtualNetworkInterface.py, virtinst/__init__.py:
	Break out Device and Installer classes to their own files.

	From Guest.py: Break out VirtualAudio to VirtualAudio.py Break
	out VirtualGraphics to VirtualGraphics.py Break out
	VirtualNetworkInterface to VirtualNetworkInterface.py Break out
	Installer to Installer.py

	From DistroManager.py: Break out PXEInstaller to PXEInstaller.py
	Move distro fetch helpers to OSDistro

	Rename DistroManager.py to DistroInstaller.py
	[8efdc357ba55]

	* virt-install:
	Fix --wait 0 to imply --noautoconsole
	[e5d7877dbd7c]

2009-02-07  "Cole Robinson  <crobinso@redhat.com>

	* virt-install:
	Clean up variable names in virt-install
	[e757b7dc583a]

2009-02-06  Cole Robinson  <crobinso@redhat.com>

	* tests/validation.py, virtinst/LiveCDInstaller.py:
	Validate livecd installer location at set time, rather than
	prepare() time.
	[a61838f66abf]

	* virt-install:
	Hook up specifying disk as 'shareable' via virt-install cli.
	[c289f6de6bfe]

	* tests/validation.py, virtinst/VirtualDisk.py:
	Allow specifying 'shareable' attribute to VirtualDisk
	[a20f371eb6fa]

	* po/zh-CN.po, po/zh_CN.po:
	Renaming zh_CN translation file.
	[b070b354ebe4]

2009-02-06  john  <john.levon@sun.com>

	* virt-install, virtinst/Guest.py:
	Kill console process if control-C is pressed

	Signed-off-by: John Levon <john.levon@sun.com>
	[f9800a2a6a89]

	* virt-install:
	Default --wait indefinitely for Windows

	If we're installing a Windows guest, it will reboot during the
	installation. Default to waiting in this case so virt-install is
	still around to manage the reboot.

	Signed-off-by: John Levon <john.levon@sun.com>
	[dd23099a893b]

	* virt-install:
	Clean up help message for --livecd

	Signed-off-by: John Levon <john.levon@sun.com>
	[5c35b7e74947]

2009-01-30  Cole Robinson  <crobinso@redhat.com>

	* man/en/virt-install.pod:
	virt-install man page type s/bux/bus (Guido Gunther)
	[446816fe543f]

2009-01-30  john  <john.levon@sun.com>

	* man/en/virt-install.pod, virt-install:
	Add --nonetworks option

	Signed-off-by: John Levon <john.levon@sun.com>
	[d4e641b66ddd]

2009-01-30  Cole Robinson  <crobinso@redhat.com>

	* virtinst/CloneManager.py:
	Add CloneManager API to return VirtualDisk objs for original/clone
	disks.

	Now we carry these instances around internally, providing a nice way
	to contain size, type, and path info, rather than deal with multiple
	lists. This also gives us remote/storage awareness (though we can't
	do anything with it yet).
	[cb2b07d4c1b5]

	* tests/clone-xml/empty-disks-in.xml, tests/clone-xml/general-cfg-
	in.xml, tests/clone-xml/noclone-storage-in.xml, tests/clone-xml
	/noclone-storage-out.xml, tests/clone-xml/readonly-disks-in.xml,
	tests/clonetest.py:
	Touch some temp files for clone testing.
	[1297d5f45cf6]

	* tests/clone-xml/empty-disks-out.xml, tests/clone-xml/general-cfg-
	in.xml, tests/clone-xml/general-cfg-out.xml, tests/clone-xml
	/readonly-disks-out.xml, tests/clonetest.py:
	Alter clone test suite to test File->Block and Block->File
	[75baa5f68d64]

	* virtinst/CloneManager.py:
	Move more functionality into _local_clone.
	[619215b828bf]

	* virtinst/DistroManager.py, virtinst/VirtualDisk.py,
	virtinst/_util.py:
	Have VirtualDisk set 'size' for existing storage.
	[0e83ad363431]

	* tests/validation.py, virtinst/CloneManager.py:
	Check clone name collision and set time.
	[ebd4a1ab7f85]

2009-01-29  Cole Robinson  <crobinso@redhat.com>

	* virtinst/CloneManager.py:
	Generate UUID at init time in CloneManager
	[33ba759d3ea6]

	* virtinst/CloneManager.py:
	Define clone VM before duplicating any storage.

	This way if the 'define' step fails, we haven't wasted the users
	time.
	[8802a0d44f15]

	* tests/clone-xml/noclone-storage-in.xml, tests/clone-xml/noclone-
	storage-out.xml, tests/clonetest.py, tests/pylint-virtinst.sh:
	Add clone tests for remote VM cloning.
	[d74eb578f3fd]

	* virt-clone, virtinst/CloneManager.py, virtinst/cli.py:
	Have virt-clone validation be a bit more remote URI and storage
	aware.
	[18487c022750]

	* virtinst/VirtualDisk.py:
	Improve some VirtualDisk error messages when looking up remote
	storage.
	[28cfa8af62d4]

	* virtinst/VirtualDisk.py:
	Fix VirtualDisk.path building for a vol_install object.

	Also touch up some log messages in that area.
	[1700abba882a]

2009-01-30  Cole Robinson  <crobinso@redhat.com>

	* virtinst/CloneManager.py:
	Refactor disk cloning to provide better validation.

	Essentially, break out cloning into two loops: one to validate and
	choose clone method, one to do the actual cloning. This way we can
	catch failures early, rather than after cloning a disk or two.
	[44dee1dd1836]

2009-01-29  Cole Robinson  <crobinso@redhat.com>

	* man/en/virt-clone.pod, tests/validation.py, virt-clone,
	virtinst/CloneManager.py:
	UUID has never been a valid value for virt-clone original guest.

	And since no one has ever reported a bug, just remove the behavior
	and change the docs.

	Also centralized original guest name validation to be done at set
	time.
	[f9c4be9bf6fc]

2009-01-28  Cole Robinson  <crobinso@redhat.com>

	* virtinst/CloneManager.py:
	Break out cloning of local storage to its own function.
	[6715c9f199c7]

2009-01-29  Cole Robinson  <crobinso@redhat.com>

	* tests/clone-xml/empty-disks-in.xml, tests/clone-xml/empty-disks-
	out.xml, tests/clone-xml/general-cfg-in.xml, tests/clone-xml
	/general-cfg-out.xml, tests/clone-xml/nostorage-in.xml, tests/clone-
	xml/nostorage-out.xml, tests/clone-xml/readonly-disks-in.xml, tests
	/clone-xml/readonly-disks-out.xml, tests/clonetest.py:
	Actually add all the clone test suite files.
	[1403c69d0344]

2009-01-28  Cole Robinson  <crobinso@redhat.com>

	* tests/__init__.py:
	Silence libvirt spew during test suite.
	[39592dc6967b]

2009-01-29  Cole Robinson  <crobinso@redhat.com>

	* tests/__init__.py:
	Add test suite for clone xml altering.
	[dabab5990a86]

	* virtinst/CloneManager.py:
	Allow specifying original guest XML to CloneManager.

	This removes to requirement to clone an existing guest.
	[dd059b598e9c]

2009-01-28  Cole Robinson  <crobinso@redhat.com>

	* tests/pylint-virtinst.sh:
	Revert pylint script change so that we actually check virtconv
	[fec5b7a4a50b]

	* virtinst/Guest.py, virtinst/ParaVirtGuest.py:
	Don't use os_type="linux' for default PV installer.

	Also try to validate this at the Installer level and only carry
	around 'xen' internally.
	[9e41393d3fcc]

2009-01-27  Cole Robinson  <crobinso@redhat.com>

	* virtinst/Guest.py:
	Add function to VirtualGraphics to list valid keymap options.
	[e4e4d07e2339]

2009-01-26  Cole Robinson  <crobinso@redhat.com>

	* tests/urltest.py:
	Fix up url test suite.
	[b30ad184a207]

	* virtinst/Guest.py:
	Silence a deprecation warning
	[5eb07bdc9539]

	* virtinst/OSDistro.py:
	Argh, unbreak URL install with extra kernel arguments.
	[5ea2332d65ff]

	* .hgtags:
	Added tag virtinst-0_400_1 for changeset 1a2a09eef64e
	[689089a33481]

	* ChangeLog, NEWS, setup.py:
	Update NEWS, changelog, bump release number.
	[1a2a09eef64e] [virtinst-0_400_1]

	* MANIFEST.in:
	Add pylint script to MANIFEST.
	[1287af113182]

	* man/en/virt-clone.1, man/en/virt-convert.1, man/en/virt-image.1,
	man/en/virt-image.pod, man/en/virt-pack.1, man/en/virt-pack.pod:
	Remove virt-pack docs. Fix virt-image man page error.
	[65bf8fa6c35c]

	* po/fr.po, po/it.po, po/ja.po, po/pl.po, po/pt_BR.po, po/sr.po,
	po/sr@latin.po, po/virtinst.pot, po/zh-CN.po:
	Refresh translations.
	[cf57772e23a1]

	* man/en/virt-clone.1, man/en/virt-install.1, man/en/virt-install.pod:
	Add URL examples to virt-install man page, regenerate docs.
	[f85c0749edab]

	* setup.py:
	Fix setup.py syntax errors.
	[47a7e2fa4f3e]

2009-01-25  Cole Robinson  <crobinso@redhat.com>

	* INSTALL, setup.py:
	Add setup.py 'refresh_translations' command.
	[249ee8c45802]

	* setup.py, tests/pylint-virtinst.sh, virt-convert,
	virtconv/__init__.py, virtconv/diskcfg.py, virtconv/formats.py,
	virtconv/parsers/virtimage.py, virtconv/parsers/vmx.py,
	virtconv/vmcfg.py:
	Export virt-convert strings for translation
	[4c5b6b035b74]

	* virtinst/Storage.py:
	Add some documentation for storage pool parameters.
	[32682dbf301d]

2009-01-24  Cole Robinson  <crobinso@redhat.com>

	* virtinst/Guest.py, virtinst/Storage.py, virtinst/_util.py:
	Factor out common UUID validation code.
	[b5f2a791eb78]

	* virtinst/Storage.py:
	Remove unused get_type method from StorageVolume.
	[3dc8100169c1]

2009-01-23  Cole Robinson  <crobinso@redhat.com>

	* virt-install:
	Clarify virt-install --wait error message.
	[0977f391639e]

	* virtconv/diskcfg.py:
	Fix virt-convert vmdk regression (Joey Boggs)
	[fcad10e944ef]

2009-01-21  Cole Robinson  <crobinso@redhat.com>

	* virtinst/FullVirtGuest.py:
	Fix windows (2 stage) installs with latest libvirt.
	[7e364fafe1f3]

	* virtinst/VirtualDisk.py:
	Remove unnecessary logging in VirtualDisk.
	[7bf2560c7bc8]

	* virtinst/Guest.py:
	Factor out common 'wait for guest to startup' code in Guest.py
	[f622bbefb9f7]

2009-01-20  "Cole Robinson  <crobinso@redhat.com>

	* virtinst/CloneManager.py:
	Accomodate no 'driver' field if cloning between disks with different
	storage types (file vs. block).
	[5a3373625918]

2009-01-20  Cole Robinson  <crobinso@redhat.com>

	* man/en/virt-clone.pod:
	Document virt-clone --preserve-data (Tomas Hoger)
	[8be3addbb61d]

	* AUTHORS, virt-clone:
	Skip virt-clone file existence check if --preserve-data (Tomas
	Hoger)
	[58c5b6db10b3]

2009-01-20  "Cole Robinson  <crobinso@redhat.com>

	* virt-clone, virtinst/CloneManager.py:
	Allow a progress meter to be passed to CloneManager.start_duplicate
	[4503053c13a6]

2009-01-20  Cole Robinson  <crobinso@redhat.com>

	* virtinst/CloneManager.py:
	Fix CloneManager to accomodate a VM with disks that don't need to be
	cloned (rhbz 480253)
	[4ebcc61fb247]

2009-01-14  "Cole Robinson  <crobinso@redhat.com>

	* virtinst/CloneManager.py, virtinst/Guest.py, virtinst/_util.py:
	Move out common uuid collision code to _util.
	[b6432c09af4d]

2009-01-20  Cole Robinson  <crobinso@redhat.com>

	* virtinst/CloneManager.py:
	Documentation and small cleanup improvements to CloneManager.
	[29c44abb111a]

2009-01-13  "Cole Robinson  <crobinso@redhat.com>

	* virtinst/VirtualDisk.py:
	Improve a VirtualDisk error message.
	[2da7dd55c106]

	* virtinst/CloneManager.py:
	Remove unused code from CloneManager.
	[5e79168a4b20]

2009-01-14  john  <john.levon@sun.com>

	* virtinst/OSDistro.py:
	Fix virt-install of PV Solaris without extra args

	Signed-off-by: John Levon <john.levon@sun.com>
	[c13bca1c21fb]

2009-01-12  john  <john.levon@sun.com>

	* virtinst/DistroManager.py, virtinst/OSDistro.py, virtinst/osdict.py:
	Add support for Solaris PV

	Solaris PV comes in two flavours: Nevada and OpenSolaris. In order
	to correctly build network installs for Nevada, we need to pass down
	guest options into OSDistro.

	Signed-off-by: John Levon <john.levon@sun.com>
	[b990f35e6718]

2009-01-12  Cole Robinson  <crobinso@redhat.com>

	* virtinst/CloneManager.py, virtinst/Guest.py,
	virtinst/VirtualDisk.py, virtinst/_util.py:
	Add vdisk support (John Levon)

	Add support for the vdisk format used in Solaris.

	Signed-off-by: John Levon <john.levon@sun.com>
	[ec343569fd7c]

2008-12-16  Cole Robinson  <crobinso@redhat.com>

	* tests/image-xml/image2guest/image-xenpv32.xml,
	virtinst/ImageManager.py:
	Have ImageInstaller use the osblob xml building helper.
	[1fb5bed141ab]

	* tests/image-xml/image-bad-arch.xml, tests/image.py:
	Make sure ImageParser is sanitizing the passed architecture.
	[d15d4f921570]

	* virtinst/ImageParser.py, virtinst/_util.py:
	Add an internal util command to sanitize a user passed arch.
	[1ec1d8fe2b17]

	* virtinst/ImageManager.py:
	Improve an error message in ImageInstaller
	[bc5c65110946]

	* tests/image-xml/image.xml, tests/image-xml/image2guest/image-
	xenfv32.xml, tests/image-xml/image2guest/image-xenpv32.xml, tests
	/image-xml/image2nics.xml, tests/image.py:
	Add image.xml->guest.xml testing.
	[988e1077caf7]

	* virtinst/DistroManager.py:
	Remove useless init from PXEInstaller
	[4f013932088d]

	* tests/xmlconfig.py:
	Try to define + create generated xml from xmlconfig tests.
	[b5725d578e2e]

	* tests/xmlconfig.py:
	Break out xmlconfig guest building helpers for use in other test
	modules.
	[0a834c389770]

	* virtinst/FullVirtGuest.py:
	Don't pass empty conn to is_pae_capable if we can help it.
	[489aa96d66d7]

	* tests/validation.py:
	Expand validation test suite to test installer/device storage API
	support
	[b4ea640e8142]

	* virtinst/VirtualDisk.py:
	More VirtualDisk validation cleanup and fixes.
	[dd8d8040e8e1]

	* virtinst/DistroManager.py:
	Cleanup DistroInstaller location validation.
	[fdbc34c95134]

	* tests/storage.py:
	Break out pool/vol building helpers for use by other test modules.
	[8cd655c078bd]

	* virtinst/util.py:
	Favor active pools in util.lookup_pool_by_path
	[8263855a5243]

	* tests/coverage.py:
	Update coverage.py from upstream
	[fab71d24f9b2]

2008-12-11  Cole Robinson  <crobinso@redhat.com>

	* virtinst/VirtualDisk.py:
	Try to make VirtualDisk validation less confusing.
	[414a5e7d0b88]

2008-12-10  Cole Robinson  <crobinso@redhat.com>

	* virt-clone, virt-convert, virt-image, virt-install:
	Use OptionGroups for all virt-* --help listings
	[4ad949819be0]

2008-12-11  Cole Robinson  <crobinso@redhat.com>

	* virt-convert:
	Use VirtOptionParser in virt-convert
	[18e37bffb529]

	* tests/validation.py:
	Move tests/validation code movement.
	[a9c8769b1e9e]

2008-12-11  john  <john.levon@sun.com>

	* virtinst/FullVirtGuest.py, virtinst/util.py:
	Port utility functions to Solaris

	Port the utility functions to Solaris.

	Signed-off-by: John Levon <john.levon@sun.com>
	[dc1656f60e7d]

	* virtinst/CloneManager.py, virtinst/_util.py:
	Add utility function for stat() of disks

	Signed-off-by: John Levon <john.levon@sun.com>
	[22434c6ff37f]

2008-12-10  Cole Robinson  <crobinso@redhat.com>

	* virtinst/util.py:
	Fix a couple util imports
	[a1b50ecb6ece]

2008-12-10  john  <john.levon@sun.com>

	* virt-clone, virtinst/CloneManager.py, virtinst/DistroManager.py,
	virtinst/FullVirtGuest.py, virtinst/Guest.py,
	virtinst/ImageManager.py, virtinst/Storage.py, virtinst/User.py,
	virtinst/VirtualDevice.py, virtinst/VirtualDisk.py,
	virtinst/__init__.py, virtinst/_util.py, virtinst/cli.py,
	virtinst/util.py:
	Fossilize public virtinst.util API

	Make virtinst.util API frozen, and move the utility functions into a
	private namespace away from the prying eyes of API clients.

	As a consequence, create a User class for checking privileges.

	Signed-off-by: John Levon <john.levon@sun.com>
	[dd39b8a72e72]

	* virt-convert, virtconv/diskcfg.py, virtconv/parsers/virtimage.py,
	virtconv/parsers/vmx.py:
	Various disk-related virt-convert fixes.

	Fix a number of issues with disk handling.

	Signed-off-by: John Levon <john.levon@sun.com>
	[10a5001f9200]

2008-12-09  john  <john.levon@sun.com>

	* virtinst/Guest.py:
	Fix legacy get_graphics()

	The key needs to be 'enabled' not 'enabled '.

	Signed-off-by: John Levon <john.levon@sun.com>
	[159018031462]

2008-12-09  "Cole Robinson  <crobinso@redhat.com>

	* tests/validation.py:
	Fix up whitespace in validation test suite.
	[84076ab49117]

2008-12-07  "Cole Robinson  <crobinso@redhat.com>

	* python-virtinst.spec.in:
	Spec file tweak.
	[4836ab4cfffc]

	* virtinst/Guest.py, virtinst/osdict.py:
	Add back compat for solaris osdict entries.
	[419fb59763dc]

2008-12-06  "Cole Robinson  <crobinso@redhat.com>

	* AUTHORS, virtinst/osdict.py:
	Add a generic virtio variant to the os dictionary (Michael Marineau)
	[c35b27ad997e]

2008-12-06  john  <john.levon@sun.com>

	* virtinst/cli.py:
	Fix regression with --mac option

	Older versions of virt-install allowed a MAC address to be specified
	and a default network would be created. For ease of use, if the
	user specifies exactly one MAC address, create a default network for
	it.

	Signed-off-by: John Levon <john.levon@sun.com>
	[2707387564df]

	* virtinst/osdict.py:
	Solaris HVM support

	Make 'solaris' a first-class OS type, and select USB tablet support
	for the appropriate variants.

	Signed-off-by: John Levon <john.levon@sun.com>
	[f6d8999365a9]

	* virtinst/VirtualDisk.py:
	Fix tap failure

	VirtualDisk driver name/type need setters.

	Signed-off-by: John Levon <john.levon@sun.com>
	[e9148dda8c9c]

	* virt-clone, virtinst/DistroManager.py, virtinst/Guest.py,
	virtinst/cli.py, virtinst/util.py:
	Least privilege support

	On Solaris, which users can run virt-install depends on their
	effective privilege set, not their effective UID.

	Signed-off-by: John Levon <john.levon@sun.com>
	[4ff5f60b8f52]

	* virtinst/CloneManager.py, virtinst/util.py:
	Provide a common block device size utility for Solaris & Linux.

	Signed-off-by: John Danielson <john.danielson@sun.com>
	[13390c95ae0a]

	* virtinst/CloneManager.py, virtinst/VirtualDisk.py:
	Fix sparse file size off-by-one error

	The Solaris loopback driver (lofi) requires files be a multiple of
	512-bytes in size. Sparse files created via lseek(f, size, 0) are 1
	byte larger than what is being requested.

	Signed-off-by: John Danielson <john.danielson@sun.com>
	[ed58873b537c]

2008-12-06  "Cole Robinson  <crobinso@redhat.com>

	* AUTHORS, virtinst/util.py:
	Remove extra '/' from pool path in lookup_pool_by_path (Andreas
	Schneider)
	[b66d39a23988]

	* virtinst/Guest.py, virtinst/osdict.py:
	Return sorted os dictionary lists from static Guest methods. Fix
	Fedora* sorting to put f10 after f9.
	[a601ebd5c785]

	* virtinst/osdict.py:
	Don't use disk virtio when installing F9 guests (bz 470389)
	[82957a280825]

2008-12-03  "Cole Robinson  <crobinso@redhat.com>

	* virtinst/cli.py:
	Don't backtrace if there are prompt or force interaction issues.
	[9eb684039e4e]

2008-12-02  john  <john.levon@sun.com>

	* virtinst/ImageFetcher.py:
	Fix mount/unmount for Solaris

	mount is not portable: fix for Solaris

	Signed-off-by: John Levon <john.levon@sun.com>
	[74febd10a8a9]

	* tests/pylint-virtinst.sh:
	Fix pylint on Solaris

	Use a good enough awk.

	Signed-off-by: John Levon <john.levon@sun.com>
	[583d6aff027f]

2008-12-01  Guido Gunther  <agx@sigxcpu.org>

	* virtinst/util.py:
	parse xorg.conf for keymap
	[bcd052e6ef9d]

	* tests/pylint-virtinst.sh:
	Remove bashisms since we use /bin/sh which is not always bash (it's
	dash on Debian)
	[318a441c1bed]

2008-11-29  Guido Gunther  <agx@sigxcpu.org>

	* man/en/virt-install.pod:
	Pool separator is '/' not ':'
	[0a953a339693]

2008-11-25  "Cole Robinson  <crobinso@redhat.com>

	* virtinst/Storage.py:
	Show error message for unimplemented storage volumes.
	[16e923676e84]

2008-11-24  "Cole Robinson  <crobinso@redhat.com>

	* tests/urltest.py:
	Add a debug statement to urltest.
	[b7fb41edd7aa]

	* virtinst/DistroManager.py, virtinst/OSDistro.py:
	Only fetch .treeinfo once when trying to identify a url's distro.
	[9a4ba138bd20]

2008-11-20  john  <john.levon@sun.com>

	* doc/image.rng:
	Make image.rng validate again

	The new checksum element wasn't valid.

	Signed-off-by: John Levon <john.levon@sun.com>
	[12bbbbbb1529]

2008-11-24  "Cole Robinson  <crobinso@redhat.com>

	* HACKING, MANIFEST.in:
	Add HACKING file.
	[7e7211368144]

	* setup.py, tests/pylint-virtinst.sh:
	Add setup.py 'check' command to run a pylint wrapper.
	[2b10ffc5a696]

2008-11-23  "Cole Robinson  <crobinso@redhat.com>

	* setup.py, tests/__init__.py, tests/urltest.py:
	Add url fetching module to test suite.
	[549de9d73d0e]

	* virtinst/OSDistro.py:
	Use treeinfo parsing for scientific linux.
	[5f2cbaded5fc]

	* virtinst/OSDistro.py:
	Have Distro classes register their kernel paths with a common
	function, rather than implementing their own acquireKernel
	[c8769c9f25a6]

	* virtinst/OSDistro.py:
	Add _uses_treeinfo attribute to OSDistros.
	[dcc0935bc284]

	* virtinst/OSDistro.py:
	Have OSDistros register iso paths, rather than reimplement fetching
	method.
	[3f88eb6c6b9f]

	* virtinst/OSDistro.py:
	Add name attribute to OSDistros
	[aa6b21b424ea]

	* virtinst/Guest.py:
	Document not using type parameter.
	[e276a74cb815]

	* virtinst/Storage.py:
	Remove storage pylint.
	[bbb26d444383]

	* virtinst/DistroManager.py, virtinst/ImageFetcher.py:
	Remove progresscb from ImageFetcher prepareLocation method.
	[8bb772d7df61]

	* virtinst/ImageFetcher.py:
	ImageFetcher: use hasFile to sanity check passed urls, not
	urlgrabber.
	[24a96e544e8e]

2008-11-22  "Cole Robinson  <crobinso@redhat.com>

	* virtinst/ImageFetcher.py:
	Add ImageFetcher path joining helper method.
	[9accd110a116]

2008-11-23  "Cole Robinson  <crobinso@redhat.com>

	* setup.py, tests/__init__.py:
	Add --debug option to test commands, allow debug reporting for
	tests.
	[22eae43e01af]

2008-11-22  "Cole Robinson  <crobinso@redhat.com>

	* tests/__init__.py, tests/virtconv-test.py, tests/xmlconfig.py:
	Add helper compare method to tests module.
	[4d84f37d1a95]

2008-11-20  "Cole Robinson  <crobinso@redhat.com>

	* INSTALL, setup.py:
	Add setup.py 'rpm' command to build a local rpm.
	[0827809e13ba]

	* MANIFEST.in, python-virtinst.spec.in:
	Clean up MANIFEST, fix spec building.
	[463b82656c4c]

	* MANIFEST.in, setup.py:
	sed spec.in -> spec when running sdist, so we can package the spec.
	[3474b7542267]

	* setup.py:
	Add description for setup.py 'test' command.
	[b6ac1dc4cd1e]

2008-11-23  "Cole Robinson  <crobinso@redhat.com>

	* setup.py:
	Clean up i18n install command.
	[d45b254f78f5]

2008-11-18  "Cole Robinson  <crobinso@redhat.com>

	* virtinst/DistroManager.py, virtinst/Guest.py:
	Don't pass os_distro to installer if fetching a kernel.
	[c96a81e57850]

	* virtinst/FullVirtGuest.py, virtinst/Guest.py,
	virtinst/ParaVirtGuest.py:
	Move all _prepare_install logic to base Guest class.
	[0ce060f935ec]

	* virtinst/FullVirtGuest.py:
	Remove redundant function.
	[cf8a82e65215]

	* virtinst/FullVirtGuest.py, virtinst/Guest.py:
	Move os_type and os_variant properties to parent Guest class.
	[ef0f0a4a24b9]

2008-11-17  "Cole Robinson  <crobinso@redhat.com>

	* virtinst/FullVirtGuest.py, virtinst/Guest.py, virtinst/osdict.py:
	Move os dictionary to its own file. Associate the dict with Guest
	rather than FullVirtGuest.
	[b9096505560e]

	* virtinst/DistroManager.py, virtinst/OSDistro.py:
	Remove GentooDistro class: installing from a gentoo tree isn't all
	that useful (or doable AFAICT)
	[20c94ac6e522]

	* virtinst/OSDistro.py:
	Add support for fetching mandriva kernels.
	[0bcc371055eb]

	* virtinst/OSDistro.py:
	OSDistro: centralize common initrd/kernel fetching code.
	[1f536f7c3914]

2008-11-23  "Cole Robinson  <crobinso@redhat.com>

	* virtinst/OSDistro.py:
	Add support for fetching ubuntu kernels and boot disks.
	[5929933af553]

2008-11-16  "Cole Robinson  <crobinso@redhat.com>

	* virtinst/OSDistro.py:
	OSDistro: Factor out common fetch-file-and-match-regex code.
	[0e06d7da23e3]

	* virtinst/OSDistro.py:
	Make debian ValidStore a bit less general.
	[0d24ec94a081]

	* virtinst/OSDistro.py:
	Throw nicer error is suse tree doesn't have a boot.iso
	[2fad7389b55f]

2008-11-17  "Cole Robinson  <crobinso@redhat.com>

	* virtconv/parsers/virtimage.py:
	Don't use ascii_letters, 'string' is deprecated.
	[7c441371a3fd]

	* virtinst/FullVirtGuest.py, virtinst/Guest.py,
	virtinst/ParaVirtGuest.py:
	Specify certain Guest methods as explictly abstract.
	[67587c451914]

2008-11-16  "Cole Robinson  <crobinso@redhat.com>

	* tests/xmlconfig-xml/install-fullyvirt-livecd.xml,
	virtinst/DistroManager.py, virtinst/Guest.py,
	virtinst/LiveCDInstaller.py:
	Centralize installer xml building in the base Installer class.
	[c7dac0e5dd71]

	* virtinst/Guest.py:
	Document some installer methods.
	[1169f4a60701]

2008-11-15  "Cole Robinson  <crobinso@redhat.com>

	* virtinst/DistroManager.py, virtinst/FullVirtGuest.py,
	virtinst/Guest.py:
	Move post_install_check to Installer base class.
	[5fa53341877e]

2008-11-16  "Cole Robinson  <crobinso@redhat.com>

	* tests/xmlconfig-xml/install-fullyvirt-livecd.xml, tests/xmlconfig-
	xml/install-fullyvirt-pxe.xml, tests/xmlconfig.py:
	Add xmlconfig tests for livecd and pxe installer.
	[08a315819b6c]

2008-11-15  "Cole Robinson  <crobinso@redhat.com>

	* virtconv/parsers/virtimage.py:
	Fix virtconv virtimage parser syntax error.
	[fbcf7a20c34e]

2008-11-18  "Cole Robinson  <crobinso@redhat.com>

	* tests/virtconv-test.py, tests/xmlconfig.py, virt-clone, virt-
	convert, virt-image, virt-install, virtconv/formats.py,
	virtconv/parsers/virtimage.py, virtinst/CapabilitiesParser.py,
	virtinst/CloneManager.py, virtinst/DistroManager.py,
	virtinst/FullVirtGuest.py, virtinst/Guest.py,
	virtinst/ImageFetcher.py, virtinst/ImageManager.py,
	virtinst/ImageParser.py, virtinst/OSDistro.py,
	virtinst/ParaVirtGuest.py, virtinst/Storage.py,
	virtinst/VirtualDisk.py, virtinst/cli.py:
	Fix lots of unused argument and unused variable warnings, among
	others.
	[f866aeb55d22]

2008-11-04  "Cole Robinson  <crobinso@redhat.com>

	* tests/image.py, tests/storage.py, tests/validation.py, tests
	/virtconv-test.py, virt-install, virtconv/diskcfg.py,
	virtconv/parsers/virtimage.py, virtinst/CapabilitiesParser.py,
	virtinst/CloneManager.py, virtinst/DistroManager.py,
	virtinst/Guest.py, virtinst/ImageFetcher.py,
	virtinst/ImageParser.py, virtinst/OSDistro.py,
	virtinst/VirtualDisk.py, virtinst/cli.py, virtinst/util.py:
	Remove instances of variables overriding builtin options.
	[156d42395f80]

	* tests/validation.py, virt-image, virt-install,
	virtinst/CloneManager.py, virtinst/Guest.py,
	virtinst/ImageParser.py, virtinst/util.py:
	Fix indentation errors.
	[699aa9d293c3]

	* tests/storage.py, virt-clone, virt-convert, virt-image, virt-
	install, virtconv/parsers/virtimage.py, virtinst/CloneManager.py,
	virtinst/DistroManager.py, virtinst/Guest.py,
	virtinst/ImageFetcher.py, virtinst/OSDistro.py, virtinst/Storage.py,
	virtinst/cli.py, virtinst/util.py:
	Remove unused variables.
	[3c2084a8ab50]

	* setup.py, tests/storage.py, tests/virtconv-test.py, virt-clone,
	virt-convert, virt-image, virt-install,
	virtconv/parsers/virtimage.py, virtconv/parsers/vmx.py,
	virtinst/CloneManager.py, virtinst/DistroManager.py,
	virtinst/FullVirtGuest.py, virtinst/Guest.py,
	virtinst/ImageFetcher.py, virtinst/ImageParser.py,
	virtinst/LiveCDInstaller.py, virtinst/ParaVirtGuest.py,
	virtinst/Storage.py, virtinst/VirtualDevice.py,
	virtinst/VirtualDisk.py, virtinst/cli.py:
	Remove unused imports.
	[9b12631afe6d]

2008-11-10  "Cole Robinson  <crobinso@redhat.com>

	* AUTHORS, virtinst/FullVirtGuest.py:
	Don't skip pxe if virtio nic specified (works for F10 at least).
	(Alan Pevec)
	[3a9b23c6cd62]

	* virt-clone, virt-image, virt-install:
	Don't explicitly import virtinst's gettext function: screws with
	unicode.
	[38298b55baad]

2008-11-06  "Cole Robinson  <crobinso@redhat.com>

	* setup.py:
	Don't try to install virt-pack.
	[a7c5d3f7fd64]

	* virt-pack, virtinst/UnWare.py:
	Remove virt-pack (replaced by virt-convert). (Joey Boggs)
	[8d816eb9cf1d]

2008-11-04  Bryan Kearney  <bkearney@redhat.com>

	* virtinst/ImageParser.py:
	Allow Image Parser to be called without a file name.

	This is used to support using the object model directly
	[8b19fc149cae]

2008-11-04  "Cole Robinson  <crobinso@redhat.com>

	* man/en/virt-install.pod:
	virt-install --disk bus podfile typo.
	[352ef78f5a1f]

	* virtinst/ImageFetcher.py:
	Don't add extraneous '/' to ftp path.
	[fe7ecaedecc3]

2008-11-03  "Cole Robinson  <crobinso@redhat.com>

	* virtinst/util.py:
	Accomodate differently formatted sysconfig/keyboard files.
	[bd2ec3b7b815]

	* virtinst/keytable.py:
	Fix some keytable ordering to be a bit more clear.
	[c3378e5214af]

2008-10-30  "Cole Robinson  <crobinso@redhat.com>

	* virtinst/OSDistro.py:
	Add support for Debian Xen paravirt installs. (Guido Gunther)

	Lenny supports this. Also add transparent support for
	'http://people.debian.org/~joeyh/d-i/' which is the official
	location for debian-installer daily builds but has slightly
	different layout (images/daily instead of current/images).
	[285a112054ff]

2008-10-30  Guido Gunther  <agx@sigxcpu.org>

	* virt-install:
	710611367b50 broke the device suboption of --disk. This fixes it.
	[54ab0d67a045]

	* virt-install:
	Fix --disk error message

	Opt is a tuple. Withouth this we get

	ERROR not all arguments converted during string formatting

	instead of a reasonable error message.
	[fef7dd673020]

2008-10-30  "Cole Robinson  <crobinso@redhat.com>

	* tests/boot-fullyvirt-disk-block.xml, tests/boot-fullyvirt-disk-
	file.xml, tests/boot-paravirt-disk-block.xml, tests/boot-paravirt-
	disk-drv-file.xml, tests/boot-paravirt-disk-drv-phy.xml, tests/boot-
	paravirt-disk-drv-tap-qcow.xml, tests/boot-paravirt-disk-drv-
	tap.xml, tests/boot-paravirt-disk-file.xml, tests/boot-paravirt-
	many-disks.xml, tests/capabilities-kvm.xml, tests/capabilities-
	qemu.xml, tests/capabilities-test.xml, tests/capabilities-xen.xml,
	tests/image.xml, tests/image2nics.xml, tests/install-fullyvirt-disk-
	block.xml, tests/install-fullyvirt-disk-file.xml, tests/install-
	paravirt-disk-block.xml, tests/install-paravirt-disk-drv-file.xml,
	tests/install-paravirt-disk-drv-phy.xml, tests/install-paravirt-
	disk-drv-tap-qcow.xml, tests/install-paravirt-disk-drv-tap.xml,
	tests/install-paravirt-disk-file.xml, tests/install-paravirt-many-
	disks.xml, tests/misc-xml-escaping.xml, virtinst/ImageParser.py:
	Merge heads.
	[ebfe3931efdb]

	* MANIFEST.in:
	Update MANIFEST
	[da1238a5cdd7]

	* tests/virtconv-files/virtimage2vmx/image.virt-image, tests/virtconv-
	files/virtimage2vmx/image.vmx, tests/virtconv-
	files/vmx2virtimage/test.virt-image, tests/virtconv-
	files/vmx2virtimage/test.vmx, tests/virtconv-test.py:
	Add a basic virtconv test suite.
	[8542b30bcdd6]

	* tests/xmlconfig.py:
	Show actual 'diff' output when comparing xml files in test suite.
	[83364f9e6fe8]

	* virtconv/parsers/vmx.py:
	virtconv: Log info if we skip a vmx scsi disk. Don't calculate new
	ide bus nr if it was provided.
	[db518e3aedc9]

	* virtconv/parsers/virtimage.py, virtconv/parsers/vmx.py:
	virtconv: fix some memory conversion factors between formats
	[d196dddf6c7c]

	* virtinst/ImageParser.py:
	Store memory value as an int rather than a string in ImageParser
	[a818aed7191e]

2008-10-29  "Cole Robinson  <crobinso@redhat.com>

	* virtconv/parsers/virtimage.py:
	Don't add needless description spacing with virtconv virt-image
	export
	[be368fd7608b]

	* virtconv/parsers/vmx.py:
	Check whole file instead of just first line to verify vmx files.
	[e3301b63ebd0]

	* virtconv/parsers/vmx.py:
	Remove timestamp from generated vmx file to accomodate test suite.
	[62bea71e25b8]

	* virtconv/formats.py, virtconv/parsers/virtimage.py,
	virtconv/parsers/vmx.py:
	Add 'export' command to parser class, returns generated config as a
	string.
	[5fb462a6731d]

2008-10-28  "Cole Robinson  <crobinso@redhat.com>

	* tests/__init__.py, tests/storage.py:
	Add basic test suite to exercise storage xml building and
	installing.
	[d1e187874099]

	* tests/boot-fullyvirt-disk-block.xml, tests/boot-fullyvirt-disk-
	file.xml, tests/boot-paravirt-disk-block.xml, tests/boot-paravirt-
	disk-drv-file.xml, tests/boot-paravirt-disk-drv-phy.xml, tests/boot-
	paravirt-disk-drv-tap-qcow.xml, tests/boot-paravirt-disk-drv-
	tap.xml, tests/boot-paravirt-disk-file.xml, tests/boot-paravirt-
	many-disks.xml, tests/capabilities-kvm.xml, tests/capabilities-
	qemu.xml, tests/capabilities-test.xml, tests/capabilities-xen.xml,
	tests/capabilities-xml/capabilities-kvm.xml, tests/capabilities-xml
	/capabilities-qemu.xml, tests/capabilities-xml/capabilities-
	test.xml, tests/capabilities-xml/capabilities-xen.xml,
	tests/capabilities.py, tests/image-xml/image.xml, tests/image-
	xml/image2nics.xml, tests/image.py, tests/image.xml,
	tests/image2nics.xml, tests/install-fullyvirt-disk-block.xml, tests
	/install-fullyvirt-disk-file.xml, tests/install-paravirt-disk-
	block.xml, tests/install-paravirt-disk-drv-file.xml, tests/install-
	paravirt-disk-drv-phy.xml, tests/install-paravirt-disk-drv-tap-
	qcow.xml, tests/install-paravirt-disk-drv-tap.xml, tests/install-
	paravirt-disk-file.xml, tests/install-paravirt-many-disks.xml, tests
	/misc-xml-escaping.xml, tests/xmlconfig-xml/boot-fullyvirt-disk-
	block.xml, tests/xmlconfig-xml/boot-fullyvirt-disk-file.xml, tests
	/xmlconfig-xml/boot-paravirt-disk-block.xml, tests/xmlconfig-xml
	/boot-paravirt-disk-drv-file.xml, tests/xmlconfig-xml/boot-paravirt-
	disk-drv-phy.xml, tests/xmlconfig-xml/boot-paravirt-disk-drv-tap-
	qcow.xml, tests/xmlconfig-xml/boot-paravirt-disk-drv-tap.xml, tests
	/xmlconfig-xml/boot-paravirt-disk-file.xml, tests/xmlconfig-xml
	/boot-paravirt-many-disks.xml, tests/xmlconfig-xml/install-
	fullyvirt-disk-block.xml, tests/xmlconfig-xml/install-fullyvirt-
	disk-file.xml, tests/xmlconfig-xml/install-paravirt-disk-block.xml,
	tests/xmlconfig-xml/install-paravirt-disk-drv-file.xml, tests
	/xmlconfig-xml/install-paravirt-disk-drv-phy.xml, tests/xmlconfig-
	xml/install-paravirt-disk-drv-tap-qcow.xml, tests/xmlconfig-xml
	/install-paravirt-disk-drv-tap.xml, tests/xmlconfig-xml/install-
	paravirt-disk-file.xml, tests/xmlconfig-xml/install-paravirt-many-
	disks.xml, tests/xmlconfig-xml/misc-xml-escaping.xml,
	tests/xmlconfig.py:
	Move test xml files to subdirectories.
	[a5b743a6ac98]

	* virt-image:
	Pass meter to disk csum calculating from virt-image
	[3c632dddb27d]

	* virtinst/ImageParser.py:
	Alter disk csum calculating to require a progress meter to be
	passed.
	[b9f914eb509e]

2008-10-27  "Cole Robinson  <crobinso@redhat.com>

	* po/zh-CN.po:
	Updated zh-CN translation.
	[d1cfd3e75b1c]

2008-10-22  "Cole Robinson  <crobinso@redhat.com>

	* po/pt_BR.po, po/zh-CN.po:
	Updated translations from Fedora.
	[2ed83f57826d]

	* virtinst/Storage.py:
	Add iSCSI volume class stub and raise error if it is instantiated.
	[e5fe9af202bd]

	* virtinst/Storage.py:
	Actually return pool object after DiskPool install.
	[70b32f9b4d74]

	* virtinst/Storage.py:
	Disk type is 'dos' not 'msdos'
	[729ce5453a58]

2008-10-21  "Cole Robinson  <crobinso@redhat.com>

	* AUTHORS, virtinst/FullVirtGuest.py:
	Add seperate dict entry for winxp 64 since it has separate
	requirements (Tom Hug hes)
	[2c657c53ef1a]

2008-10-20  "Cole Robinson  <crobinso@redhat.com>

	* virt-image:
	Check virt-image checksums from cli tool (Joey Boggs)
	[976334e29192]

2008-10-17  "Guido Gunther  <agx@sigxcpu.org>

	* man/en/virt-install.pod, virt-install:
	Allow to pass the bustype via --disk
	[710611367b50]

2008-10-16  "Cole Robinson  <crobinso@redhat.com>

	* virtinst/ImageParser.py:
	Add checksum support to ImageParser (Joey Boggs)
	[9f45a36d8242]

	* virtinst/VirtualDisk.py:
	Fix missing variable error.
	[d920fb2662c1]

2008-10-14  "Cole Robinson  <crobinso@redhat.com>

	* doc/image.rng, virtinst/ImageParser.py:
	Teach ImageParser how to parse disk checksum values (Joey Boggs)
	[9f6f1a011174]

	* virtinst/VirtualDisk.py:
	Refresh storage pool if trying to lookup a volume.
	[f117c8243aa5]

2008-10-09  "Cole Robinson  <crobinso@redhat.com>

	* virtconv/diskcfg.py:
	virt-convert: Add checksum option to disk class (Joey Boggs)
	[3e2e7db24cb5]

2008-10-06  "Cole Robinson  <crobinso@redhat.com>

	* virtinst/cli.py:
	Fix --bridge option to not report collision with --network (Mark
	McLoughlin)
	[2aba69a1a16c]

2008-10-03  "Cole Robinson  <crobinso@redhat.com>

	* virt-convert, virtconv/diskcfg.py, virtconv/parsers/virtimage.py,
	virtconv/parsers/vmx.py:
	Add virt-image import and vmx export capabilities for virtconv (Joey
	Boggs)
	[ca48e58d85ec]

2008-09-30  "Cole Robinson  <crobinso@redhat.com>

	* virtinst/Guest.py:
	Don't try to compare MAC addresses if nic doesn't have one
	specified.
	[abc2cae7cff5]

2008-09-25  "Guido Gunther  <agx@sigxcpu.org>

	* virtinst/FullVirtGuest.py:
	lenny can do virtio
	[4597f79e11f0]

2008-09-29  "Cole Robinson  <crobinso@redhat.com>

	* tests/validation.py, virtinst/CloneManager.py, virtinst/cli.py:
	Pass connection to VirtualNetworkInterface.
	[994d4cd7d888]

	* virtinst/Guest.py:
	Check that passed virtual network exists, and is active.
	[5136f58c5567]

	* virtinst/Guest.py:
	Have VirtualNetworkInterface extend VirtualDevice
	[6d098c710b4b]

2008-09-22  "Cole Robinson  <crobinso@redhat.com>

	* virtinst/Guest.py:
	Only use libvirt created scratchdirs if they exist
	[58a909b4f71c]

2008-09-22  Guido Guenther  <agx@sigxcpu.org>

	* virtinst/Guest.py:
	set a proper scratchdir for non root users
	[8f48969778e6]

	* virtinst/ImageFetcher.py:
	create scratchdir if it doesn't exist
	[c6a767b4d632]

2008-09-22  "Cole Robinson  <crobinso@redhat.com>

	* virt-convert:
	Use cli.fail helper in virt-convert
	[042be788a704]

	* virtconv/parsers/vmx.py:
	Don't error if disk has no path in vmx file.
	[339753e30c1d]

	* virtinst/util.py:
	More thorough checking for default qemu connection.
	[458daeb1a7bc]

2008-09-18  "Cole Robinson  <crobinso@redhat.com>

	* python-virtinst.spec.in, setup.py:
	Don't barf on package syntax errors when building. We really
	shouldn't have BuildRequires on every package we import, save that
	for install time.
	[f87154697807]

	* MANIFEST.in:
	Add INSTALL to manifest.
	[bf23e7bd2b6d]

2008-09-17  "Cole Robinson  <crobinso@redhat.com>

	* virt-install:
	Fix --wait option to handle some funky libvirt stuff on rhel5.
	[39147017bd13]

	* virt-install:
	Slim down --wait help message (Mark McLoughlin)
	[0c1e9d4e9981]

2008-09-16  "Cole Robinson  <crobinso@redhat.com>

	* po/pl.po:
	Updated polish translation.
	[dc76d336082e]

	* AUTHORS, virtinst/FullVirtGuest.py:
	Setup virtio for f9. (Francois Kooman)
	[6a4c3f52df1e]

2008-09-15  john  <john.levon@sun.com>

	* virt-convert:
	virt-convert: remove -t option

	This never did anything, and is undocumented.

	Signed-off-by: John Levon <john.levon@sun.com>
	[e362f5306b26]

2008-09-16  john  <john.levon@sun.com>

	* virtconv/parsers/vmx.py:
	virt-convert: make VMX parser case insensitive

	VMWare tools apparently don't care, so neither should we. Some VMX
	generators don't use the proper case with keys such as 'fileName'.

	Signed-off-by: John Levon <john.levon@sun.com>
	[692e4d0ce7d6]

2008-09-16  "Cole Robinson  <crobinso@redhat.com>

	* virtinst/cli.py:
	Log traceback (if available) from cli fail helper.
	[b39a144682b8]

2008-09-12  "Cole Robinson  <crobinso@redhat.com>

	* tests/boot-fullyvirt-disk-block.xml, tests/boot-fullyvirt-disk-
	file.xml, tests/install-fullyvirt-disk-block.xml, tests/install-
	fullyvirt-disk-file.xml, tests/misc-xml-escaping.xml,
	tests/xmlconfig.py, virtinst/FullVirtGuest.py:
	Explicitly set FullVirtGuest arch to equal host arch if none is
	passed.
	[63a843fec103]

	* virtconv/parsers/virtimage.py:
	virt-convert: Fix crash caused by accessing now private os
	dictionary. (Joey Boggs)
	[1021d9c89a74]

	* python-virtinst.spec.in:
	Fix spec to be closer to current fedora version.
	[926769542d04]

2008-09-10  "Cole Robinson  <crobinso@redhat.com>

	* .hgtags:
	Added tag virtinst-0_400_0 for changeset 2f37c58e7347
	[a7b8fb0b1f9d]

	* po/fr.po, po/it.po, po/ja.po, po/pl.po, po/pt_BR.po, po/sr.po,
	po/sr@latin.po:
	Fix messed up translation updates.
	[2f37c58e7347] [virtinst-0_400_0]

	* .hgtags:
	Added tag virtinst-0_400_0 for changeset 698796184096
	[4661d020750d]

	* ChangeLog, NEWS, python-virtinst.spec.in, setup.py:
	Prep for release.
	[698796184096]

	* po/fr.po, po/it.po, po/ja.po, po/pl.po, po/pt_BR.po, po/sr.po,
	po/sr@latin.po, po/virtinst.pot:
	Update translations.
	[c3191151aab5]

	* virt-image, virt-install, virtinst/cli.py, virtinst/util.py:
	Make sure to default to virtual networking if installing remotely.
	[fe8ebfa7bfe4]

	* virtinst/VirtualDisk.py:
	Throw useful error if size not specified when implicitly creating a
	volume.
	[2a1855727139]

	* python-virtinst.spec.in:
	Fix egginfo spec conditional.
	[efc69b27c2cb]

	* virtinst/FullVirtGuest.py:
	Revert explictly setting arch for fullvirt guest incase it causes
	regressions.
	[e069659bf07f]

	* python-virtinst.spec.in, setup.py:
	Update spec file description and Provides
	[ca8696e44ab2]

2008-09-09  "Cole Robinson  <crobinso@redhat.com>

	* virtinst/Storage.py:
	Basic iscsi pool implementation.
	[ecce8f703822]

	* virtinst/cli.py:
	Fix virt-install to fail if it can't find a default connection.
	[cb9d1c0c7314]

	* virtinst/CapabilitiesParser.py:
	Throw useful error if users capabilities xml has no domains.
	[5ba112af9fe5]

	* virtinst/Storage.py:
	Disk pool support.
	[67d7b374ae2d]

	* virtinst/DistroManager.py:
	Don't fail post_install_check if on remote connection.
	[712de41bdc10]

2008-09-08  "Cole Robinson  <crobinso@redhat.com>

	* virtinst/FullVirtGuest.py, virtinst/Guest.py:
	Pull emulator and loader values from capabilities.
	[b55bd237b33c]

	* virtinst/VirtualDisk.py:
	Don't do an extra unneccessary validation loop.
	[078e20c50d3f]

	* virtinst/Storage.py:
	Actually allow sparse volume xml to be created.
	[d11609eab5d1]

	* man/en/virt-install.1, man/en/virt-install.pod, virt-install,
	virtinst/cli.py:
	Switch virt-install to default to _not_ prompting. Add a --prompt
	option so that users can request it if they choose.
	[c78879dcc6b3]

	* virtinst/Guest.py:
	Only use xen scratchdir if it exists.
	[b14a070dabec]

	* virtinst/DistroManager.py, virtinst/OSDistro.py:
	Add a GenericDistro OSDistro / image store.

	Doesn't try to confirm an tree's identity, just checks known tree
	paths for potential install media.
	[0080e4c6652f]

	* virtinst/ImageFetcher.py:
	Fix bug in building image paths to fetch.
	[b122c78b7082]

2008-09-07  "Cole Robinson  <crobinso@redhat.com>

	* virtinst/Storage.py:
	Don't initialize progress meter if creating storage, since we don't
	have any way to use it at this point.
	[079215f26b18]

	* virtinst/Storage.py, virtinst/VirtualDisk.py:
	Don't allow setting storage volume as nonsparse from VirtualDisk,
	since allocating a nonsparse volume halts libvirtd for the entire
	operation.
	[0613104b356e]

	* virtinst/VirtualDevice.py:
	VirtualDevice: Allow changing setting conn property
	[fdc5038d551c]

	* virt-install:
	virt-install: Fix typo when raising an error in build_default_pool
	[66437e281256]

	* virtinst/util.py:
	Fix is_storage_capable to accomodate function not being supported.
	[8ea490a630e4]

2008-09-06  "Cole Robinson  <crobinso@redhat.com>

	* virt-install:
	If user passes '/var/lib/libvirt/images' for a dirname or 'default'
	as a pool name, create the this as a pool if it doesn't exist.
	[9643aed4060f]

	* virt-install, virtinst/Storage.py:
	Fix free volume name generation to allow specifying a suffix.
	[dd8a451b7d20]

	* virtinst/DistroManager.py:
	DistroManager fix to pass test suite.
	[9c545efb86f4]

2008-09-05  "Cole Robinson  <crobinso@redhat.com>

	* man/en/virt-install.1, man/en/virt-install.pod, virt-install:
	virt-install: expand --disk option to specify size and sparse.
	[0196775774bf]

	* virtinst/ImageFetcher.py:
	Fix URL generation from using two /'s (broke certain sites)
	[36307728f90e]

	* virtinst/DistroManager.py:
	Don't check if install media exists locally if on a remote
	connection.
	[c20df049889e]

2008-09-04  "Cole Robinson  <crobinso@redhat.com>

	* virtinst/VirtualDisk.py:
	Add a new VirtualDisk use case.

	path is not a volume, but dirname is the target path of a pool. we
	can assume this is a request to create a volume on that pool with
	name basename.
	[f714274e4da8]

	* virtinst/Storage.py:
	Fix up is_size_conflict logging. Disable nonsparse StorageVolume
	initializing since it hangs libvirtd.
	[380ac563dd7a]

	* virtinst/util.py:
	Add lookup_pool_by_path function to find pool by target_path
	[5970b94cc2e7]

2008-09-05  "Daniel P. Berrange  <berrange@redhat.com>

	* tests/boot-fullyvirt-disk-block.xml, tests/boot-fullyvirt-disk-
	file.xml, tests/boot-paravirt-disk-block.xml, tests/boot-paravirt-
	disk-drv-file.xml, tests/boot-paravirt-disk-drv-phy.xml, tests/boot-
	paravirt-disk-drv-tap-qcow.xml, tests/boot-paravirt-disk-drv-
	tap.xml, tests/boot-paravirt-disk-file.xml, tests/boot-paravirt-
	many-disks.xml, tests/install-fullyvirt-disk-block.xml, tests
	/install-fullyvirt-disk-file.xml, tests/install-paravirt-disk-
	block.xml, tests/install-paravirt-disk-drv-file.xml, tests/install-
	paravirt-disk-drv-phy.xml, tests/install-paravirt-disk-drv-tap-
	qcow.xml, tests/install-paravirt-disk-drv-tap.xml, tests/install-
	paravirt-disk-file.xml, tests/install-paravirt-many-disks.xml, tests
	/misc-xml-escaping.xml:
	Fix test suite
	[73ef8376d3c9]

2008-09-03  "Cole Robinson  <crobinso@redhat.com>

	* po/pt_BR.po:
	Add brazilian portuguese translation.
	[a29433d3e3c2]

	* virtinst/keytable.py, virtinst/util.py:
	Add "uk" as keytable mapping for "en-gb". Only perform case
	insensitive lookups in keytable.
	[391240fe0b53]

	* virt-clone:
	Prompt for confirmation if clone will overwrite an existing file.
	[dade986aa3bd]

	* virtinst/VirtualDisk.py:
	Small fix validating VirtualDisk size == 0 (should be allowed).
	[12eba35cf371]

2008-08-26  "Cole Robinson  <crobinso@redhat.com>

	* virt-install:
	Use typical sparse defaults in virt-install for managed storage.
	[702e64a8dad0]

	* virtinst/Storage.py, virtinst/VirtualDisk.py:
	Fix is_size_conflict in Storage for sparse warnings.
	[3e8f2572f92a]

	* virtinst/Storage.py:
	Touch up pool type descriptions.
	[18c63babfa27]

2008-08-20  "Cole Robinson  <crobinso@redhat.com>

	* virt-install:
	Remove some dead virt-install code.
	[cb23dd6f5b4d]

	* INSTALL:
	Add a basic INSTALL file.
	[739c7468248d]

	* virtinst/FullVirtGuest.py, virtinst/Guest.py,
	virtinst/ParaVirtGuest.py, virtinst/VirtualDisk.py:
	Change disk target generation model: centralize all the work in
	VirtualDisk so it can be used by other apps.
	[a17911a43225]

2008-08-18  "Cole Robinson  <crobinso@redhat.com>

	* virtinst/DistroManager.py:
	Few fixes for remote cdrom installs.
	[de5bcee1e78f]

2008-08-17  "Cole Robinson  <crobinso@redhat.com>

	* virtinst/FullVirtGuest.py:
	Fix up os type/variant validation to pass tests.
	[1b39c5ee57b0]

	* virtinst/FullVirtGuest.py:
	Don't set first net interface as virtio if doing a PXE install (kvm
	doesn't seem to support it yet.)
	[e33c50bfb78b]

2008-08-15  Guido Guenther  <agx@sigxcpu.org>

	* virt-image:
	catch ParserException and CapabilitiesParserException
	[10f0b98b15d1]

2008-08-17  "Cole Robinson  <crobinso@redhat.com>

	* AUTHORS, virtinst/Guest.py:
	Update authors list, fix random mac address generation for
	VirtualNetworkInterface to be dependent on hypervisor type..
	[b327c5c24b06]

2008-08-14  Guido Guenther  <agx@sigxcpu.org>

	* virtinst/CloneManager.py, virtinst/util.py:
	allow to set vendor prefix for mac addresses

	use this in CloneManager to set the correct prefix when cloning
	[ece7be12556f]

2008-08-17  "Cole Robinson  <crobinso@redhat.com>

	* virtinst/FullVirtGuest.py:
	Add freebsd 7 os entry. Default to nic model 'ne2k_pci' for freebsd
	variants.

	Ref: http://www.nabble.com/Re%3A-Qemu%3A-bridging-on-
	FreeBSD-7.0-STABLE-p15919603.html
	[aaf18ed5757a]

	* virtinst/FullVirtGuest.py:
	Use pcnet nic for openbsd.

	Refs: https://www.redhat.com/archives/et-mgmt-
	tools/2008-June/msg00018.html http://calamari.reverse-dns.net:980
	/cgi-bin/moin.cgi/OpenbsdOnQemu
	[3117341bd348]

	* virt-install, virtinst/FullVirtGuest.py:
	Fix os_type/os_variant to be case insensitive. Allow setting
	os_variant without an os_type.
	[edb9a3fcfb4e]

	* virt-install:
	Clean up --help message listing: add option groups, required args
	listing.
	[784eea07706b]

2008-08-14  "Cole Robinson  <crobinso@redhat.com>

	* virtinst/FullVirtGuest.py:
	Add fedora 10 and ubuntu hardy os entries. Enable virtio for both.
	Fix a small device lookup bug.
	[40a1f44beb92]

	* virtinst/FullVirtGuest.py, virtinst/Guest.py:
	Add devices field to os dictionary for setting arbitrary device
	option defaults.Use _set_defaults for FV guests to set disk bus and
	net model from os dict.
	[748b22c358d4]

	* virtinst/FullVirtGuest.py:
	Explicitly make OS_TYPES private.
	[ce527522ab5d]

	* virtinst/FullVirtGuest.py:
	More os dictionary slimming.
	[f0b52e2dadd8]

2008-08-13  "Cole Robinson  <crobinso@redhat.com>

	* virtinst/VirtualDisk.py:
	Add 'bus' property to VirtualDisk
	[b7403bed743e]

2008-08-14  "Cole Robinson  <crobinso@redhat.com>

	* virtinst/Guest.py:
	Add model field to VirtualNetworkInterface
	[10d95bfcdf5c]

	* virtinst/FullVirtGuest.py, virtinst/Guest.py,
	virtinst/ParaVirtGuest.py, virtinst/VirtualDisk.py:
	Try to centralize and sanitize disk target generation.
	[4c845a1bfbdd]

	* virt-install, virtinst/DistroManager.py,
	virtinst/LiveCDInstaller.py:
	virt-install: Add --disk option, enables specifying device options
	and managed storage.
	[354ea4aa8fda]

2008-08-13  "Cole Robinson  <crobinso@redhat.com>

	* tests/validation.py, virtinst/Guest.py:
	Few Net interface fixes to pass validation.
	[65c75cb37a4a]

	* virtinst/Guest.py:
	Some cleanup in VirtualNetworkInterface
	[b347e780dc44]

	* virtinst/FullVirtGuest.py:
	FullVirtGuest: add a helper function for looking up os dictionary
	values.
	[3557d2799539]

	* virtinst/FullVirtGuest.py:
	Clean up OS dict to not massively waste space.
	[967ece23f3b2]

	* virtinst/VirtualDisk.py:
	VirtualDisk: fix up a few instances of path usage.
	[2ca65e59883f]

	* virtinst/Storage.py:
	virtinst storage: allocation can be 0, fix up validation.
	[ca63b113217e]

	* virtinst/Storage.py:
	virtinst storage: remove target path option for StorageVolumes

	It has no effect when creating a volume, and we can't reliably
	generate what it will be after the install, so it's not much help as
	a readonly attribute either.
	[68abbf31b38e]

2008-08-12  "Cole Robinson  <crobinso@redhat.com>

	* virtinst/Storage.py:
	virtinst: Allow creating logical volumes and pools
	[95dfaa9a29a6]

2008-08-13  "Cole Robinson  <crobinso@redhat.com>

	* virtinst/VirtualDevice.py:
	VirtualDevice: small error message fix
	[1a785be6a818]

2008-08-12  "Cole Robinson  <crobinso@redhat.com>

	* virtinst/VirtualDisk.py:
	VirtualDisk: Fix up extra whitespace in disk xml generation
	[8d65c4b70cbf]

	* virtinst/VirtualDisk.py, virtinst/util.py:
	VirtualDisk: Check for self.conn before calling is_storage_capable
	[bbd2585f2896]

2008-08-11  "Cole Robinson  <crobinso@redhat.com>

	* virtinst/Storage.py:
	Pull 'conn' directly from pool object rather than using connect()
	[bd9e79483f70]

2008-08-10  "Cole Robinson  <crobinso@redhat.com>

	* virtinst/Storage.py:
	virtinst: Add 'build' parameter to install method for pools
	[7e41b7902e82]

2008-08-07  "Cole Robinson  <crobinso@redhat.com>

	* virtinst/DistroManager.py, virtinst/Guest.py,
	virtinst/LiveCDInstaller.py:
	Make installer location storage api aware.

	Allow 'location' to be a (poolname, volname) tuple, Attempt to look
	up volumes if location is a path and a connection has been passed.
	[35894d66cffc]

	* virtinst/VirtualDisk.py:
	Make VirtualDisk storage api aware. Actually document the API. Move
	to be a subclass of VirtualDevice.
	[22348eef87db]

	* virtinst/VirtualDevice.py:
	Add VirtualDevice class, eventually should be used as parent class
	for all domain device xml classes.
	[512b0b3608e7]

	* virtinst/Storage.py:
	Add classes for building libvirt storage API xml.
	[bd1d0b87d5b6]

	* virtinst/util.py:
	Add is_storage_capable, and get_xml_path, and several uri parsing
	helpers to util.
	[5a718ad38a6d]

2008-08-05  "Cole Robinson  <crobinso@redhat.com>

	* virtinst/CloneManager.py, virtinst/DistroManager.py,
	virtinst/FullVirtGuest.py, virtinst/Guest.py,
	virtinst/ImageManager.py, virtinst/LiveCDInstaller.py,
	virtinst/VirtualDisk.py, virtinst/__init__.py:
	Move VirtualDisk to its own file.
	[6a1018bbf699]

2008-08-04  bkearney  <bkearney@localhost.localdomain>

	* doc/image.rng, tests/image.py, tests/image.xml,
	tests/image2nics.xml, virt-image, virtinst/ImageParser.py,
	virtinst/UnWare.py, virtinst/cli.py:
	multiple nic support for virt-image. Added support to allow multiple
	interface elements in the virt-image.xml. The command line can
	specify any number of -w or -b elements and the tool will add
	default networks up to the number of nics specified. It is assumbed
	that eth0 is the first item specified eth1 is the second, etc. The
	user can also specify any number mac address up to the number of
	networks specified. If they specify less, then they are auto
	assigned.
	[9428ea1e91c0]

2008-08-04  "Cole Robinson  <crobinso@redhat.com>

	* tests/validation.py:
	Add some 'size' test cases for VirtualDisk validation, clean up
	matrix spacing.
	[274f40888b0e]

2008-07-31  "Cole Robinson  <crobinso@redhat.com>

	* virt-install, virtinst/cli.py:
	Remove most prompting from virt-* tools. Leave only yes or no
	questions that will help users not shoot themselves in the foot.
	[a0c7e10b1e92]

2008-07-29  "Cole Robinson  <crobinso@redhat.com>

	* virtinst/Guest.py:
	Small typo with --wait Guest parameters
	[6a207373b908]

	* man/en/virt-clone.1, man/en/virt-convert.1, man/en/virt-image.1,
	man/en/virt-install.1:
	Regenerate man pages.
	[bb9e28cd6da9]

	* man/en/virt-install.pod, virt-install, virtinst/FullVirtGuest.py,
	virtinst/Guest.py:
	virt-install: add --wait option to put a hard time limit on
	installs.
	[3356c71871b9]

	* virt-install:
	Fix sending correct OS type to xml if using default hypervisor
	selection.
	[66a12e767eb7]

2008-07-25  john  <john.levon@sun.com>

	* virtconv/diskcfg.py:
	virt-convert: vdisk fixes

	Update the vdisk code for new vdisk behaviour.

	Signed-off-by: John Levon <john.levon@sun.com>
	[15bf41d90c7a]

	* virt-convert:
	virt-convert: more error checking

	Improve the error checking a little.

	Signed-off-by: John Levon <john.levon@sun.com>
	[1f02236d9aee]

2008-07-24  john  <john.levon@sun.com>

	* doc/image.rng:
	Fix Relax-NG pattern matching

	Don't use unescaped meta-characters in the patterns.

	Signed-off-by: John Levon <john.levon@sun.com>
	[2c0badd42d08]

2008-07-26  "Cole Robinson  <crobinso@redhat.com>

	* virt-install:
	Use sensible defaults for virt-install if --hvm or --paravirt isn't
	specified.
	[6cdd9c0581fc]

2008-07-28  "Cole Robinson  <crobinso@redhat.com>

	* virtinst/Guest.py:
	Fix setting listen parameter for graphics device.
	[17901cc95e47]

2008-07-25  "Cole Robinson  <crobinso@redhat.com>

	* virtinst/OSDistro.py:
	Fix fetching newer suse paravirt kernels.
	[0a1b26034251]

2008-07-28  "Cole Robinson  <crobinso@redhat.com>

	* virtinst/DistroManager.py, virtinst/OSDistro.py:
	Remove some unnecessary lines.
	[c3ea70e4af9d]

2008-07-17  john  <john.levon@sun.com>

	* virtconv/__init__.py:
	virt-convert: fix Python 2.4 compatibility

	Sadly, pkgutil.iter_modules() is new in Python 2.5, so the automatic
	module finding code won't work in 2.4. Add hard-coded fallbacks for
	Python 2.4 and earlier.

	Signed-off-by: John Levon <john.levon@sun.com>
	[2ff8e5fe0868]

2008-07-14  "Cole Robinson  <crobinso@redhat.com>

	* man/en/virt-convert.1, man/en/virt-convert.pod, virt-convert,
	virtconv/parsers/virtimage.py, virtconv/vmcfg.py:
	virt-convert: Add OS variant options (John Levon)

	And use them to set ACPI, APIC, clock, and USB tablet.
	[cd648dc6a949]

	* virtconv/netdevcfg.py, virtconv/parsers/virtimage.py,
	virtconv/parsers/vmx.py, virtconv/vmcfg.py:
	virt-convert: implement network device handling (John Levon)
	[9c320e0e7dbe]

	* virt-convert, virtconv/diskcfg.py, virtconv/parsers/virtimage.py,
	virtconv/parsers/vmx.py, virtconv/vmcfg.py:
	virt-convert: improve disk handling (John Levon)

	A whole bunch of fixes for more accurate disk handling.
	[25d936135e2e]

2008-07-10  john  <john.levon@sun.com>

	* virtinst/DistroManager.py, virtinst/FullVirtGuest.py,
	virtinst/ImageManager.py, virtinst/LiveCDInstaller.py,
	virtinst/ParaVirtGuest.py, virtinst/util.py:
	virt-install: correct pygrub path

	The path to pygrub differs between OS hosts. Properly speaking, this
	is a property of the hypervisor capabilities, and we'd get it from
	there. However, traditionally the loader value is empty for PV Xen
	hosts, so we can't rely on it, so we hard-code it based upon the
	current host.

	Signed-off-by: John Levon <john.levon@sun.com>
	[762f2ec98a3a]

2008-07-10  "Cole Robinson  <crobinso@redhat.com>

	* virtinst/Guest.py:
	Relax name validation for Guest
	[b8c76121aa14]

2008-07-10  john  <john.levon@sun.com>

	* virt-convert, virtconv/formats.py, virtconv/parsers/virtimage.py,
	virtconv/parsers/vmx.py:
	virt-convert: add format detection

	Add format detection, along with detection for VMX

	Signed-off-by: John Levon <john.levon@sun.com>
	[06d9128c1a32]

	* virt-convert:
	virt-convert: small cleanup fix

	Only add the directory if we really did create it.

	Signed-off-by: John Levon <john.levon@sun.com>
	[c85fd1898e8a]

	* virtconv/vmcfg.py:
	virt-convert: Fix PV install

	Need to fix a test that was triggering as VM_TYPE_PV was zero.

	Signed-off-by: John Levon <john.levon@sun.com>
	[9e95dcb002d7]

	* virtinst/util.py:
	virt-install: fix a typo

	Fix a mis-indentation and typo that pylint noticed.

	Signed-off-by: John Levon <john.levon@sun.com>
	[d4203995f2b6]

	* virtconv/parsers/virtimage.py:
	virt-convert: escape <description>

	Make sure to properly escape <description> contents for XML
	metacharacters.

	Signed-off-by: John Levon <john.levon@sun.com>
	[3e28e818714b]

	* doc/image.rng, virtconv/parsers/virtimage.py:
	Modify VM name validation for virt-image and virt-convert

	There are .vmx files with dots in the VM names. Make the
	restrictions somewhat looser, and fix virt-image output to replace
	bad characters such as space.

	Signed-off-by: John Levon <john.levon@sun.com>
	[b2431a651089]

2008-07-10  "Cole Robinson  <crobinso@redhat.com>

	* virt-install:
	Allow setting cpuset for qemu guests in virt-install
	[5b8f8b2e8280]

2008-07-03  "Cole Robinson  <crobinso@redhat.com>

	* virtinst/FullVirtGuest.py:
	Back by popular demand, keep cdrom media attached after initial
	install for Windows guests.
	[06315a1b8f70]

	* tests/boot-fullyvirt-disk-block.xml, tests/boot-fullyvirt-disk-
	file.xml, tests/boot-paravirt-disk-block.xml, tests/boot-paravirt-
	disk-drv-file.xml, tests/boot-paravirt-disk-drv-phy.xml, tests/boot-
	paravirt-disk-drv-tap-qcow.xml, tests/boot-paravirt-disk-drv-
	tap.xml, tests/boot-paravirt-disk-file.xml, tests/boot-paravirt-
	many-disks.xml, tests/install-fullyvirt-disk-block.xml, tests
	/install-fullyvirt-disk-file.xml, tests/install-paravirt-disk-
	block.xml, tests/install-paravirt-disk-drv-file.xml, tests/install-
	paravirt-disk-drv-phy.xml, tests/install-paravirt-disk-drv-tap-
	qcow.xml, tests/install-paravirt-disk-drv-tap.xml, tests/install-
	paravirt-disk-file.xml, tests/install-paravirt-many-disks.xml, tests
	/misc-xml-escaping.xml, virtinst/FullVirtGuest.py,
	virtinst/Guest.py, virtinst/ParaVirtGuest.py:
	Fix up generated xml spacing in Guest to scale with additional
	devices.
	[a5c90676f56b]

	* virtinst/Guest.py:
	Remove overly restrictive exception catching when replacing existing
	guest.
	[557add2ce734]

2008-07-01  "Cole Robinson  <crobinso@redhat.com>

	* virtinst/OSDistro.py:
	Fix Suse installs for hvm/pxe, and newer xen installs
	[fcb4417cab34]

2008-06-30  "Cole Robinson  <crobinso@redhat.com>

	* virtinst/DistroManager.py, virtinst/OSDistro.py:
	Pass arch to distro stores (needed for suse distros)
	[88d453bfcc43]

2008-07-10  "Cole Robinson  <crobinso@redhat.com>

	* virt-install, virtinst/cli.py:
	Add --sound option to virt-install, which adds 'es1370' audio model
	[4f90a2ba095c]

2008-07-03  "Cole Robinson  <crobinso@redhat.com>

	* virtinst/Guest.py, virtinst/__init__.py:
	Add VirtualAudio class and export it
	[b4b5cc914a6f]

2008-07-09  john  <john.levon@sun.com>

	* man/en/virt-convert.1, man/en/virt-convert.pod, virt-convert:
	Allow specification of output disk format for virt-convert

	In particular, allow the disk conversion to be skipped.

	Signed-off-by: John Levon <john.levon@sun.com>
	[0482bf130feb]

	* virt-convert, virtconv/diskcfg.py, virtconv/formats.py,
	virtconv/parsers/virtimage.py, virtconv/parsers/vmx.py,
	virtconv/vmcfg.py, virtconv/vmconfig.py:
	Cleanup created files on failure in virt-convert. Also split
	virtconv.vmconfig into multiple files.

	If we can't convert the disks or export the file, perform some
	cleanup.

	Signed-off-by: John Levon <john.levon@sun.com>
	[3599895684f7]

	* man/en/virt-convert.1, man/en/virt-convert.pod, virt-convert:
	Improve virt-convert output

	Print some details before long operations such as disk convert, and
	add a --quiet flag to allow skipping them.

	Signed-off-by: John Levon <john.levon@sun.com>
	[d83c2273a124]

	* virtconv/parsers/virtimage.py, virtconv/parsers/vmx.py:
	Fix multiple disks in virt-convert.

	Fix handling of multiple disks.

	Signed-off-by: John Levon <john.levon@sun.com>
	[6e9e6e2bcade]

	* man/en/virt-convert.1, man/en/virt-convert.pod, virt-convert:
	Make --arch optional for virt-convert.

	Default to the current system arch.

	Signed-off-by: John Levon <john.levon@sun.com>
	[a478e59b1f31]

2008-07-07  "Cole Robinson  <crobinso@redhat.com>

	* virtconv/__init__.py, virtconv/parsers/virtimage.py,
	virtconv/parsers/vmx.py, virtconv/vmconfig.py:
	Add virtconv files to the repo. (John Levon)
	[a2be1263c2f5]

	* python-virtinst.spec.in:
	Fixes to allow virtconv reorg to build properly.
	[53a062ec0c4f]

	* setup.py, virt-convert:
	Create config parser plugin system for virt-convert. (John Levon)

	Start a plugin system for config formats parsing, and implement
	enough of it to get to where we were with virt-convert.
	[c1db997c73ff]

2008-07-04  "Daniel P. Berrange  <berrange@redhat.com>

	* tests/boot-fullyvirt-disk-block.xml, tests/boot-fullyvirt-disk-
	file.xml, tests/install-fullyvirt-disk-block.xml, tests/install-
	fullyvirt-disk-file.xml, tests/misc-xml-escaping.xml,
	virtinst/FullVirtGuest.py:
	Fix test case & bug in console XML
	[82829d9e63ae]

2008-07-03  "Cole Robinson  <crobinso@redhat.com>

	* python-virtinst.spec.in:
	Remove virt-viewer from the rpm spec.
	[f51292c01e9f]

	* python-virtinst.spec.in:
	Add virt-convert to rpm spec (Joey Boggs)
	[583dc88770f7]

	* AUTHORS, virt-image, virtinst/Guest.py:
	Add a --replace flag to allow virt-image to install new images when
	an existing one with the same name is defined (Bryan Kearney)
	[6d7d84623847]

2008-07-02  "Cole Robinson  <crobinso@redhat.com>

	* virt-convert:
	Fix -i and -o so they work properly (John Levon)
	[8adb4407e8f3]

	* virt-convert:
	Fix up options handling for input dirs. (John Levon)

	If we specify an input directory, and no output, then default to
	placing a config file in the input directory.
	[44111dff8e19]

	* virt-convert:
	Fix .vmx parsing for DOS files (John Levon)
	[67ee36c36289]

	* virt-convert:
	Move some option logging in virt-convert (John Levon)
	[ca360525859b]

	* virt-convert:
	Remove some unnecessary logging in virt-convert
	[ed588cd21acb]

	* man/en/Makefile, man/en/virt-convert.1, man/en/virt-convert.pod,
	man/en/virt-unpack.1, man/en/virt-unpack.pod, setup.py, virt-
	convert, virt-unpack:
	Rename virt-unpack to virt-convert (John Levon)
	[61fc34b1aea9]

	* virt-unpack:
	Fix some pylint (John Levon)
	[3aed3a30aa7f]

	* virt-unpack:
	Add a newline to virt-image output definition (John Levon)
	[1b5d1cacce0b]

	* AUTHORS, man/en/virt-unpack.1, man/en/virt-unpack.pod, virt-unpack:
	Fix up virt-unpack options to allow both input and output
	directories, and formats other than vmx->virt-image. (John Levon)
	[2bbc65f542f6]

2008-07-02  "Daniel P. Berrange  <berrange@redhat.com>

	* virtinst/FullVirtGuest.py:
	Merge heads
	[5d9cf6c26624]

2008-05-10  "Daniel P. Berrange  <berrange@redhat.com>

	* virtinst/ParaVirtGuest.py:
	Remove obsolete unused method
	[a50bbec7b551]

	* virtinst/ParaVirtGuest.py:
	Remove obsolete xenner hacks
	[3afef0b524b7]

	* virtinst/FullVirtGuest.py:
	Fix console tag
	[184a036b4c19]

2008-07-01  "Cole Robinson  <crobinso@redhat.com>

	* man/en/virt-unpack.1, man/en/virt-unpack.pod, setup.py, virt-unpack:
	Add virt-unpack command and docs (Joey Boggs)
	[7e907d31aaa6]

2008-06-24  "Cole Robinson  <crobinso@redhat.com>

	* AUTHORS:
	Updated authors list for proper attribution of last cset
	[63aca2dbb315]

	* virtinst/DistroManager.py, virtinst/OSDistro.py:
	Allow installing from scientific linux trees
	[0784ae04ac12]

	* virtinst/FullVirtGuest.py:
	Add Fedora 9 and Windows 2008 install labels.
	[b6d938c603df]

2008-06-19  "Cole Robinson  <crobinso@redhat.com>

	* tests/image.py:
	Fix ImageParser test suite.
	[f64b9019e176]

	* tests/boot-fullyvirt-disk-file.xml, tests/boot-paravirt-disk-drv-
	file.xml, tests/boot-paravirt-disk-drv-tap-qcow.xml, tests/boot-
	paravirt-disk-drv-tap.xml, tests/boot-paravirt-disk-file.xml, tests
	/boot-paravirt-many-disks.xml, tests/install-fullyvirt-disk-
	file.xml, tests/install-paravirt-disk-drv-file.xml, tests/install-
	paravirt-disk-drv-tap-qcow.xml, tests/install-paravirt-disk-drv-
	tap.xml, tests/install-paravirt-disk-file.xml, tests/install-
	paravirt-many-disks.xml, tests/misc-xml-escaping.xml,
	tests/xmlconfig.py, virt-install, virtinst/Guest.py:
	Clean up VirtualDisk validation. Add rw access and size checking.
	Add size_conflict function to VirtualDisk
	[8cb10b587567]

2008-06-18  "Cole Robinson  <crobinso@redhat.com>

	* virt-install, virtinst/LiveCDInstaller.py:
	Fix LiveCD installer bug, add some virt-install debug messages
	[7ce9673ddb72]

	* virtinst/Guest.py, virtinst/ImageFetcher.py,
	virtinst/ImageManager.py, virtinst/cli.py:
	Fix some random syntax errors here and there
	[6294e879cd93]

	* virtinst/util.py:
	Add os.system wrapper to util for virt-pack commands
	[7e1cc2720815]

	* virt-clone, virt-image, virt-install, virt-pack, virtinst/cli.py:
	Explictly import translation function for command line utilities
	[021640feb961]

	* virt-clone, virt-image, virt-install, virt-pack, virtinst/cli.py:
	Add 'fail' convenience function to print/log error and exit
	[3eceb863409f]

2008-06-16  "Cole Robinson  <crobinso@redhat.com>

	* virtinst/Guest.py, virtinst/keytable.py, virtinst/util.py:
	Move keytable from virt-manager to virtinst
	[b073a4cc32e5]

2008-06-17  "Cole Robinson  <crobinso@redhat.com>

	* virt-clone, virt-image, virt-install, virt-pack, virtinst/cli.py:
	More optparse help locale fixes to preserve encoding when redirected
	to file (Bryan Mason)
	[0caa3675b2a5]

	* setup.py:
	Fix setup.py to install virt-pack.
	[285970579313]

	* man/en/virt-pack.1, man/en/virt-pack.pod:
	Few fixes for virt-pack man page
	[d1c50364414d]

	* man/en/virt-pack.1, man/en/virt-pack.pod:
	Add man page for virt-pack (Joey Boggs)
	[5306b7f36816]

	* python-virtinst.spec.in, virt-pack, virtinst/UnWare.py:
	Add virt-pack command (Joey Boggs and David Lutterkort)
	[a8177661c7b0]

2008-06-12  "Cole Robinson  <crobinso@redhat.com>

	* AUTHORS, virt-clone, virt-image, virt-install:
	Don't bomb if printing help message with unicode characters (Bryan
	Mason)
	[94d1a32b1811]

2008-06-06  "Cole Robinson  <crobinso@redhat.com>

	* virtinst/cli.py:
	Fail if number of specified vcpus is out of range for hypervisor
	(Hiroyuki Kaguchi)
	[5481034ec305]

	* AUTHORS, virt-image, virtinst/ImageParser.py:
	Store the image filename in the Image class (David Lutterkort and
	Joey Boggs)
	[8b9af8bfbe9e]

	* doc/image.rng, virtinst/ImageParser.py:
	Add version information to image.xml, release attribute to name tag
	(David Lutterkort and Joey Boggs)

	The ImageParser has been accepting the release attribute for a
	while, but that was not reflected in the RelaxNG grammar.
	[ce6910c916b2]

	* virtinst/ImageManager.py, virtinst/ImageParser.py:
	Rename Boot.disks to Boot.drives in Image* (David Lutterkort and
	Joey Boggs)

	In the XML, the corresponding element is called 'drive', not 'disk'
	[9e71be2a10b7]

	* virtinst/ImageManager.py, virtinst/ImageParser.py:
	Move abspath check from ImageManager to ImageParser (David
	Lutterkort and Joey Boggs)
	[11926a824807]

	* virt-install, virtinst/Guest.py:
	Add a few debug messages
	[3bfeb5bc5c32]

2008-05-15  "Cole Robinson  <crobinso@redhat.com>

	* virtinst/DistroManager.py:
	Small fix for RFC nfs uris
	[4776c61e0fa7]

2008-05-09  "Daniel P. Berrange  <berrange@redhat.com>

	* merge heads
	[98add67a4dc8]

	* virtinst/Guest.py:
	Set default initrd/kernel image directory to somewhere selinux safe
	[182a60126ad3]

2008-05-08  "Cole Robinson  <crobinso@redhat.com>

	* man/en/virt-clone.1, man/en/virt-clone.pod, man/en/virt-image-
	xml.pod, man/en/virt-image.1, man/en/virt-image.5, man/en/virt-
	image.pod, man/en/virt-install.1, man/en/virt-install.pod:
	Man page updates: virt-image disk formats, --force and --noreboot
	commands.
	[309cf2ed646a]

2008-04-23  "Daniel P. Berrange  <berrange@redhat.com>

	* virtinst/OSDistro.py:
	Merge heads
	[32ccf77af0af]

2008-04-23  Mark McLoughlin  <markmc@redhat.com>

	* virtinst/OSDistro.py:
	Remove temporary treeinfo files from /var/tmp

	Signed-off-by: Mark McLoughlin <markmc@redhat.com>
	[52285a26aaa2]

2008-04-21  "Daniel P. Berrange  <berrange@redhat.com>

	* Merge heads
	[c54605ffcd7b]

	* virtinst/OSDistro.py:
	Fix fetching of hvm kernel/initrds
	[5f10c7c171af]

2008-04-21  "Cole Robinson  <crobinso@redhat.com>

	* virtinst/Guest.py, virtinst/util.py:
	More robust mac address comparison when checking for collisions.
	(Hiroyuki Kaguchi)
	[a33443874046]

2008-04-21  "Daniel P. Berrange  <berrange@redhat.com>

	* python-virtinst.spec.in:
	Package egginfo on F8
	[bab31cb6c621]

2008-04-08  "Cole Robinson  <crobinso@redhat.com>

	* virtinst/Guest.py:
	Fix up vcpu error messages
	[6462dfd3e606]

2008-04-08  "Daniel P. Berrange  <berrange@redhat.com>

	* po/sr.po, po/sr@latin.po:
	Added serbian translations
	[1ddf45f434d2]

2008-04-03  "Daniel P. Berrange  <berrange@redhat.com>

	* po/it.po:
	Imported italian translation
	[9d91acd8f291]

2008-04-03  "Cole Robinson  <crobinso@redhat.com>

	* virtinst/cli.py:
	Compare mem to CellsFreeMemory as kbytes, not bytes
	[c6a819b1013e]

2008-04-02  "Cole Robinson  <crobinso@redhat.com>

	* virtinst/cli.py:
	Mistype in cli.get_cpuset
	[78f1be93224e]

2008-04-01  "Cole Robinson  <crobinso@redhat.com>

	* virtinst/CapabilitiesParser.py:
	Fix CapabilitiesParser for topology info for libvirt < 0.4.1
	[d507b18125f0]

	* virtinst/cli.py:
	Don't error if topology info is not in capabilities xml and
	--cpuset=auto is passed.
	[905c1d570971]

2008-03-27  "Cole Robinson  <crobinso@redhat.com>

	* po/pl.po:
	Updated polish translation.
	[0d2a2e526de3]

	* virt-install:
	Pass extraargs to fv guest.
	[8dfb17b00714]

	* virtinst/CapabilitiesParser.py:
	Fix capabilies guestForOSType to default to hosts arch if none is
	explicitly provided. Moves default virt-install arch back to
	previous values.
	[dc4c1ab45f41]

	* virtinst/Guest.py:
	Fix VirtualGraphics error in get_xml if no keymap is passed.
	[ad08b2d19382]

2008-03-24  "Cole Robinson  <crobinso@redhat.com>

	* virtinst/cli.py:
	Don't fail if there is no applicable arrangement for --cpuset=auto
	[fc11a2acde42]

	* virt-install, virtinst/cli.py:
	Add --cpuset=auto option, supports a best fit numa cell allocation.
	[847863a0c075]

2008-03-17  "Cole Robinson  <crobinso@redhat.com>

	* virtinst/Guest.py:
	Allow setting VirtualGuest parameters on init
	[9abcabe36d8f]

2008-03-15  "Cole Robinson  <crobinso@redhat.com>

	* tests/boot-paravirt-disk-block.xml, tests/boot-paravirt-disk-drv-
	file.xml, tests/boot-paravirt-disk-drv-phy.xml, tests/boot-paravirt-
	disk-drv-tap-qcow.xml, tests/boot-paravirt-disk-drv-tap.xml, tests
	/boot-paravirt-disk-file.xml, tests/boot-paravirt-many-disks.xml,
	tests/install-paravirt-disk-block.xml, tests/install-paravirt-disk-
	drv-file.xml, tests/install-paravirt-disk-drv-phy.xml, tests
	/install-paravirt-disk-drv-tap-qcow.xml, tests/install-paravirt-
	disk-drv-tap.xml, tests/install-paravirt-disk-file.xml, tests
	/install-paravirt-many-disks.xml, tests/validation.py,
	virtinst/util.py:
	Fix up test xml (only a whitespace change)
	[0d6b1b4fd4e2]

	* virtinst/Guest.py:
	Back compat and validation fixes for VirtualGraphics
	[b50d0c0bd3da]

2008-03-14  "Cole Robinson  <crobinso@redhat.com>

	* virt-image, virt-install, virtinst/Guest.py, virtinst/cli.py:
	Switch to use VirtualGraphics internally. Clearly mark all
	deprecated methods.
	[d3b14cb9bbb1]

	* virtinst/Guest.py, virtinst/__init__.py:
	Clean up and export VirtualGraphics class.

	The previous graphics classes were never exported, so I removed all
	the legacy xen stuff, and combined the SDL and VNC classes into one
	VirtualGraphics class. This will be far more extensible for any
	future features as well as allow a nice way to get parameter
	validation and build graphics xml for virt-manager.
	[4d09a8594e7d]

	* virtinst/Guest.py:
	Fix bug in is_conflict net. Touch up error messages thrown there.
	[465f440a8a42]

2008-03-13  "Cole Robinson  <crobinso@redhat.com>

	* virtinst/CapabilitiesParser.py:
	Add topology parsing to CapabilitiesParser
	[586205e08e2e]

	* virtinst/FullVirtGuest.py:
	Have cdrom device stick around after reboot for qemu guest: requires
	current upstream libvirt.
	[9d72e4722c7f]

2008-03-10  "Daniel P. Berrange  <berrange@redhat.com>

	* .hgtags:
	Added tag virtinst-0_300_3 for changeset cd5a9f4826f8
	[b264738ca7a1]

	* ChangeLog, python-virtinst.spec.in, setup.py:
	Update for 0.300.3 release
	[cd5a9f4826f8] [virtinst-0_300_3]

	* NEWS:
	Updated NEWS
	[1c9905817a14]

	* virtinst/DistroManager.py, virtinst/ImageManager.py:
	Always include loader tag for HVM guests
	[46f66904281b]

	* virtinst/OSDistro.py:
	Remove redundant check for fedora.css, since .treeinfo will always
	be present for F8
	[838dd456b7fc]

2008-03-09  "Daniel P. Berrange  <berrange@redhat.com>

	* virtinst/DistroManager.py, virtinst/ImageManager.py,
	virtinst/LiveCDInstaller.py:
	Fix os type for older libvirt Xen driver
	[9593da24975e]

	* virt-install, virtinst/CapabilitiesParser.py:
	Fix use of --accelerate argument
	[944955890db9]

	* virtinst/OSDistro.py:
	Fix logic for detecting os treeinfo entries based on arch
	[6d38c4f47aa6]

2008-03-08  "Daniel P. Berrange  <berrange@redhat.com>

	* Merge heads
	[f44be3a5ef47]

	* virtinst/FullVirtGuest.py, virtinst/ParaVirtGuest.py:
	Set os_type for installer to fix test suite
	[4b8fb63b9d9a]

2008-03-06  "Cole Robinson  <crobinso@redhat.com>

	* virt-clone, virt-image, virt-install, virtinst/cli.py:
	Add --force option to all cmdline utilities.

	Option forces a yes answer where applicable, bails out on any prompt
	that requires non boolean input.
	[507a70e9ed10]

	* virtinst/util.py:
	Fix bug in cset 369 in util.get_max_vcpus. Was breaking virt-manager
	installs.
	[f162e1a34ed1]

2008-03-04  "Daniel P. Berrange  <berrange@redhat.com>

	* po/fr.po, po/ja.po, po/pl.po, po/virtinst.pot:
	Refresh po files
	[faf95c934129]

	* man/en/virt-install.1, man/en/virt-install.pod,
	virtinst/ImageFetcher.py, virtinst/OSDistro.py, virtinst/util.py:
	Fix misc typos (Atsushi SAKAI)
	[486657e437cd]

2008-03-03  "Cole Robinson  <crobinso@redhat.com>

	* virtinst/CloneManager.py, virtinst/Guest.py:
	Add is_conflict_net to NIC class.
	[6d9b578399a1]

	* virtinst/Guest.py, virtinst/util.py:
	Pass type to util.get_max_vcpus. Gives accurate value if ex.
	installing kvm guest on qemu connection.
	[4b9dbbb59121]

2008-02-27  "Daniel P. Berrange  <berrange@redhat.com>

	* virtinst/ParaVirtGuest.py:
	Workaround libvirt bug wrt to Xenner
	[eb7c2ca2f546]

	* virtinst/cli.py:
	Reduce min ram to 64 MB instead of 256
	[b27fa11c302a]

2008-02-26  "Daniel P. Berrange  <berrange@redhat.com>

	* merge heads
	[5eb071dd36f2]

	* virt-clone, virt-install:
	Remove check for local file existance since it doesn't work remotely
	& is causing needless interactive prompts
	[52f657ebcb4d]

	* virt-install, virtinst/DistroManager.py, virtinst/Guest.py,
	virtinst/LiveCDInstaller.py, virtinst/ParaVirtGuest.py:
	Explicitly pass in OS type to distro installer to ensure it picks
	correct kernel in xenner case, rather than picking kernel based on
	HV domain type
	[96a8994ff871]

2008-02-22  "Cole Robinson  <crobinso@redhat.com>

	* virtinst/cli.py:
	Use libvirt error handlers and custom exception handler.

	The libvirt error handler will ignore all error messages, as these
	errors should be raised as exceptions anyways and dealt with that
	way. This prevents a deliberately ignored exception from still
	dumping a libvirt error to the console (such as during domain create
	when we would us lookupByName to ensure there wasn't a domain name
	conflict).
	[dc3dd659f7df]

2008-02-19  "Cole Robinson  <crobinso@redhat.com>

	* virtinst/util.py:
	Normalize connection type for get_max_vcpus.

	Fixes bug where getMaxVcpus was expecting qemu but is receiving QEMU
	[549bd0ef2ef7]

2008-02-24  "Daniel P. Berrange  <berrange@redhat.com>

	* virt-install, virtinst/CapabilitiesParser.py:
	Use capabilities XML to determine hypervisor capabilities instead of
	looking at local state
	[80309228720e]

	* tests/capabilities-kvm.xml, tests/capabilities.py, virt-image,
	virtinst/CapabilitiesParser.py, virtinst/ImageManager.py:
	Fix capabilities parser to deal with multiple possible domain types.
	Fix choosing of architecture for HVM. Added test with KVM
	capabilities XML
	[a84b08ecfb37]

2008-02-22  "Daniel P. Berrange  <berrange@redhat.com>

	* virtinst/FullVirtGuest.py:
	Merge heads
	[e12c94673001]

2008-02-18  "Daniel P. Berrange  <berrange@redhat.com>

	* virtinst/FullVirtGuest.py:
	Default acpi & apic to be enabled as per previous releases
	[b931aaa079cd]

2008-02-19  "Daniel P. Berrange  <berrange@redhat.com>

	* virt-install:
	Add --noreboot flag for virt-install to prevent automatic reboot
	[a99cfa7d021e]

2008-02-18  "Daniel P. Berrange  <berrange@redhat.com>

	* po/fr.po:
	Added french translation from Gauthier Ancelin
	[a407e9b41f34]

2008-02-17  "Daniel P. Berrange  <berrange@redhat.com>

	* virtinst/ImageParser.py:
	Allow use of qcow, qcow2, and vmdk disks
	[3b2bc0e2b060]

2008-02-16  "Daniel P. Berrange  <berrange@redhat.com>

	* virt-clone, virt-image, virt-install:
	Print friendly error message with keyboard interrupt, instead of
	huge stack trace
	[16b2d153d577]

	* AUTHORS, virtinst/OSDistro.py:
	Use .treeinfo files for probing Red Hat distro variants (Alexander
	Todorov)
	[f22561aac6fc]

2008-02-15  Mark McLoughlin  <markmc@redhat.com>

	* virt-install:
	Fix virt-install disks typo

	Fixes this traceback:

	 Traceback (most recent call last): File "./virt-install",
	line 498, in <module> main() File "./virt-install",
	line 462, in main dom =
	guest.start_install(conscb,progresscb) File
	"/home/markmc/projects/virt/virtinst--devel/virtinst/Guest.py", line
	813, in start_install return self._do_install(consolecb,
	meter) File "/home/markmc/projects/virt/virtinst--
	devel/virtinst/Guest.py", line 829, in _do_install
	self._create_devices(meter) File
	"/home/markmc/projects/virt/virtinst--devel/virtinst/Guest.py", line
	725, in _create_devices disk.setup(progresscb)
	AttributeError: 'str' object has no attribute 'setup'

	Looks to have been introduced by cset 351:07091304b759

	Signed-off-by: Mark McLoughlin <markmc@redhat.com>
	[fd6a7fa855d1]

2008-02-14  "Cole Robinson  <crobinso@redhat.com>

	* virt-clone, virt-install, virtinst/CloneManager.py:
	Use new cli yes or no function for install tools. Remove prompting
	from CloneManager. Fix virt-clone bug where full qualified paths
	weren't being written to the config. Fix lack of prompt issue when
	just running 'virt-clone'
	[07091304b759]

	* virtinst/cli.py:
	Add simpler prompt for yes or no
	[d5c41f1ff597]

2008-02-06  "Cole Robinson  <crobinso@redhat.com>

	* virtinst/DistroManager.py:
	Small fix for nfs rfc format patch.
	[71ebde48210c]

2008-02-04  "Cole Robinson  <crobinso@redhat.com>

	* man/en/virt-install.1, man/en/virt-install.pod,
	virtinst/DistroManager.py, virtinst/ImageFetcher.py,
	virtinst/OSDistro.py:
	Allow RFC compliant NFS uris and update associated docs. Carry uris
	around internally in the anaconda format nfs:server:/path. Fixes
	rhbz #243544.
	[aa3fe23be510]

2008-02-01  "Cole Robinson  <crobinso@redhat.com>

	* virtinst/DistroManager.py, virtinst/ImageFetcher.py,
	virtinst/OSDistro.py:
	Re-implement hasFile to not pull down any files, just test they
	exist.
	[96dd51a7e06b]

	* virt-install:
	Return correct error code if passed invalid command line value.
	(Shigeki Sakamoto)
	[375d3f83844c]

2008-01-30  "Cole Robinson  <crobinso@redhat.com>

	* man/en/virt-install.1, man/en/virt-install.pod:
	Document the Debian ostypes (patch by Trent W. Buck)
	[9eccd3abccb6]

	* virtinst/CloneManager.py:
	virt-clone: fix specifying non-existent disk on the command line.
	rhbz 430757
	[611782118e76]

	* virtinst/util.py:
	Have util.is_blktap_capable return accurate value for fedora
	distros.
	[da82ae52bc47]

2008-01-29  agx  <agx@sigxcpu.org>

	* virtinst/DistroManager.py:
	Don't fail if a non root user can't read from the block device due
	to insufficient permissions
	[96a103cd78dc]

2008-01-10  "Daniel P. Berrange  <berrange@redhat.com>

	* .hgtags:
	Added tag virtinst-0_300_2 for changeset bdc241ce11c9
	[5109856f3bed]

	* virtinst/CapabilitiesParser.py, virtinst/CloneManager.py,
	virtinst/DistroManager.py, virtinst/FullVirtGuest.py,
	virtinst/Guest.py, virtinst/ImageFetcher.py,
	virtinst/LiveCDInstaller.py, virtinst/OSDistro.py,
	virtinst/ParaVirtGuest.py, virtinst/util.py:
	Remove #!/usr/bin/python in modules
	[bdc241ce11c9] [virtinst-0_300_2]

	* ChangeLog:
	Regenerate changelog
	[e76030f32ec7]

	* po/ja.po, po/pl.po, po/virtinst.pot:
	Regenerate PO file
	[8854785f1d42]

	* python-virtinst.spec.in, setup.py:
	Prep for 0.300.2 release
	[f3954f91dda2]

2008-01-10  "Cole Robinson  <crobinso@redhat.com>

	* man/en/virt-install.1, man/en/virt-install.pod:
	docs: add --cpuset, fix spacing error to show --acpi command.
	[6dfcce37c6e3]

	* virtinst/util.py:
	Fix previous xml_escape patch: replace doesn't work in place.
	[12c680403d4e]

2008-01-09  "Cole Robinson  <crobinso@redhat.com>

	* virtinst/DistroManager.py, virtinst/Guest.py,
	virtinst/ImageManager.py, virtinst/util.py:
	Add xml_escape util function, apply where needed.
	[207e1674c298]

2008-01-09  "Daniel P. Berrange  <berrange@redhat.com>

	* tests/misc-xml-escaping.xml, tests/xmlconfig.py, virtinst/Guest.py:
	Escape & chars in disk paths too
	[fcdd83c92732]

2008-01-07  "Daniel P. Berrange  <berrange@redhat.com>

	* tests/misc-xml-escaping.xml, tests/xmlconfig.py, virtinst/Guest.py:
	Escape disk image paths
	[5dcf3867811a]

2008-01-02  "Daniel P. Berrange  <berrange@redhat.com>

	* virtinst/util.py:
	Only extract ethernet devices from ifconfig -a
	[5486afdf6a01]

	* tests/validation.py:
	Tweak file checked in test suite so it actually exists
	[fb7dd6c255b7]

2007-12-19  "Cole Robinson  <crobinso@redhat.com>

	* virt-install:
	Throw clean warning if virt-viewer is not installed (Thanks Guido
	Guenther)
	[e5476eeb19e4]

	* virtinst/DistroManager.py, virtinst/FullVirtGuest.py,
	virtinst/Guest.py:
	Check file is not block if type = file. Check os_type specified
	before validating os_variant. Error message fix in if no valid
	distro found at install source.
	[92c91512d12f]

2007-12-18  "Cole Robinson  <crobinso@redhat.com>

	* virt-install, virtinst/DistroManager.py, virtinst/ImageFetcher.py:
	Fix previous nfs parsing patch. Rework virt-install cdrom validation
	to use non deprecated functions and accomodate all modes of
	installation.
	[67bdbf15eb07]

2007-12-17  "Cole Robinson  <crobinso@redhat.com>

	* virtinst/ImageFetcher.py:
	Order of parsing fix for nfs installs.
	[6e12733096fa]

	* virt-install:
	Add thorough validation testing if cdrom path exists, otherwise
	assume its a uri.
	[075befa26f36]

	* python-virtinst.spec.in:
	Add Requires: libxml2-python to spec. Fixes bz #387411.
	[9f0b17c174c4]

	* tests/boot-fullyvirt-disk-block.xml, tests/boot-fullyvirt-disk-
	file.xml, tests/install-fullyvirt-disk-block.xml, tests/install-
	fullyvirt-disk-file.xml, virtinst/FullVirtGuest.py:
	Add 'clock' key to FV guest features dictionary. Sets 'localtime'
	for windows guests. Fixes bz #349821.
	[325a56861208]

2007-12-11  "Daniel P. Berrange  <berrange@redhat.com>

	* virtinst/FullVirtGuest.py:
	Added debian distros
	[81d9288672cb]

	* virtinst/CloneManager.py:
	Fix misindented block
	[04bcf7147ee9]

2007-12-06  "Daniel P. Berrange  <berrange@redhat.com>

	* virt-install, virtinst/Guest.py, virtinst/cli.py, virtinst/util.py:
	Added support for CPU set parameter (Tatsuro Enokura)
	[0c84a00fefdd]

	* virtinst/cli.py:
	Added missing import for OptionValueError (Tatsuro Enokura)
	[65543de26612]

2007-12-05  David Lutterkort  <dlutter@redhat.com>

	* man/en/Makefile:
	Add HTML target

	Add a target that produces (ugly) HTML files from the POD files. Not
	used by default.
	[c98f26991bad]

2007-12-04  "Daniel P. Berrange  <berrange@redhat.com>

	* Merge heads
	[53e6f3302344]

	* AUTHORS, virtinst/Guest.py:
	Allow mac addresses without leading 0's (John Danielson/Mark
	Johnson)
	[3f7793b6e99c]

2007-12-04  David Lutterkort  <dlutter@redhat.com>

	* virt-image:
	Don't ask questions on the command line

	Make it possible to create a virtual machine without answering any
	questions. All values (like VM name, memory, ...) are either taken
	from the image.xml or set to default values.
	[d297f2b4b3e6]

	* doc/image.rng, man/en/virt-image-xml.pod, man/en/virt-image.5,
	virtinst/ImageParser.py:
	Add id attribute to storage/disk element

	Allow naming disk storage elements with an id and use that to
	reference them from the boot descriptor; using the file attribute is
	tedious if disk files are in subdirectories
	[f7dd776bc9de]

	* virtinst/ImageParser.py:
	Fix typo and better error message.

	When generating error message about a bad reference from a drive to
	a disk, use disk_id attribute for the drive and make it clearer that
	we are talking about a problem in the XML, not that a file is
	actually missing.
	[897a151254da]

	* doc/image.rng:
	Allow relative paths, not just file names where files are
	referenced.
	[5dabc7a973b0]

2007-12-01  "Daniel P. Berrange  <berrange@redhat.com>

	* Merge heads
	[6fb5cb8419d3]

	* AUTHORS, virtinst/Guest.py:
	Ignore errors looking up domains when checking disks as vm is
	probably dieing. Patch from Robert Nelson
	[0c504316ab5f]

	* virtinst/DistroManager.py, virtinst/ImageFetcher.py,
	virtinst/OSDistro.py:
	Add a local image fetcher for accessing install trees directly on
	host FS
	[be8457357ab2]

	* virt-install, virtinst/Guest.py:
	Fix over-zelous validation of CDROM paths. CDROMs can be
	http/ftp/nfs paths too
	[3740dcc2ef88]

2007-11-30  David Lutterkort  <dlutter@redhat.com>

	* virtinst/FullVirtGuest.py, virtinst/ImageManager.py,
	virtinst/LiveCDInstaller.py:
	Fix virt-image
	[97dd840702bf]

2007-11-29  "Daniel P. Berrange  <berrange@redhat.com>

	* virtinst/DistroManager.py, virtinst/OSDistro.py:
	Rename *ImageStore class to *OSDistro
	[2eaff67dc078]

	* autobuild.sh:
	Remove MANIFEST to force rebuild during automated builds
	[abd9bf02317c]

	* virtinst/DistroManager.py, virtinst/OSDistro.py:
	Pull ImageStore classes out into separate module from DistroManager
	(Robert Nelson)
	[4bd64c0d645f]

	* virtinst/DistroManager.py, virtinst/ImageFetcher.py:
	Pull ImageFetcher classes out into separate module from
	DistroManager (Robert Nelson)
	[3681c11bf105]

2007-11-28  "Cole Robinson  <crobinso@redhat.com>

	* virtinst/Guest.py:
	Fix check for non-existing path for floppy or cdrom.
	[708b5d1f12a3]

2007-11-27  "Cole Robinson  <crobinso@redhat.com>

	* virtinst/Guest.py:
	More validation cleanup. Add specific error msg if path doesn't
	exist for cdrom or floppy device.
	[cb721a6703c9]

	* virtinst/Guest.py:
	Cleanup and document some virtual disk validation cases.
	[8cfb87a7e262]

2007-11-20  "Daniel P. Berrange  <berrange@redhat.com>

	* man/en/virt-clone.1:
	Re-generate virt-clone.1 in nroff format
	[b94f44fdbd7e]

	* COPYING, MANIFEST.in, README, python-virtinst.spec.in,
	tests/__init__.py, tests/capabilities.py, tests/image.py,
	tests/validation.py, tests/xmlconfig.py, virt-clone, virt-image,
	virt-install, virtinst/CapabilitiesParser.py,
	virtinst/CloneManager.py, virtinst/DistroManager.py,
	virtinst/FullVirtGuest.py, virtinst/Guest.py,
	virtinst/ImageManager.py, virtinst/ImageParser.py,
	virtinst/LiveCDInstaller.py, virtinst/ParaVirtGuest.py,
	virtinst/__init__.py, virtinst/cli.py, virtinst/util.py:
	Clarify that all licensing is GPLv2+ & fix FSF addresses
	[2215263e8a23]

2007-11-17  "Daniel P. Berrange  <berrange@redhat.com>

	* tests/boot-fullyvirt-disk-block.xml, tests/boot-fullyvirt-disk-
	file.xml, tests/boot-paravirt-disk-block.xml, tests/boot-paravirt-
	disk-drv-phy.xml, tests/boot-paravirt-many-disks.xml, tests/install-
	fullyvirt-disk-block.xml, tests/install-fullyvirt-disk-file.xml,
	tests/install-paravirt-disk-block.xml, tests/install-paravirt-disk-
	drv-phy.xml, tests/install-paravirt-many-disks.xml,
	tests/validation.py, tests/xmlconfig.py:
	s,/dev/root,/dev/loop0 for better portability to non-Fedora. Force
	disable PAE
	[fcbe26aa68b7]

	* tests/validation.py:
	Fixed VNC port number in test
	[600b39d152ba]

	* Merge heads
	[5422474b7707]

	* tests/__init__.py:
	Added import statements for each test to make it work with python
	2.4 unittest lib
	[e8d1ed9e7d41]

2007-11-13  "Cole Robinson  <crobinso@redhat.com>

	* virt-install:
	Improve clarity of virt-install question
	[cc87bb0d426b]

2007-11-12  "Cole Robinson  <crobinso@redhat.com>

	* virtinst/DistroManager.py, virtinst/FullVirtGuest.py,
	virtinst/Guest.py, virtinst/ParaVirtGuest.py:
	Rework device adding during install process to not alter public
	attributes.
	[ebf9464130c6]

2007-11-07  "Cole Robinson  <crobinso@redhat.com>

	* virtinst/Guest.py:
	Add upperbound check to vncport commandline option. (Masayuki Sunou)
	[f40212ea1fd6]

	* virtinst/DistroManager.py:
	Catch ValueError instead of RuntimeError in some DistroManagers.
	Report a more descriptive error if we can't acquireFile
	[97813716a9c0]

2007-10-29  "Cole Robinson  <crobinso@redhat.com>

	* virt-install, virtinst/Guest.py:
	Improve cdrom path validation.
	[9a1d35776b3c]

	* virtinst/Guest.py:
	Better error handling when creating file based disks (Chris
	Lalancette)
	[7030d53677b8]

2007-10-11  "Daniel P. Berrange  <berrange@redhat.com>

	* virtinst/DistroManager.py:
	Fixed exception catching for NFS file check (rhbz 325591)
	[723b2d8b986a]

2007-10-10  "Daniel P. Berrange  <berrange@redhat.com>

	* po/ja.po:
	Added ja.po translation from Hyu_gabaru Ryu_ichi
	[531b73491ac2]

2007-10-04  "Daniel P. Berrange  <berrange@redhat.com>

	* tests/boot-fullyvirt-disk-block.xml, tests/boot-fullyvirt-disk-
	file.xml, tests/install-fullyvirt-disk-block.xml, tests/install-
	fullyvirt-disk-file.xml, virtinst/FullVirtGuest.py:
	Disable USB tablet for non-Windows since many guest OS don't
	configure it correctly (rhbz 302951)
	[9681f8e3ca15]

	* tests/validation.py:
	Skip NFS test as non-root
	[3d8652c103c1]

2007-10-03  "Cole Robinson  <crobinso@redhat.com>

	* tests/boot-fullyvirt-disk-file.xml, tests/boot-paravirt-disk-drv-
	file.xml, tests/boot-paravirt-disk-drv-tap-qcow.xml, tests/boot-
	paravirt-disk-drv-tap.xml, tests/boot-paravirt-disk-file.xml, tests
	/boot-paravirt-many-disks.xml, tests/install-fullyvirt-disk-
	file.xml, tests/install-paravirt-disk-drv-file.xml, tests/install-
	paravirt-disk-drv-tap-qcow.xml, tests/install-paravirt-disk-drv-
	tap.xml, tests/install-paravirt-disk-file.xml, tests/install-
	paravirt-many-disks.xml, tests/xmlconfig.py,
	virtinst/CloneManager.py, virtinst/Guest.py:
	Add some tighter validation cases.
	[c0b20d1eaaf2]

	* tests/validation.py, virtinst/__init__.py:
	Add validation tests to the testing framework.
	[b9456d53dfd8]

2007-10-03  "Daniel P. Berrange  <berrange@redhat.com>

	* Merge
	[9c3b82e87f93]

	* virtinst/CloneManager.py:
	Case insensitive MAC address checks (S.Sakamoto)
	[d9ef1ea8f95c]

2007-09-28  "Daniel P. Berrange  <berrange@redhat.com>

	* Merge heads
	[219bd66150dd]

	* AUTHORS, po/pl.po:
	Added polish translation
	[5029e05b6858]

2007-09-25  "Hugh O. Brock  <hbrock@redhat.com>

	* virtinst/Guest.py:
	Quoting a string constant considered harmful.
	[6dbccf449182]

2007-09-25  "Daniel P. Berrange  <berrange@redhat.com>

	* .hgtags:
	Added tag virtinst-0_300_1 for changeset 57bd14490109
	[c7504a0f2c9e]

	* NEWS, python-virtinst.spec.in, setup.py:
	Bump to 0.300.1 release
	[57bd14490109] [virtinst-0_300_1]

2007-09-21  "Hugh O. Brock  <hbrock@redhat.com>

	* virtinst/Guest.py:
	Allow Guest.py/VirtualDisk constructor to take a null Path (handles
	disconnected cdrom case)
	[0ef9718ed7a9]

2007-09-19  "Daniel P. Berrange  <berrange@redhat.com>

	* virtinst/FullVirtGuest.py:
	Don't keep transient disks for non-Xen drivers
	[417392ab04d1]

2007-09-12  "Daniel P. Berrange  <berrange@redhat.com>

	* virtinst/Guest.py:
	Allow installer attribute to be set
	[05ade1a1a9d9]

2007-09-11  "Daniel P. Berrange  <berrange@redhat.com>

	* man/en/virt-install.1, man/en/virt-install.pod, virt-install,
	virtinst/DistroManager.py, virtinst/FullVirtGuest.py,
	virtinst/__init__.py:
	Added support for PXE booting HVM guests using the --pxe command
	line arg
	[a94b50696c3d]

	* virtinst/util.py:
	Fix default arch for 32-bit
	[39241297c2c5]

	* virtinst/FullVirtGuest.py:
	Fix typo in Fedora 8 distro name
	[39d2c56e9895]

	* virtinst/DistroManager.py:
	Fix detection of Fedora distros for latest F8 style trees
	[6b4684756fcf]

2007-08-29  "Daniel P. Berrange  <berrange@redhat.com>

	* .hgtags:
	Added tag virtinst-0_300_0 for changeset 6a1d664b8d33
	[a6d47ed6c97c]

	* tests/boot-fullyvirt-disk-block.xml, tests/boot-fullyvirt-disk-
	file.xml:
	Fix test data for CDROM with no media
	[6a1d664b8d33] [virtinst-0_300_0]

	* ChangeLog:
	Refresh changelog
	[bd420d4c2154]

	* NEWS, README, python-virtinst.spec.in, setup.py:
	Prep for release 0.300.0
	[52429e371a1e]

	* merge heads
	[7fe6f95d3f0e]

2007-08-28  "Daniel P. Berrange  <berrange@redhat.com>

	* virtinst/Guest.py:
	Fixed bug 260981 with empty cdrom source path
	[3ea0c5d79b6a]

2007-08-27  David Lutterkort  <dlutter@redhat.com>

	* man/en/virt-image-xml.pod, man/en/virt-image.1, man/en/virt-image.5,
	man/en/virt-image.pod:
	Fix typos (patch by Atsushi SAKAI sakaia at jp dot fujitsu dot com
	[6905717ca5a3]

2007-08-24  David Lutterkort  <dlutter@redhat.com>

	* MANIFEST.in, python-virtinst.spec.in, setup.py:
	Include virt-image and related files in distribution
	[c14c186fadd3]

	* man/en/Makefile, man/en/virt-image.5:
	Put virt-image(5) into the right section
	[bfb10b7d7e74]

	* man/en/Makefile:
	Makefile to recreate amn pages from pod
	[aac773a54c1e]

	* man/en/virt-image-xml.pod, man/en/virt-image.1, man/en/virt-image.5,
	man/en/virt-image.pod:
	Man pages for virt-image tool and XML format
	[f0033422f18c]

	* doc/example1.xml, doc/image.rng:
	Relax-NG for image XML and a simple example
	[c520b0a3ce5b]

	* virt-image:
	Make the image.xml an argument, not a mandatory option
	[163c319ba5c5]

2007-08-21  "Daniel P. Berrange  <berrange@redhat.com>

	* virtinst/DistroManager.py:
	Fixed XML generated for kernel/initrd installs of KVM
	[b33e850305be]

	* python-virtinst.spec.in, virt-install:
	Use virt-viewer & virsh console instead of vncviewer & xm console
	[7220fc5059e4]

2007-08-16  "Daniel P. Berrange  <berrange@redhat.com>

	* virtinst/CloneManager.py:
	Added checks for duplicate disks (Shigeki Sakamoto.)
	[c97e58a859b1]

2007-08-15  "Daniel P. Berrange  <berrange@redhat.com>

	* man/en/virt-install.1, man/en/virt-install.pod:
	Fixed a number of typos in manual page (Atsushi SAKAI)
	[baab5cd7705e]

2007-08-10  "Daniel P. Berrange  <berrange@redhat.com>

	* tests/boot-fullyvirt-disk-block.xml, tests/boot-fullyvirt-disk-
	file.xml, tests/boot-paravirt-disk-block.xml, tests/boot-paravirt-
	disk-drv-file.xml, tests/boot-paravirt-disk-drv-phy.xml, tests/boot-
	paravirt-disk-drv-tap-qcow.xml, tests/boot-paravirt-disk-drv-
	tap.xml, tests/boot-paravirt-disk-file.xml, tests/boot-paravirt-
	many-disks.xml, tests/install-fullyvirt-disk-block.xml, tests
	/install-fullyvirt-disk-file.xml, tests/install-paravirt-disk-
	block.xml, tests/install-paravirt-disk-drv-file.xml, tests/install-
	paravirt-disk-drv-phy.xml, tests/install-paravirt-disk-drv-tap-
	qcow.xml, tests/install-paravirt-disk-drv-tap.xml, tests/install-
	paravirt-disk-file.xml, tests/install-paravirt-many-disks.xml,
	virtinst/FullVirtGuest.py, virtinst/Guest.py,
	virtinst/ParaVirtGuest.py:
	Configure a USB tablet for fullyvirt guests
	[a641904a933e]

	* autobuild.sh:
	Abort build on test failures
	[dc3676ce9eb0]

	* tests/boot-fullyvirt-disk-block.xml, tests/boot-fullyvirt-disk-
	file.xml, tests/install-fullyvirt-disk-block.xml, tests/install-
	fullyvirt-disk-file.xml, virtinst/FullVirtGuest.py:
	Sorted features alphabetically in XML. Keep disks in device node
	order
	[093eb8d83108]

	* tests/xmlconfig.py:
	Fixed up for change in os type API
	[9fdcdd35a9b2]

	* tests/image.xml:
	Fixed up XML for recent changes to disk mapping format
	[6380fdd9b0e4]

	* tests/capabilities.py:
	Fixed up test for changes in capabilities API
	[2833dc3c35b9]

2007-07-31  David Lutterkort  <dlutter@redhat.com>

	* virtinst/ImageParser.py:
	Set some defaults to avoid blowups with degenrate image descriptors
	[36b32b6d8fa2]

	* virt-image:
	Don't catch an exception raised by main - that leads to complaints
	when using --help in Python 2.4
	[d28efcfac6aa]

	* virt-image:
	Remove phony --installer option
	[dfef12e146c5]

2007-07-31  "Hugh O. Brock  <hbrock@redhat.com>

	* tests/image.py, tests/image.xml, virtinst/ImageManager.py,
	virtinst/ImageParser.py:
	And the other files I neglected to add...
	[31f5c8b8990e]

	* virt-image:
	Forgot to add the new file, doh...
	[5e4a87d3eff5]

	* virtinst/CapabilitiesParser.py, virtinst/FullVirtGuest.py,
	virtinst/Guest.py, virtinst/ParaVirtGuest.py, virtinst/__init__.py:
	First go-round for virt-image capability, which lets you install a
	VM as a self-contained image. http://people.redhat.com/dlutter/virt-
	image/ documents usage, until man pages arrive. Thanks to David
	Lutterkort <dlutter-at-redhat-dot-com>
	[83d4113b2c43]

2007-07-30  "Hugh O. Brock  <hbrock@redhat.com>

	* virt-install:
	Warn if creating the guest would overwrite an existing storage file
	[4d1113860fab]

2007-07-21  "Hugh O. Brock  <hbrock@redhat.com>

	* virtinst/Guest.py:
	One more spot for extra_args, whoops.
	[645217bda13b]

2007-07-20  "Hugh O. Brock  <hbrock@redhat.com>

	* virtinst/Guest.py:
	Revert well intentioned property method cleanup by markmc to avoid
	breaking legacy koan code.
	[ae644a861029]

2007-07-18  "Daniel P. Berrange  <berrange@redhat.com>

	* .hgtags:
	Added tag virtinst-0_200_0 for changeset 3b135bf61760
	[90eae7c33d0d]

	* ChangeLog, NEWS, python-virtinst.spec.in, setup.py:
	Update for 0.200.0 release
	[3b135bf61760] [virtinst-0_200_0]

	* setup.py:
	Fixed typo in __init__.py name
	[342281abfd7a]

	* setup.py:
	Exit with non-zero status for test failures
	[46192a3d444b]

	* setup.py, virtinst/__init__.py, virtinst/__init__.py.in:
	Rename __init__py.in back to __init__.py to make tests work reliably
	[7343e5251c3f]

	* virtinst/DistroManager.py:
	Fixed variable name
	[677dabc13e19]

	* tests/boot-fullyvirt-disk-block.xml, tests/boot-fullyvirt-disk-
	file.xml:
	Fixed test for CDROM device with empty source
	[50100848408d]

2007-07-18  "Hugh O. Brock  <hbrock@redhat.com>

	* virtinst/FullVirtGuest.py:
	Fixes BZ 248487, which was preventing many fullvirt guests (any that
	required acpi and apic on) from installing successfully unless those
	options were explicitly supplied. Also sets the default for acpi and
	apic back to 'off' for win2k and winxp guests.
	[0515a38b27e9]

2007-07-17  "Daniel P. Berrange  <berrange@redhat.com>

	* virt-install:
	Deal with SystemExit exception quietly
	[de5dab60001c]

	* virtinst/ParaVirtGuest.py:
	Remove bogus need_bootdev arg
	[4b1ffe4235cb]

2007-07-17  berrange  <berrange@pumpkin.virt.boston.redhat.com>

	* virtinst/Guest.py:
	Always include a <source> tag, but use empty path for transient
	CDROM
	[ef95c44a16b4]

2007-07-17  "Daniel P. Berrange  <berrange@redhat.com>

	* virtinst/FullVirtGuest.py:
	Don't create an empty CDROM with QEMU
	[967601d94edb]

	* virtinst/DistroManager.py:
	Fix ostype for fetching non-Xen kernels
	[6bd4aa523508]

	* virt-install, virtinst/util.py:
	Pick sane default arch
	[9e80dade15a3]

	* man/en/virt-install.1, man/en/virt-install.pod, virt-install,
	virtinst/DistroManager.py, virtinst/FullVirtGuest.py,
	virtinst/Guest.py, virtinst/LiveCDInstaller.py:
	Re-work way installer chooses between kernel+initrd vs cdrom. Always
	use cdrom with Xen HV. If --location is used prefer kernel+initrd,
	or --cdrom is used, prefer ISO
	[303c7bc574d5]

2007-07-15  "Daniel P. Berrange  <berrange@redhat.com>

	* man/en/virt-install.1, man/en/virt-install.pod:
	Fixed docs about --livecd
	[b6a8ef48c88b]

2007-07-12  "Daniel P. Berrange  <berrange@redhat.com>

	* virtinst/CapabilitiesParser.py:
	Make parse_features method for capabilities public
	[5ca9f240b398]

	* man/en/virt-install.1, man/en/virt-install.pod, virt-install:
	Replace generic --installer option with specific --livecd option
	[83bdc16fa84f]

	* virtinst/DistroManager.py:
	Revert to using transient flag, so CDROM device is still attached
	post boot, but with no media loaded
	[f73e4df030d6]

	* virtinst/DistroManager.py:
	Catch Exception instead of RuntimeError since the former deals with
	404 condition better
	[1714008a10b5]

	* virt-clone, virt-install, virtinst/cli.py:
	Refactor common command line processing code into virtinst/cli
	[02aefa186801]

	* virtinst/util.py:
	Comment out annoying error message about max vcpus
	[3d47bd1146dc]

	* virtinst/CloneManager.py:
	Fixed variable name refernce
	[683d00512ec3]

	* setup.py:
	Add build/lib to test path, so that tests use generated script
	[6d4342892563]

	* tests/xmlconfig.py:
	Explicitly do a readonly connection, though technically it should be
	read/write, readonly works better in test suite
	[9fb19a6802a2]

2007-07-09  "Daniel P. Berrange  <berrange@redhat.com>

	* virtinst/CloneManager.py:
	Fixed hardcoded use of Xen connection when cloning
	[422e2f7d56a2]

	* virt-clone, virt-install, virtinst/CapabilitiesParser.py,
	virtinst/CloneManager.py, virtinst/DistroManager.py,
	virtinst/FullVirtGuest.py, virtinst/Guest.py,
	virtinst/LiveCDInstaller.py, virtinst/ParaVirtGuest.py,
	virtinst/util.py:
	Ensure all strings are translated with gettext Cole Robinson
	[9d8165be6060]

	* MANIFEST.in, po/virtinst.pot, python-virtinst.spec.in, setup.py,
	virtinst/__init__.py, virtinst/__init__.py.in:
	Initial infrastructure for building/installing po files Cole
	Robinson
	[231578c9223a]

	* tests/boot-fullyvirt-disk-block.xml, tests/boot-fullyvirt-disk-
	file.xml, tests/boot-paravirt-disk-block.xml, tests/boot-paravirt-
	disk-drv-phy.xml, tests/boot-paravirt-many-disks.xml, tests/install-
	fullyvirt-disk-block.xml, tests/install-paravirt-disk-block.xml,
	tests/install-paravirt-disk-drv-phy.xml, tests/install-paravirt-
	many-disks.xml, tests/xmlconfig.py:
	Fixed test suite to pass with latest validation rules
	[14215b6a5caf]

2007-07-04  "Daniel P. Berrange  <berrange@redhat.com>

	* man/en/virt-clone.1, man/en/virt-clone.pod:
	Fixed man page typos (Atsushi SAKAI)
	[77f6b840cf40]

2007-06-22  "Hugh O. Brock  <hbrock@redhat.com>

	* AUTHORS:
	Previous changeset courtesy Cole Robinson -- thanks Cole\!
	[65ea24a40b29]

	* virt-install, virtinst/DistroManager.py, virtinst/Guest.py,
	virtinst/util.py:
	Clean up validation messages and export them to virtinst. First step
	in eliminating virt-manager and virtinst duplicate validation
	issues.
	[1a95d8dd8d12]

2007-06-14  Saori Fukuta  <fukuta.saori@jp.fujitsu.com>

	* virtinst/Guest.py:
	[et-mgmt-tools] [PATCH] checking for busy disk Hi,

	The virt-install & virt-manager are checking if the physical device
	has been using by other domain. But they does not check, when the
	device is file or tap.

	So I add to check it.

	Signed-off-by: Saori Fukuta <fukuta.saori@jp.fujitsu.com>

	Thanks, Saori Fukuta
	[3e2bf458732a]

2007-06-13  "Hugh O. Brock  <hbrock@redhat.com>

	* virtinst/DistroManager.py:
	Leave the cdrom device attached to a guest after install, since it
	is now easy for the operator to detach it from virsh or virt-
	manager.
	[633d1d187b69]

2007-06-13  Saori Fukuta  <fukuta.saori@jp.fujitsu.com>

	* virtinst/Guest.py:
	[et-mgmt-tools] [PATCH] checking for file-size Hi,

	I add to check for the file-size of the disk. If the file-size is
	less than or equal to 0, it will show the following message:
	ERROR: Size of the disk image must be greater than 0 and ask again.

	Signed-off-by: Saori Fukuta <fukuta.saori@jp.fujitsu.com>

	Thanks, Saori Fukuta
	[e5fa6869b1c6]

2007-06-13  Masayuki Sunou  <fj1826dm@aa.jp.fujitsu.com>

	* virt-install:
	[et-mgmt-tools] [PATCH] Fix memory check in interactive mode Hi

	When memory is interactively input to virt-install, memory is not
	checked.

	------------------------------------------------------------ How
	much RAM should be allocated (in megabytes)? 1 What would you like
	to use as the disk (path)?
	------------------------------------------------------------

	This patch fixes it.

	 Signed-off-by: Masayuki Sunou <fj1826dm@aa.jp.fujitsu.com>

	Thanks, Masayuki Sunou.

	--------------------------------------------------------------------
	-----------
	[2c69f8de0756]

	* virtinst/FullVirtGuest.py:
	[et-mgmt-tools] [PATCH] Fixes the error when Windows is installed
	with "-- os-variant" option Hi

	When I install Windows with "-- os-variant" option, virt-install
	outputs the following errors.

	--------------------------------------------------------------------
	------------
	 --os-type="windows" --os-variant="win2k" --file /dev/sda8

	Starting install... libvir: Xen Daemon error : GET operation failed:
	Domain installation may not have been successful. If it was, you
	can restart your domain by running 'virsh start TEST'; otherwise,
	please restart your installation. Wed, 30 May 2007 13:05:57 ERROR
	'distro' Traceback (most recent call last): File "/usr/bin/virt-
	install", line 647, in <module> main() File "/usr/bin/virt-
	install", line 607, in main dom =
	guest.start_install(conscb,progresscb) File "/usr/lib/python2.5
	/site-packages/virtinst/Guest.py", line 668, in start_install
	self._prepare_install(meter) File "/usr/lib/python2.5/site-
	packages/virtinst/FullVirtGuest.py", line 195, in _prepare_install
	distro = self.os_distro) File "/usr/lib/python2.5/site-
	packages/virtinst/FullVirtGuest.py", line 148, in get_os_distro
	return FullVirtGuest.OS_TYPES[self.os_type]["variants"][self.os_vari
	ant]["distro""] KeyError: 'distro'
	---------------------------------------------------------------------
	-----------

	This patch fixes it.

	 Signed-off-by: Masayuki Sunou <fj1826dm@aa.jp.fujitsu.com>

	Thanks, Masayuki Sunou.

	--------------------------------------------------------------------
	-----------
	[fc9321965c89]

2007-06-05  Nobuhiro Itou  <fj0873gn@aa.jp.fujitsu.com>

	* virtinst/FullVirtGuest.py, virtinst/Guest.py:
	Re: [et-mgmt-tools] [PATCH] [RESEND] Fix continue to install Windows
	Hi,

	Would you give me a comment on this patch? If not, please apply it.

	> I can't continue to install Windows HVM domain after first
	restart. > After the restarting, /dev/cdrom (or ISO path) has not
	been attached to the domain. > The attached patch solves this
	problem. > > Signed-off-by: Nobuhiro Itou
	<fj0873gn@aa.jp.fujitsu.com>

	 Thanks, Nobuhiro Itou.
	[109f14bcae2b]

2007-05-31  "Hugh O. Brock  <hbrock@redhat.com>

	* virt-clone:
	Merge patches
	[797e92fd5e0d]

	* virtinst/CloneManager.py:
	Handle storage other than read-write hard disks better. Signed-off-
	by: Kazuki Mizushima <mizushima.kazuk@jp.fujitsu.com>
	[6bba9515ea3f]

	* virt-clone:
	Add option to copy clone without copying the contents of its
	storage. Signed-off-by: Kazuki Mizushima
	<mizushima.kazuk@jp.fujitsu.com>
	[40fdca283185]

	* virtinst/CloneManager.py:
	Add option to copy clone without copying the contents of its
	storage. Signed-off-by: Kazuki Mizushima
	<mizushima.kazuk@jp.fujitsu.com>
	[63ea0658cd14]

	* virtinst/CloneManager.py:
	revert 192 -- applied patches in wrong order
	[19bd362f3ae1]

	* virtinst/CloneManager.py:
	Clone a guest's configuration without actually cloning its storage.
	Signed-off-by: Kazuki Mizushima <mizushima.kazuk@jp.fujitsu.com>.
	[51e81b866a2a]

2007-05-25  "Daniel P. Berrange  <berrange@redhat.com>

	* Merge heads
	[7fd35e3303c6]

	* virt-clone, virtinst/CloneManager.py:
	Added support for sparse file cloning
	[08500047b222]

	* python-virtinst.spec.in, setup.py:
	Move virt-install & virt-clone to /usr/bin instead of sbin since
	QEMU driver can be used as non-root
	[409e69a6a428]

2007-05-24  "Hugh O. Brock  <hbrock@redhat.com>

	* tests/boot-fullyvirt-disk-block.xml, tests/boot-fullyvirt-disk-
	file.xml:
	Update tests to deal with new cdrom xml
	[6bb44f72be68]

	* virtinst/Guest.py:
	keymap validation should allow hyphens as well as underscores
	[308a1de5ee61]

2007-05-24  "Daniel P. Berrange  <berrange@redhat.com>

	* Merge heads
	[e0111ead3258]

	* virtinst/DistroManager.py:
	Fixed reference to acquireBootDisk method
	[f61c8ea6c168]

2007-05-23  "Hugh O. Brock  <hbrock@redhat.com>

	* virtinst/FullVirtGuest.py, virtinst/Guest.py:
	Hi,

	I made the patch that the HVM domain after install has non-source
	virtual CD-ROM device.

	The effect of this patch is the following.
	- Users doesn't need attach virtual CD-ROM device to install software
	and driver after installing the domain.
	- CD-ROM can be used only by executing xm block-configure.

	Could you apply this correction?

	Signed-off-by: Nobuhiro Itou <fj0873gn@aa.jp.fujitsu.com>

	 Thanks, Nobuhiro Itou.


	-----------------------------------------------------------
	[e65a50d9998b]

2007-05-21  "Daniel P. Berrange  <berrange@redhat.com>

	* man/en/virt-install.1:
	Unbreak generated man page after previous commit
	[b5297ff8ca09]

	* man/en/virt-clone.1, man/en/virt-clone.pod, man/en/virt-install.1,
	man/en/virt-install.pod, python-virtinst.spec.in, setup.py:
	Added man page for virt-clone too
	[4e080aaf967d]

	* virt-clone:
	Added persistent logging as per virt-install
	[c80495d19e38]

	* virt-install:
	Move logs into $HOME/.virtinst & fix Xen UID check
	[73bffb584a87]

	* MANIFEST.in, man/en/virt-install.1, man/en/virt-install.pod, python-
	virtinst.spec.in, setup.py:
	Added manual page for virt-install
	[234996fe2993]

2007-05-18  "Daniel P. Berrange  <berrange@redhat.com>

	* virt-clone, virtinst/CloneManager.py:
	Allow use as non-root & auto-guess HV
	[dedaa6808d0d]

2007-05-18  "Hugh O. Brock  <hbrock@redhat.com>

	* AUTHORS, virt-clone, virtinst/CloneManager.py:
	Initial commit for vm cloning. The virt-clone command will clone
	shut down VMs, including their storage. virt-clone --help describes
	the command set. Many thanks to Kazuki Mizushima.
	[c360c836131e]

2007-05-18  "Daniel P. Berrange  <berrange@redhat.com>

	* virt-install:
	Added persistent logging ( Nobuhiro Itou )
	[e11462a77df5]

	* virtinst/ParaVirtGuest.py:
	Replace xm console with virsh console
	[0ad5a9b32957]

2007-05-17  Mark McLoughlin  <markmc@redhat.com>

	* ChangeLog, virt-install, virtinst/LiveCDInstaller.py,
	virtinst/__init__.py:
	2007-04-17 Mark McLoughlin <markmc@redhat.com>

	 This patch adds a LiveCDInstaller class which has the simple
	job of setting up the cdrom disk and returning the appropriate
	<os> blob to boot from it.

	 * virt-install: add livecd installer type.

	 * virtinst/LiveCDInstaller.py: add LiveCDInstaller

	 * virtinst/__init__.py: expose it here
	[85efaff7a0a6]

	* ChangeLog, tests/capabilities-qemu.xml, tests/capabilities-test.xml,
	tests/capabilities-xen.xml, tests/capabilities.py,
	virtinst/CapabilitiesParser.py:
	2007-04-17 Mark McLoughlin <markmc@redhat.com>

	 * virtinst/CapabilitiesParser.py: adds a simple module
	for parsing libvirt's getCapabilities() XML.

	 * tests/capabilities.py: add some tests for the parser
	[e858508b7ec4]

	* ChangeLog, virt-install:
	2007-04-17 Mark McLoughlin <markmc@redhat.com>

	 * virt-install: add two new options to virt-install:
	          --nodisks - if creating a VM to run a livecd or a prebuilt
	system image, it is not neccessary to create another disk
	for the VM
	          --installer - this option allows the user to choose the
	installer type
	[2e8e15ff6314]

	* ChangeLog, virtinst/Guest.py:
	2007-04-17 Mark McLoughlin <markmc@redhat.com>

	 Not all installer types need the VM to be executed twice
	        - i.e. the "install" phase may not need the VM to be run, and
	we only start the VM post-install.

	 * virtinst/Guest.py: allow get_config_xml(install=True)
	to return None, causing the first VM run to be skipped.
	[fd1dddbdc59f]

	* ChangeLog, virt-install:
	2007-04-17 Mark McLoughlin <markmc@redhat.com>

	 * virt-install: clean up the two similar "start guest,
	check to see if it succeeded" code paths into a single code
	path.
	[ac952c4dd0eb]

	* ChangeLog, virt-install, virtinst/DistroManager.py,
	virtinst/Guest.py:
	2007-04-17 Mark McLoughlin <markmc@redhat.com>

	 * virt-install, virtinst/DistroManager.py,
	virtinst/Guest.py: The existing heuristic we use in virt-
	install to detect whether an install has completed
	successfully is dependant on the type of installer being
	used - i.e. if you create a VM with a livecd or a raw ext3
	image, there may be no disk with an MBR at the end. Move the
	post-install logic into a new DistroInstaller method.
	[bd03309508aa]

	* ChangeLog, virt-install:
	2007-04-17 Mark McLoughlin <markmc@redhat.com>

	 * virt-install: instantiate the appropriate guest type
	with a DistroInstaller instance. This should be the same as
	passing installer=None to the guest constructors.
	[c025506e430d]

	* ChangeLog, tests/xmlconfig.py, virtinst/DistroManager.py,
	virtinst/FullVirtGuest.py, virtinst/Guest.py,
	virtinst/ParaVirtGuest.py, virtinst/__init__.py:
	Add Installer and re-factor existing code into DistroInstaller

	 This patch re-factors things so as to introduce the concept of an
	"installer type". The idea is that we can create a VM using not only
	a typical distribution installer, but also e.g. a livecd installer
	or just a pre-built system image.

	To that end an Installer class is added which is orthogonal to the
	existing Guest class - i.e. the choice of installer is independant
	of the choice of fully virt vs. paravirt.

	In more detail the patch does the following:

	 + Adds the Installer base class - sub-classes are expected to
	implement the prepare() and get_os_blob() methods

	 + Moves the Guest type, scratchdir, boot, extraargs, location,
	and cdrom properties to the installer, but chains the original
	properties to the installer in order to maintain compatibility

	 + Rather than having Guest sub-classes implement get_runtime_xml()
	and get_install_xml(), they now implement get_osblob() and chain
	up to Installer.get_osblob() passing the installer parameters
	like hvm or arch

	 + Likewise, Guest sub-class implement a prepare_install() method
	which chains up to Installer.prepare() passing it parameters
	like need_bootdev and guest

	 + All the existing prepare() and get_osblob() logic from
	FullyVirtGuest and ParaVirtGuest is consolidated in a single
	DistroInstaller class

	 + In FullyVirtGuest we append the features XML to the osblob
	returned by the installer

	 + If ParaVirtGuest or FullyVirtGuest is not passed an installer
	instance, they create a DistroInstaller instance as a fallback

	 2007-04-17 Mark McLoughlin <markmc@redhat.com>

	 * virtinst/Guest.py: introduce a new Installer class which
	encapsulates the notion of how to install a guest, the idea
	being that we can install a guest using e.g. a distro
	installer, livecd or pre-built image.

	 * virtinst/FullVirtGuest.py, virtinst/ParaVirtGuest.py:
	re-factor out the prepare_install_location() and get_config_xml()
	stuff and chain up to the installer for it

	 * virtinst/DistroManager.py: add DistroInstaller which
	knows how to install using a distro iso or install tree

	 * virtinst/__init__.py: expose DistroManager

	 * tests/xmlconfig.py: update to use installer
	[b14c4d6a1744]

2007-05-01  "Daniel P. Berrange  <berrange@redhat.com>

	* virtinst/DistroManager.py:
	Added logic to detect RHEL5 client distro flavour
	[42e9479fa521]

	* virt-install, virtinst/util.py:
	Automatically pick sensible default networking if no arg is listed,
	rather than defaulting to xenbr0. Pick sensible connect URI based on
	host OS
	[5b37d71c88b6]

2007-04-30  Mark McLoughlin  <markmc@redhat.com>

	* virt-install, virtinst/Guest.py:
	[et-mgmt-tools] [patch 4/4] Remove the unused Guest.keymap property
	The Guest keymap property turns out to be unused, the keymap in the
	graphics property is what is actually used.

	Remove the property and move the keymap validation into the graphics
	property setter.

	Signed-off-by: Mark McLoughlin <markmc@redhat.com>
	[cdbbe109cf8d]

	* virt-install:
	[et-mgmt-tools] [patch 3/4] Remove duplicate call to FullVirtGuest()
	constructor Simple patch which makes use of the fact passing
	arch=None to the FullVirtGuest() constructor is perfectly valid.
	Remove one of the calls to the constructor.

	Signed-off-by: Mark McLoughlin <markmc@redhat.com>
	[21ba48e47d9c]

	* virtinst/FullVirtGuest.py:
	[et-mgmt-tools] [patch 2/4] Fix typo in hvm kernel/initrd XML Fixes
	a minor typo in the libvirt XML we output when booting qemu with a
	kernel/initrd - the <features> block should be outside the <os>
	block.

	Signed-off-by: Mark McLoughlin <markmc@redhat.com>
	[ba44389ce195]

	* virt-install:
	[et-mgmt-tools] [patch 1/4] Typo in kvm support Patch from David
	Lutterkort

	Fixes a minor type in kvm support where we reference a non-existent
	module.

	Signed-off-by: Mark McLoughlin <markmc@redhat.com>
	[00984cdd0c55]

2007-04-25  "Hugh O. Brock  <hbrock@redhat.com>

	* virtinst/Guest.py:
	Add change to Guest.py left out of last commit; Check number of
	vbds; can't be greater than 16. Thanks to Shigeki Sakamoto.
	[71f2046b9805]

	* virtinst/FullVirtGuest.py, virtinst/ParaVirtGuest.py:
	Check number of vbds; can't be greater than 16. Thanks to Shigeki
	Sakamoto.
	[25c7a1e8e7f1]

2007-04-24  "Daniel P. Berrange  <berrange@redhat.com>

	* virtinst/Guest.py:
	Fixed progress bar import
	[3a8d4b7d2fdb]

2007-04-17  "Hugh O. Brock  <hbrock@redhat.com>

	* virtinst/Guest.py:
	Add console reconnect patch and merge heads
	[31a333a9a5ba]

2007-04-17  Nobuhiro Itou  <fj0873gn@aa.jp.fujitsu.com>

	* virtinst/Guest.py:
	[et-mgmt-tools] [PATCH] Fix connecting console at domain restarting
	Hi,

	When I execute virt-install --paravirt --nographics, the serial
	console isn't connected after the domain restarting. The attached
	patch adds to solve this problem.

	Signed-off-by: Nobuhiro Itou <fj0873gn@aa.jp.fujitsu.com>

	 Thanks, Nobuhiro Itou.
	[f2564287112a]

2007-04-16  "Daniel P. Berrange  <berrange@redhat.com>

	* tests/xmlconfig.py:
	Fixed tests
	[3e881ff1f44c]

	* .hgtags:
	Added tag virtinst-0_103_0 for changeset 8fd89884ebf7
	[a95e91ce2fa0]

	* virtinst/Guest.py:
	Wait for domain to restart before trying console connection (
	Nobuhiro Itou)
	[8fd89884ebf7] [virtinst-0_103_0]

2007-04-15  "Daniel P. Berrange  <berrange@redhat.com>

	* Merge heads
	[27692467016b]

	* ChangeLog, NEWS, README, setup.py:
	Update for 0.103.0 release
	[f67a3a87b022]

	* virt-install, virtinst/FullVirtGuest.py:
	Change OS distro/variant type so that command line can give a short
	version instead of long label. Include OS distro key for image
	fetcher support
	[33d3330b538f]

	* virtinst/DistroManager.py:
	Change way Red Hat distro detection works to avoid GPG key name
	randomness
	[8dbe844c683c]

2007-04-13  "Daniel P. Berrange  <berrange@redhat.com>

	* tests/boot-fullyvirt-disk-block.xml, tests/boot-fullyvirt-disk-
	file.xml, tests/boot-paravirt-disk-block.xml, tests/boot-paravirt-
	disk-drv-file.xml, tests/boot-paravirt-disk-drv-phy.xml, tests/boot-
	paravirt-disk-drv-tap-qcow.xml, tests/boot-paravirt-disk-drv-
	tap.xml, tests/boot-paravirt-disk-file.xml, tests/boot-paravirt-
	many-disks.xml, tests/install-fullyvirt-disk-block.xml, tests
	/install-fullyvirt-disk-file.xml, tests/install-paravirt-disk-
	block.xml, tests/install-paravirt-disk-drv-file.xml, tests/install-
	paravirt-disk-drv-phy.xml, tests/install-paravirt-disk-drv-tap-
	qcow.xml, tests/install-paravirt-disk-drv-tap.xml, tests/install-
	paravirt-disk-file.xml, tests/install-paravirt-many-disks.xml,
	tests/xmlconfig.py:
	Fixed test suite UUID
	[c5d674528d03]

2007-04-12  "Daniel P. Berrange  <berrange@redhat.com>

	* virt-install:
	Check for mutually exclusive command line args (patch from Shigeki
	Sakamoto.
	[9052b47e88c4]

	* virtinst/Guest.py:
	Fixed typo in UUID validation regex
	[071b76772c92]

2007-04-04  "S.Sakamoto"  <fj0588di@aa.jp.fujitsu.com>

	* virtinst/Guest.py:
	[et-mgmt-tools] [PATCH] check a UUID format Hi

	When, for confirmation of a UUID check, I install it by virt-intall
	by an invalid UUID, (e.g."uuid=12345678-abcd-1234-cdef-
	1234567890abc"), virt-install is carried out without an error being
	given.

	So, here's the patch adds to check a UUID with the number of the
	characters:

	Signed-off-by: Shigeki Sakamoto <fj0588di@aa.jp.fujitsu.com>

	 Thanks, Shigeki Sakamoto.

	 ==========================================================
	[04ddef989ad7]

2007-04-02  "Hugh O. Brock  <hbrock@redhat.com>

	* AUTHORS, virt-install, virtinst/Guest.py:
	Do a better job validating user-submitted UUIDs. Thanks to Shigeki
	Sakamoto <fj0588di-at-aa-dot-jp-dot-fujitsu-dot-com>. Modified
	slightly to also accept straight 32-hex-character numbers for UUID
	without the hyphens, which are also valid even though libvirt
	doesn't accept them.
	[a0cd4816ebfd]

2007-03-29  "Hugh O. Brock  <hbrock@redhat.com>

	* virtinst/FullVirtGuest.py:
	Fix import problem, thanks to Nobuhiro Itou
	[e63d9c7f0a89]

2007-03-29  Tatsuro Enokura  <fj7716hz@aa.jp.fujitsu.com>

	* virtinst/Guest.py:
	Re: [et-mgmt-tools] [PATCH] HVM 3rd disk name don't use "hdc" Hi,
	Dan

	Tatsuro Enokura wrote: >>> I try that making the HVM domain with 3+
	disks by the virt-install command, >>> but the command says
	following error message: >>> # virt-install --name=HVM_3DISKS
	--file=/dev/sda6 --file=/dev/sda7 \ >>> --file=/dev/sda8 --hvm
	--vnc --ram=376 --cdrom=/dev/cdrom >> This is a ticky one ! We need
	to a) refuse to allow > 3 --file arguments >> to be used with HVM
	guests, and b) make sure the 3rd file gets given >> hdd as its
	device name. > > Thank you for your reviewing. > I rewite the patch.

	Would you give me a comment on this patch? If not, please apply it.

	Thanks, Tatsuro Enokura
	[72be2db58908]

2007-03-28  "Hugh O. Brock  <hbrock@redhat.com>

	* virt-install, virtinst/FullVirtGuest.py, virtinst/Guest.py:
	Support rebooting twice to handle Windows installs, among others.
	Additional reboot is controlled by the continue field in the
	dictionary in Guest.py. Thanks to Nobuhiro Itou.
	[0a4efe737df9]

	* virt-install:
	Fix mac address checking so your submitted mac address doesn't get
	zeroed if you don't also specify a network.
	[09ce92502cbe]

2007-03-28  Tatsuro Enokura  <fj7716hz@aa.jp.fujitsu.com>

	* virtinst/Guest.py:
	Re: [et-mgmt-tools] [PATCH] [RESEND]Check the making domain's mac
	address(part 2) Hi Hugh

	Hugh Brock wrote: > Actually now that I have thought some more about
	this, I don't think we > want to apply it at all. > > The current
	semantics of the --mac flag are as follows: > > 1. If --mac is
	specified, attempt to use that address. If it conflicts > with an
	in-use address, fail with an error > > 2. If --mac is not specified,
	choose an unused mac address at random. > > You would like to add
	the case wherein if --mac is specified and > conflicts with an
	existing mac address, a user can override the > conflict. However,
	we want operations with virt-install to be scriptable > -- that is,
	we do not ever want the script to halt waiting for input > unless it
	is obviously being run interactively. This means that, since a > mac
	address is never entered at a prompt, we can't put up a warning if >
	it conflicts. And I don't think we want to change the semantics to >
	always prompt for a mac address if it is not specified, since most
	users > aren't going to care what the mac address is anyway. > > One
	way we could address the underlying problem is to change the > mac-
	address conflict checking code in VirtualNetworkInterface.setup() so
	> that it prints a warning to the console or logs it, but continues
	with > the guest creation. I'm fine with this behavior, since it
	seems > reasonable to me that an installer might want to have
	multiple inactive > guests with the same mac address. Another
	alternative would be to fail > if there is an active guest with the
	same mac address, but only print a > warning (and continue) if there
	is an inactive guest with the same mac > address. I would take a
	patch for either scenario.

	I agree with your suggestion. I rewrite a patch that the mac-address
	conflict checking code in VirtualNetworkInterface.setup() so that it
	prints a warning to the stderr and logs.

	Thanks, Tatsuro Enokura
	[bb613fd6756f]

2007-03-27  "Hugh O. Brock  <hbrock@redhat.com>

	* virt-install:
	Backed out changeset a1f13a0e5b8288905efc6c40153b543257268b12. We
	explicitly do not want to prompt for mac address, we always want to
	choose randomly if it's not supplied. If it's supplied and
	conflicts, we want to error out.
	[5f874aafe698]

	* virt-install:
	Update mac address code to do a better job of checking and warning
	for duplicates.
	[a1f13a0e5b82]

2007-03-27  Nobuhiro Itou  <fj0873gn@aa.jp.fujitsu.com>

	* virtinst/FullVirtGuest.py:
	Re: [et-mgmt-tools] [PATCH][RESEND] RuntimeError message is error Hi

	Would you give me a comment on this patch? If not, please apply it.

	> The RuntimeError message becomes the error > "NameError: global
	name 'os_type' is not defined". > > The attached patch adds to solve
	this problem. > > Signed-off-by: Nobuhiro Itou
	<fj0873gn@aa.jp.fujitsu.com>

	 Thanks, Nobuhiro Itou.
	[36a9973c2e28]

2007-03-23  "Hugh O. Brock  <hbrock@redhat.com>

	* virt-install:
	Fix up warning messages for --check-cpu patch
	[8ac3199c83d1]

2007-03-23  Masayuki Sunou  <fj1826dm@aa.jp.fujitsu.com>

	* virt-install:
	Re: [et-mgmt-tools] [PATCH][RESEND] Add the option to guard maximums
	ofthenumber of virtual CPU by the number of physical CPU Hi,

	Would you give me a comment on this patch? If not, please apply it.

	> > Unless you can think of a compelling reason not to allow a user
	to do > > the above, I think we should not take this patch and leave
	the vcpu > > setting unbounded. However if you would like to send a
	patch that warns > > the user without imposing a hard limit, I think
	that would be reasonable. > > > I accepted your suggestion, and I
	made a patch again. > > This patch adds the option to warn when the
	number of virtual CPU is > more than the number of physical CPU.

	Signed-off-by: Masayuki Sunou <fj1826dm@aa.jp.fujitsu.com>

	Thanks, Masayuki Sunou

	 ===================================================================
	============
	[0a0d14fbfb80]

2007-03-21  "Hugh O. Brock  <hbrock@redhat.com>

	* virtinst/Guest.py:
	Allow '-' in domain names. Fixes bz 221485
	[aec5777422c0]

2007-03-21  "Daniel P. Berrange  <berrange@redhat.com>

	* virt-install, virtinst/Guest.py:
	Added support for attaching VIF to a network, or using slirp
	usermode networking (QEMU non-root)
	[784dcfa0775b]

2007-03-20  "Daniel P. Berrange  <berrange@redhat.com>

	* .hgtags:
	Added tag virtinst-0_102_0 for changeset
	8f7a361541f29d972762866cf8f9c786fbdc651f
	[112591870ae4]

	* ChangeLog, NEWS, python-virtinst.spec.in, setup.py:
	Updated for release 0.102.0
	[8f7a361541f2] [virtinst-0_102_0]

2007-03-20  Nobuhiro Itou  <fj0873gn@aa.jp.fujitsu.com>

	* virtinst/DistroManager.py:
	[et-mgmt-tools] [PATCH] RHEL5.0 guest cannot be installed by HTTP
	and NFS Hi,

	The RHEL5.0 guest domain cannot be installed by HTTP and NFS. "RPM-
	GPG-KEY" doesn't exist in RHEL5.0. Though I don't have confidence
	whether this way is the best, how about this correction?

	Signed-off-by: Nobuhiro Itou <fj0873gn@aa.jp.fujitsu.com>

	 Thanks, Nobuhiro Itou.
	[710c2960136f]

2007-03-16  "Hugh O. Brock  <hbrock@redhat.com>

	* virt-install, virtinst/Guest.py:
	Check and warn if a disk image is already being used by an active or
	inactive guest before installing. Thanks to Tatsuro Enokura
	<fj7716hz@aa-at-jp-dot-fujitsu-dot-com>.
	[73d38353c139]

2007-03-15  Nobuhiro Itou  <fj0873gn@aa.jp.fujitsu.com>

	* virtinst/DistroManager.py:
	[et-mgmt-tools] [PATCH] Fix paravirt install by NFS Hi,

	The paravirt domain cannot be installed by NFS. The attached patch
	adds to solve this problem.

	Signed-off-by: Nobuhiro Itou <fj0873gn@aa.jp.fujitsu.com>

	 Thanks, Nobuhiro Itou.
	[ecc4386895aa]

2007-03-15  "Hugh O. Brock  <hbrock@redhat.com>

	* AUTHORS:
	Add Tatsuro Enokura to AUTHORS (thanks for the patches)
	[c73505c17e05]

2007-03-15  Tatsuro Enokura  <fj7716hz@aa.jp.fujitsu.com>

	* virtinst/Guest.py, virtinst/util.py:
	Re: [et-mgmt-tools] [PATCH] Check the making domain's mac address
	Hi, Hugh

	Hugh Brock wrote: >>>>> The virt-install command can specify the
	making domain's vnif >>>>> MAC address. The MAC address must be
	unique on the system, >>>>> but the virt-install command doesn't
	check that >>>>> the MAC address is unique among the running domains
	and host. >>>>> >>>>> The attached patch resolve this issue in the
	following way: >>>>> >>>>> 1) Get the running Domain's vnif MAC
	address. >>>>> 2) Get the host's NIC MAC address. >>>>> 3) Check
	the making domain's MAC address with 1) and 2) 's data. >> >>>
	Actually, you really don't need to build up a list of mac addresses
	and >>> iterate over them. A much easier way is simply to get the
	XML for a >>> domain and then use an xpath expression something like
	>>> >>> if >>>
	ctx.xpathEval("count(/domain/devices/interface/mac/@address='%s')" %
	>>> macaddr) > 0: >>> # handle the case where the macaddr
	conflicts with an existing >>> domain >>> >>> If you can rewrite the
	patch along these lines I'll be happy to take it. >> >> Thank you
	for your suggestion. >> I rewrite the patch. > > I'm reviewing this
	now. I'm trying to work out if there's a way to do it > without
	repeating so much code... :)...

	Thank you for viewing my code. I rewrite the patch that the
	repeating code become the method.

	Thanks, Tatsuro Enokura

	--------------------------------------------------------------------
	[92c5fbb1d172]

2007-03-14  Nobuhiro Itou  <fj0873gn@aa.jp.fujitsu.com>

	* virt-install, virtinst/Guest.py:
	Re: [et-mgmt-tools] [PATCH][RESEND] connecting console after
	installcompletes Hi, Hugh

	> Two issues here: > > 1. The whole "restart the guest
	automatically" feature in virt-install > is a bit of a hack, and we
	are contemplating removing it altogether. The > problem is that
	virt-install has no real way of knowing whether the > guest that
	just shut down is really waiting to be rebooted, or is in > fact a
	failed install that the user would not want restarted anyway.

	Exactly. But, the "restart" hack is also true to help the user.
	Especially, the domain cannot be completely installed about Windows
	etc. with the reboot during the installation if it doesn't start
	automatically. Please keep autorestart function like --autorestart.

	> Having said this, as long as the "restart" hack is still there, I
	guess > I have no problem reconnecting the console as well. > > 2.
	Minor nit: instead of swallowing the error like > > +
	except OSError, (errno, msg): > + print __name__,
	"waitpid:", msg > > why not go ahead and raise a RuntimeError (and
	log the message) or > something similar?

	Okey. How about this correction?

	 Thanks, Nobuhiro Itou.
	[057e8c1b54df]

2007-03-13  "Hugh O. Brock  <hbrock@redhat.com>

	* virtinst/Guest.py:
	Handle future case where getByUUIDString returns None without
	throwing an error
	[6b63ce413aab]

2007-03-13  Tatsuro Enokura  <fj7716hz@aa.jp.fujitsu.com>

	* virtinst/Guest.py:
	Re: [et-mgmt-tools] [PATCH][RESEND}Check the starting domain's uuid
	Hi,

	Would you give me a comment on this patch? If not, please apply it.

	Tatsuro Enokura wrote: > The virt-install command has a problem that
	the information of > the existent domain is overwritten by virt-
	install command > specifing the domain's uuid. > Futhermore, the
	existent domain's set-up file is overwritten > on the xen-3.0.4. > >
	I make a patch checking the starting domain's uuid on Guest.py.

	Signed-off-by: Tatsuro Enokura <fj1826dm@aa.jp.fujitsu.com>

	Thanks, Tatsuro Enokura

	-------
	[bfb4725b35c8]

2007-03-13  "Hugh O. Brock  <hbrock@redhat.com>

	* virt-install:
	Clean up prompt a bit more...
	[d3a99e9754a8]

	* virt-install:
	Clean up prompt a bit
	[d4fdb43e35d1]

2007-03-13  Nobuhiro Itou  <fj0873gn@aa.jp.fujitsu.com>

	* virt-install:
	Re: [et-mgmt-tools] [PATCH][RESEND] "--file-size" option is ignored
	Hi, Dan

	Would you give me a comment on this patch? If not, please apply it.

	> When I execute "virt-install --file-size=10", > the value of
	"--file-size" option is ignored and the error message > "ERROR:
	float() argument must be a string or a number" is output > after I
	answer "What would you like to use as the disk (path)?". > > The
	attached patch adds to solve this problem. > > > Signed-off-by:
	Nobuhiro Itou <fj0873gn@aa.jp.fujitsu.com>

	 Thanks, Nobuhiro Itou.
	[9c1be02327ed]

2007-03-12  "Hugh O. Brock  <hbrock@redhat.com>

	* virt-install:
	Patch virt-install error handling to use callbacks. Thanks to Saori
	Fukuta <fukuta-dot-saori-at-jp-dot-fujitsu-dot-com>
	[95196b0f37a5]

2007-03-08  "Daniel P. Berrange  <berrange@redhat.com>

	* AUTHORS, tests/boot-fullyvirt-disk-block.xml, tests/boot-fullyvirt-
	disk-file.xml, tests/boot-paravirt-disk-block.xml, tests/boot-
	paravirt-disk-drv-file.xml, tests/boot-paravirt-disk-drv-phy.xml,
	tests/boot-paravirt-disk-drv-tap-qcow.xml, tests/boot-paravirt-disk-
	drv-tap.xml, tests/boot-paravirt-disk-file.xml, tests/boot-paravirt-
	many-disks.xml, tests/install-fullyvirt-disk-block.xml, tests
	/install-fullyvirt-disk-file.xml, tests/install-paravirt-disk-
	block.xml, tests/install-paravirt-disk-drv-file.xml, tests/install-
	paravirt-disk-drv-phy.xml, tests/install-paravirt-disk-drv-tap-
	qcow.xml, tests/install-paravirt-disk-drv-tap.xml, tests/install-
	paravirt-disk-file.xml, tests/install-paravirt-many-disks.xml,
	tests/xmlconfig.py:
	Extended tests to coverage vnc & sdl graphics
	[2e5b60ecbd93]

	* virt-install, virtinst/Guest.py:
	Added support for setting keymap. Signed off by: "Takahashi
	Tomohiro" <takatom@jp.fujitsu.com>
	[660a6db5a4be]

2007-03-02  "Daniel P. Berrange  <berrange@redhat.com>

	* virt-install:
	Fix restarting of guest after install completes
	[3e18fa0cafc4]

2007-03-01  "Hugh O. Brock  <hbrock@redhat.com>

	* virt-install:
	Make the vnc port number acquisition sane. Specifically, sleep in
	.25 second increments for 40 seconds while waiting for the guest's
	vnc server to wake up. Patch from Saori Fukuta <fukuta-dot-saori-at-
	jp-dot-fujitsu-dot-com>.
	[5a1190f54c80]

2007-02-28  "Daniel P. Berrange  <berrange@redhat.com>

	* AUTHORS, virtinst/Guest.py:
	Validate VNC port is >= 5900 Signed-off-by: Nobuhiro Itou
	<fj0873gn@aa.jp.fujitsu.com>
	[1776ef836bf6]

	* virt-install:
	Fixed checking of connection type for Xen Signed-off-by: Saori
	Fukuta <fukuta.saori@jp.fujitsu.com>
	[5f3f6ae01e2b]

	* AUTHORS, virtinst/Guest.py:
	Merge heads
	[a55969f95cb6]

2007-02-23  "Daniel P. Berrange  <berrange@redhat.com>

	* AUTHORS, virtinst/Guest.py:
	Further improvements to name validation from Jim Meyering
	[5e84e3e68e3f]

	* virtinst/Guest.py:
	Tweak error message at suggestion from Saori Fukuta
	[fe6b999dd8c8]

2007-02-27  "Hugh O. Brock  <hbrock@redhat.com>

	* AUTHORS, virtinst/Guest.py:
	Validate mac address if it is provided. Patch from Saori Fukuta
	<fukuta-dot-saori-at-jp-dot-fujitsu-dot-com>
	[57dbbb69dea0]

2007-02-21  "Daniel P. Berrange  <berrange@redhat.com>

	* AUTHORS, virtinst/Guest.py:
	Ensure VM names are not numeric only

	Signed-off-by: Saori Fukuta <fukuta.saori@jp.fujitsu.com>
	[982e9920511c]

2007-02-20  "Daniel P. Berrange  <berrange@redhat.com>

	* .hgtags:
	Added tag virtinst-0_101_0 for changeset
	8707deca1823a73a1ff46ac288d605408d6fe3f6
	[9aca876d3343]

	* MANIFEST.in:
	Added news & changelog to dist
	[8707deca1823] [virtinst-0_101_0]

	* NEWS:
	Add release notes
	[5f2da74ee230]

	* python-virtinst.spec.in:
	Increase dep on libvirt to 0.2.0
	[4d6fefc0d71d]

	* ChangeLog, README:
	Generate changelog
	[f514f0860a75]

	* Merge heads
	[f9a7ddd9e814]

	* setup.py:
	Bump version
	[367e527d66cc]

2007-02-16  "Daniel P. Berrange  <berrange@redhat.com>

	* virt-install, virtinst/FullVirtGuest.py, virtinst/Guest.py,
	virtinst/ParaVirtGuest.py:
	Allow architecture to be set. Added code to install QEMU via
	kernel/initrd instead of ISO. Disabled for now
	[a983726c8379]

	* virtinst/DistroManager.py:
	Baremetal images should come from images/pxeboot for Fedora
	[f95ac65e6de7]

	* tests/boot-fullyvirt-disk-block.xml, tests/boot-fullyvirt-disk-
	file.xml, virtinst/FullVirtGuest.py, virtinst/Guest.py,
	virtinst/ParaVirtGuest.py:
	Add idea of 'transient' disk which is only used for install, not the
	persistent config file
	[0440eade27e7]

	* virtinst/Guest.py:
	Moved console callback after check for guest startup. Don't allow
	NFS installs for non-root. Fixed close of filedescriptor in error
	conditions
	[488532c4fd01]

2007-02-14  "Daniel P. Berrange  <berrange@redhat.com>

	* virt-install, virtinst/FullVirtGuest.py, virtinst/Guest.py,
	virtinst/ParaVirtGuest.py, virtinst/util.py:
	Enable QEMU/KVM support via args --connect qemu:///session
	[4c8b15960d05]

	* tests/xmlconfig.py:
	Set os parameters
	[0fde951a4706]

	* virtinst/FullVirtGuest.py:
	Merge heads
	[ff1eb3052399]

	* .hgignore:
	Ignore coverage data files
	[510eab13dfb1]

	* tests/install-paravirt-disk-block.xml, tests/install-paravirt-disk-
	drv-file.xml, tests/install-paravirt-disk-drv-phy.xml, tests
	/install-paravirt-disk-drv-tap-qcow.xml, tests/install-paravirt-
	disk-drv-tap.xml, tests/install-paravirt-disk-file.xml, tests
	/install-paravirt-many-disks.xml, virtinst/DistroManager.py,
	virtinst/FullVirtGuest.py, virtinst/Guest.py,
	virtinst/ParaVirtGuest.py:
	Refactor the kernel/image fetching to deal with different distros &
	more flexibility for equivalence between full & para virt
	capabilities
	[e728d35db9bf]

	* autobuild.sh, setup.py, tests/coverage.py:
	Enable code coverage for unit tests
	[882e19f29564]

2007-02-01  "Daniel P. Berrange  <berrange@redhat.com>

	* tests/boot-fullyvirt-disk-block.xml, tests/boot-fullyvirt-disk-
	file.xml, tests/boot-paravirt-disk-block.xml, tests/boot-paravirt-
	disk-drv-file.xml, tests/boot-paravirt-disk-drv-phy.xml, tests/boot-
	paravirt-disk-drv-tap-qcow.xml, tests/boot-paravirt-disk-drv-
	tap.xml, tests/boot-paravirt-disk-file.xml, tests/boot-paravirt-
	many-disks.xml, tests/install-fullyvirt-disk-block.xml, tests
	/install-fullyvirt-disk-file.xml, tests/install-paravirt-disk-
	block.xml, tests/install-paravirt-disk-drv-file.xml, tests/install-
	paravirt-disk-drv-phy.xml, tests/install-paravirt-disk-drv-tap-
	qcow.xml, tests/install-paravirt-disk-drv-tap.xml, tests/install-
	paravirt-disk-file.xml, tests/install-paravirt-many-disks.xml,
	tests/xmlconfig.py, virtinst/Guest.py:
	Added support for setting maximum memory for boot
	[c0fb121cdf62]

2007-02-13  "Hugh O. Brock  <hbrock@redhat.com>

	* virt-install, virtinst/FullVirtGuest.py:
	Add an OS dictionary for full-virt guests so callers can specify an
	os-type and os-variant, which will in turn correctly set apic and
	acpi for the guest. Also allow callers to set --noapic and --noacpi
	directly
	[23382c1d1495]

2007-01-29  "Daniel P. Berrange  <berrange@redhat.com>

	* .hgignore, MANIFEST.in, autobuild.sh, python-virtinst.spec.in:
	Added autobuild control file for build/test automation purposes
	[774d4b9b629d]

2007-01-26  "Daniel P. Berrange  <berrange@redhat.com>

	* setup.py, tests/__init__.py, tests/xmlconfig.py, virt-install,
	virtinst/FullVirtGuest.py, virtinst/Guest.py,
	virtinst/ParaVirtGuest.py:
	Allow both PV & FV installs to be done from device,file,http,nfs,ftp
	sources, thus pulling all setup into Guest.py
	[5742b7ccb6be]

	* setup.py, tests/xmlconfig.py:
	Added a 'test' command to setup.py to run unit tests
	[6d6390ea98e8]

	* tests/boot-fullyvirt-disk-block.xml, tests/boot-fullyvirt-disk-
	file.xml, tests/install-fullyvirt-disk-block.xml, tests/install-
	fullyvirt-disk-file.xml, virtinst/FullVirtGuest.py:
	Add a serial port for all HVM guests
	[cd75bbb588e4]

2007-01-25  "Daniel P. Berrange  <berrange@redhat.com>

	* virtinst/FullVirtGuest.py, virtinst/Guest.py,
	virtinst/ParaVirtGuest.py, virtinst/__init__.py:
	Added in back-compat classes
	[18ce957e8193]

	* virtinst/ParaVirtGuest.py:
	Fixed errors in NFS installs
	[2ab5cde6f741]

2007-01-22  "Daniel P. Berrange  <berrange@redhat.com>

	* .hgtags:
	Added tag virtinst-0_100_0 for changeset
	a7820501d7ec143efcbf3dbb7e1e71d1d4e415e6
	[2c7176fccb80]

	* setup.py:
	Bump version to 0.100.0
	[a7820501d7ec] [virtinst-0_100_0]

	* virt-install:
	Fixed missing import of libvirt
	[0be22987a185]

2007-01-17  "Daniel P. Berrange  <berrange@redhat.com>

	* tests/boot-fullyvirt-disk-block.xml, tests/boot-fullyvirt-disk-
	file.xml, tests/boot-paravirt-disk-block.xml, tests/boot-paravirt-
	disk-drv-file.xml, tests/boot-paravirt-disk-drv-phy.xml, tests/boot-
	paravirt-disk-drv-tap-qcow.xml, tests/boot-paravirt-disk-drv-
	tap.xml, tests/boot-paravirt-disk-file.xml, tests/boot-paravirt-
	many-disks.xml, tests/data-fullyvirt-disk-block.xen, tests/data-
	fullyvirt-disk-block.xml, tests/data-fullyvirt-disk-file.xen, tests
	/data-fullyvirt-disk-file.xml, tests/data-paravirt-disk-block.xen,
	tests/data-paravirt-disk-block.xml, tests/data-paravirt-disk-drv-
	file.xen, tests/data-paravirt-disk-drv-file.xml, tests/data-
	paravirt-disk-drv-phy.xen, tests/data-paravirt-disk-drv-phy.xml,
	tests/data-paravirt-disk-drv-tap-qcow.xen, tests/data-paravirt-disk-
	drv-tap-qcow.xml, tests/data-paravirt-disk-drv-tap.xen, tests/data-
	paravirt-disk-drv-tap.xml, tests/data-paravirt-disk-file.xen, tests
	/data-paravirt-disk-file.xml, tests/data-paravirt-many-disks.xen,
	tests/data-paravirt-many-disks.xml, tests/install-fullyvirt-disk-
	block.xml, tests/install-fullyvirt-disk-file.xml, tests/install-
	paravirt-disk-block.xml, tests/install-paravirt-disk-drv-file.xml,
	tests/install-paravirt-disk-drv-phy.xml, tests/install-paravirt-
	disk-drv-tap-qcow.xml, tests/install-paravirt-disk-drv-tap.xml,
	tests/install-paravirt-disk-file.xml, tests/install-paravirt-many-
	disks.xml, tests/xenconfig.py, tests/xmlconfig.py, virt-install,
	virtinst/FullVirtGuest.py, virtinst/Guest.py,
	virtinst/ParaVirtGuest.py, virtinst/XenGuest.py,
	virtinst/__init__.py:
	Update to use libvirt inactive domain support for creating configs.
	Removed Xen specific bits
	[ffed74b54779]

2007-01-10  "Hugh O. Brock  <hbrock@redhat.com>

	* virtinst/XenGuest.py:
	Finish command-line progress bar fixes
	[1f5a3fc541fa]

2007-01-05  "Hugh O. Brock  <hbrock@redhat.com>

	* virt-install, virtinst/ParaVirtGuest.py, virtinst/XenGuest.py:
	Add progress bar hooks to virtinst. It will now automatically
	display a progress bar on the command line for paravirt guests
	(full-virt bits coming soon).
	[25dd626a3f96]

2006-12-15  "Jeremy Katz  <katzj@redhat.com>

	* .hgtags:
	Added tag virtinst-0_99_0 for changeset b40441df89e9
	[ebc0da7a356d]

	* setup.py:
	bump version
	[b40441df89e9] [virtinst-0_99_0]

	* virtinst/ParaVirtGuest.py:
	support new pvfb xen config (patch from berrange)
	[76060fa00654]

2006-12-12  gcosta  <gcosta@redhat.com>

	* virt-install:
	Added exception instance to get_memory() exception

	stoping virt-install to crash when a wrong parameter is passed.
	[1e5769665e58]

2006-12-01  "Jeremy Katz  <katzj@redhat.com>

	* virtinst/XenGuest.py:
	don't sleep for 2 seconds unconditionally; just wait for the domain
	to be up (#212024)
	[9e34ad1488a1]

2006-11-30  "Jeremy Katz  <katzj@redhat.com>

	* .hgtags:
	Added tag virtinst-0_98_0 for changeset
	f75f4efc41ead6b3ec4b111cbaef062393bfe183
	[263d871aae53]

	* setup.py:
	bump version
	[f75f4efc41ea] [virtinst-0_98_0]

	* virt-install, virtinst/XenGuest.py:
	allow nonsparse disk files (#217764)
	[51466ec666a7]

2006-11-20  "Jeremy Katz  <katzj@redhat.com>

	* .hgtags:
	Added tag virtinst-0_97_0 for changeset
	f8f6d44cbcaf04e0906b14ec46265fd665081bda
	[acf7dca2ea7e]

	* setup.py:
	0.97
	[f8f6d44cbcaf] [virtinst-0_97_0]

	* virt-install:
	shenanigans to handle specifying multiple disks or nics (#215726)
	[fc5fef92cb7d]

	* virtinst/XenGuest.py:
	figure out default bridge at setup() time
	[43eda001e77a]

2006-11-15  "Hugh O. Brock  <hbrock@redhat.com>

	* virtinst/XenGuest.py:
	Add validation to vm name
	[e8b312c53362]

2006-11-15  "Daniel P. Berrange  <berrange@redhat.com>

	* AUTHORS, virt-install, virtinst/XenGuest.py, virtinst/util.py:
	Added patch from Glauber to auto-detect primary bridge based on
	default network route (bz#201626 & #207210)[D
	[411b1cdfe183]

2006-10-20  "Jeremy Katz  <katzj@redhat.com>

	* virt-install:
	require uid == 0 (#211537)
	[24affa40e859]

2006-10-18  "Jeremy Katz  <katzj@redhat.com>

	* .hgtags:
	Added tag virtinst-0_96_0 for changeset
	9ee6fa56dd127a829f1a0373b61687440f95e8d9
	[67ed9a0512a0]

	* setup.py:
	bump version
	[9ee6fa56dd12] [virtinst-0_96_0]

	* virtinst/util.py:
	better way to check for hvm capable (#211276)
	[787d07346aaf]

	* virtinst/ParaVirtGuest.py:
	cleanup on nfs failure (#206196)
	[663a49221c9c]

	* virt-install:
	actually helps to use the vcpu option
	[80513d48316b]

2006-10-13  "Jeremy Katz  <katzj@redhat.com>

	* .hgtags:
	Added tag virtinst-0_95_1 for changeset
	7a0f39f731dbd0d5aa21e9d3d97fb64fcb4441b8
	[6077694e7d2e]

	* setup.py:
	bump version
	[7a0f39f731db] [virtinst-0_95_1]

	* virt-install:
	add support for setting vcpus
	[c1a2ab6c62d5]

2006-10-12  "Jeremy Katz  <katzj@redhat.com>

	* .hgtags:
	Added tag virtinst-0_95_0 for changeset
	560b7e3b790b1e25cf8d0e7109c9dd5b2b0ff9be
	[128ab2bd8985]

	* README, setup.py, tests/xenconfig.py, tests/xmlconfig.py, virt-
	install, virtinst/FullVirtGuest.py, virtinst/ParaVirtGuest.py,
	virtinst/XenGuest.py, virtinst/__init__.py, virtinst/util.py,
	xenguest-install, xeninst/FullVirtGuest.py,
	xeninst/ParaVirtGuest.py, xeninst/XenGuest.py, xeninst/__init__.py,
	xeninst/util.py:
	rename to virtinst
	[560b7e3b790b] [virtinst-0_95_0]

2006-10-05  "Daniel P. Berrange  <berrange@redhat.com>

	* .hgignore, tests/data-fullyvirt-disk-block.xen, tests/data-
	fullyvirt-disk-block.xml, tests/data-fullyvirt-disk-file.xen, tests
	/data-fullyvirt-disk-file.xml, tests/data-paravirt-disk-block.xen,
	tests/data-paravirt-disk-block.xml, tests/data-paravirt-disk-drv-
	file.xen, tests/data-paravirt-disk-drv-file.xml, tests/data-
	paravirt-disk-drv-phy.xen, tests/data-paravirt-disk-drv-phy.xml,
	tests/data-paravirt-disk-drv-tap-qcow.xen, tests/data-paravirt-disk-
	drv-tap-qcow.xml, tests/data-paravirt-disk-drv-tap.xen, tests/data-
	paravirt-disk-drv-tap.xml, tests/data-paravirt-disk-file.xen, tests
	/data-paravirt-disk-file.xml, tests/data-paravirt-many-disks.xen,
	tests/data-paravirt-many-disks.xml, tests/xenconfig.py,
	tests/xmlconfig.py, xenguest-install, xeninst/FullVirtGuest.py,
	xeninst/ParaVirtGuest.py, xeninst/XenGuest.py, xeninst/util.py:
	Added support for setting individual disk drivers & made blktap
	default. Added test suite, added logging
	[27e33caef8c9]

2006-10-03  "Jeremy Katz  <katzj@redhat.com>

	* .hgtags:
	Added tag xeninst-0_94_0 for changeset
	7a2586529ba1a869cfb0b7d1d5f6729da987e464
	[7b81f0fcb161]

	* xeninst/XenGuest.py:
	fix handling of block based devs (#209138)
	[7a2586529ba1] [xeninst-0_94_0]

2006-09-26  "Daniel P. Berrange  <berrange@redhat.com>

	* xeninst/ParaVirtGuest.py:
	Fix raising of errors for invalid http & nfs install locations
	[7e1236740f3f]

2006-09-21  "Daniel P. Berrange  <berrange@redhat.com>

	* xeninst/FullVirtGuest.py, xeninst/ParaVirtGuest.py:
	Write out vcpu setting to XM config
	[d595d0330c59]

	* .hgignore:
	Ignore generated files
	[7763b1aa9bd4]

2006-09-20  "Jeremy Katz  <katzj@redhat.com>

	* .hgtags:
	Added tag xeninst-0_93_0 for changeset
	5c72121900824d7c8e0552e6596fc0e148ce5b40
	[f67aed467932]

	* setup.py:
	0.93
	[5c7212190082] [xeninst-0_93_0]

2006-09-20  "Daniel P. Berrange  <berrange@redhat.com>

	* xeninst/FullVirtGuest.py:
	Ensure type=ioemu is set for HVM network XM config
	[3de16d4d36a3]

2006-09-19  "Daniel P. Berrange  <berrange@redhat.com>

	* xeninst/FullVirtGuest.py, xeninst/util.py:
	Enable PAE for fully virt if host system supports PAE
	[343a07e54fea]

	* xeninst/FullVirtGuest.py:
	Fixed source element for fully virt CDROM backed to host Cdrom
	device. Remove ioemu: prefix which is bogus
	[1c7edbaf1445]

2006-09-14  "Daniel P. Berrange  <berrange@redhat.com>

	* xeninst/XenGuest.py:
	Explicitly turn off vncunsed otherwise our requested port is ignored
	[5ce044228c12]

	* xeninst/XenGuest.py:
	Fix handling of virtual disks backed by block devices rather than
	files
	[3966ca5d6d91]

2006-09-12  "Jeremy Katz  <katzj@redhat.com>

	* xenguest-install:
	actually check if we're on a xen kernel (#205889) add some sdl
	support (untested)
	[0ead02fd9ab4]

2006-09-05  "Jeremy Katz  <katzj@redhat.com>

	* xeninst/XenGuest.py:
	default to vncunused
	[a7ee7399bf81]

	* xenguest-install:
	fix tyop, make memory an int
	[0ec8dbfd35d6]

2006-08-31  "Jeremy Katz  <katzj@redhat.com>

	* xeninst/XenGuest.py:
	allow --vncport=-1 ==> vncunused.
	[806fa934fb56]

2006-08-30  "Jeremy Katz  <katzj@redhat.com>

	* .hgtags:
	Added tag xeninst-0_92_0 for changeset
	2e8629eba0863ce5dc1d4afd5258c9828a47d2bb
	[533a0ffc35f3]

	* setup.py:
	bump version
	[2e8629eba086] [xeninst-0_92_0]

	* xenguest-install, xeninst/FullVirtGuest.py,
	xeninst/ParaVirtGuest.py, xeninst/XenGuest.py:
	support for rebooting the domain when the installation is thought to
	be finished. there's a bit of heuristic present (we look for the
	disk to be bootable) but it seems better than nothing
	[ba3057941853]

	* xenguest-install, xeninst/ParaVirtGuest.py, xeninst/XenGuest.py:
	fix what we display to be right about whether or not the domain is
	really still running or not
	[4fff5d229ffa]

	* xeninst/XenGuest.py:
	fix passing mac addr
	[e980b4312587]

	* xenguest-install:
	fix interactive mode (patch from misa)
	[4d68b9bf8a8c]

2006-08-29  "Jeremy Katz  <katzj@redhat.com>

	* .hgtags:
	Added tag xeninst-0_91_0 for changeset
	57b6ff5c7c687c3ff699ed252e243a79a4c93ac3
	[5ccc94034669]

	* README, setup.py:
	bump version
	[57b6ff5c7c68] [xeninst-0_91_0]

	* xenguest-install, xeninst/ParaVirtGuest.py, xeninst/XenGuest.py:
	support spawning vncviewer or xm console as appropriate for the
	console case.
	[d31935c8621b]

2006-08-28  "Jeremy Katz  <katzj@redhat.com>

	* xeninst/FullVirtGuest.py, xeninst/XenGuest.py:
	fix defaults for graphics. also, fix FV installs
	[76eeb332e6d9]

	* xenguest-install, xeninst/FullVirtGuest.py,
	xeninst/ParaVirtGuest.py, xeninst/XenGuest.py:
	add some support for setting up graphics (vnc or sdl) for both PV
	and FV guests. only expose vnc via xenguest-install

	also, add features to FullVirt guests a little bit more sanely
	[e225cab985ed]

2006-08-26  "Jeremy Katz  <katzj@redhat.com>

	* xenguest-install, xeninst/FullVirtGuest.py,
	xeninst/ParaVirtGuest.py, xeninst/XenGuest.py:
	make start_install a little bit more generic and push it up to
	XenGuest, add the bits for a console callback method instead of just
	having an 'xm console' call
	[1b9591c9e8bc]

	* xenguest-install:
	don't loop endlessly if ram < MIN_RAM
	[8b9a605f6a4b]

2006-08-21  "Jeremy Katz  <katzj@redhat.com>

	* .hgtags:
	Added tag xeninst-0_90_1 for changeset
	04de889a7913a6627be1f9c5e64ccb9b43923a83
	[01240ab480e3]

	* setup.py:
	0.90.1
	[04de889a7913] [xeninst-0_90_1]

	* xenguest-install:
	fix tab/space mixups
	[6a79a5d8912f]

2006-08-16  "Jeremy Katz  <katzj@redhat.com>

	* .hgtags:
	Added tag xeninst-0_90_0 for changeset
	b9b0c26c43ac9cb72ec6a97744bf4d848d4008e6
	[629746bc3e6c]

	* setup.py:
	need to set version here too
	[b9b0c26c43ac] [xeninst-0_90_0]

	* .hgtags:
	Added tag xeninst-0_90_0 for changeset
	5c415fab3aab716e0c7bbe136593a4151e6df494
	[2574f179804e]

	* xeninst/FullVirtGuest.py, xeninst/ParaVirtGuest.py:
	adjust for libvirt 0.1.4 changes. FV guest installs work now
	[5c415fab3aab]

	* xeninst/XenGuest.py:
	use the disk node type for the xen disk config too
	[db982552777a]

2006-08-15  "Jeremy Katz  <katzj@redhat.com>

	* merge
	[2697e6200e3c]

	* setup.py, xenguest-install:
	make them executable
	[c23bfb2eacf9]

	* setup.py, xenguest-install, xenguest-install.py:
	* rename xenguest-install.py -> xenguest-install
	* add a setup.py
	[aeed403f35ab]

	* README:
	add a readme
	[c42e8956ef45]

	* xenguest-install.py:
	fix extraargs
	[cf4ac306cab8]

2006-08-10  "Jeremy Katz  <katzj@redhat.com>

	* xeninst/ParaVirtGuest.py:
	give the error to help people diagnosing problems (per a comment on
	my blog)
	[8a5e11a80a02]

2006-08-09  "Jeremy Katz  <katzj@redhat.com>

	* xenguest-install.py:
	prompt for cd bits
	[343d4e96f320]

	* xeninst/FullVirtGuest.py:
	first pass at full virt installs. doesn't currently work due to
	libvirt not fully understanding cd devices for hvm guests
	[927ce0645782]

	* xeninst/ParaVirtGuest.py:
	use common bits from XenGuest, define disk to be xvd, remove some
	extraneous quotes
	[41aa1b38a546]

	* xeninst/XenGuest.py:
	disk and network xml/xen methods can be shared between PV and FV
	[5868f760fd85]

	* xeninst/ParaVirtGuest.py:
	fix type of boot to be a tuple properly. also take a dict
	[208313b93e92]

	* xeninst/ParaVirtGuest.py:
	allow specifying just the boot kernel + initrd instead of just
	booting them via location for koan's use
	[35c3c080d448]

2006-08-08  "Jeremy Katz  <katzj@redhat.com>

	* xenguest-install.py, xeninst/FullVirtGuest.py,
	xeninst/ParaVirtGuest.py, xeninst/XenGuest.py, xeninst/__init__.py,
	xeninst/util.py:
	first pass at breaking up xenguest-install to have more of a usable
	API. currently only works for paravirt and some of the bits after
	the install gets started are still a little less than ideal
	[6f612cc86dd1]

